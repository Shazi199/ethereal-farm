var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var ca=ba(this);
function da(a,b){if(b)a:{var d=ca;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];if(!(f in d))break a;d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}da("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var d=Math.floor(Math.abs(b));return 0>b?-d:d}});da("Math.log2",function(a){return a?a:function(b){return Math.log(b)/Math.LN2}});
da("Math.log10",function(a){return a?a:function(b){return Math.log(b)/Math.LN10}});
var z=function(){function a(r,w){r=287867*(r%2147483648^1147483648^w)&2147483647;r^=1111111111;r=287867*r&2147483647;return r/2147483648}function b(r,w){w-=(""+r).length;if(0>=w)return r;for(var t="",G=0;G<w;G++)t+="0";return t+r}function d(r,w,t,G,D){function T(){return""==S?"":" "}t=t||(2==w?4:3);if(isNaN(r))return"NaN";if(0>r)return"-"+d(-r);if(Infinity==r)return"Infinity "+(w?"s":" seconds");D||(r=Math.ceil(r));if(1==w){if(315576E5<=r)return r=v(r/315576E5).toString(),r+("1"==r?" millenium":" millenia");
if(31557600<=r)return r=v(r/31557600).toString(),r+("1"==r?" year":" years");if(2332800<=r)return r=v(r/86400).toString(),r+("1"==r?" day":" days")}D=r;r=Math.floor(r);var I=0,Ha=0,P=0,va=0,Wa=0,M=0;!(G&&6>t)&&31557600<=r&&(I=Math.floor(r/315576E5),r-=315576E5*I);!(G&&6>t)&&31557600<=r&&(Ha=Math.floor(r/31557600),r-=31557600*Ha);!(G&&5>t)&&2635200<=r&&(P=Math.floor(r/2635200),r-=2635200*P);!(G&&4>t)&&86400<=r&&(va=Math.floor(r/86400),r-=86400*va);!(G&&3>t)&&3600<=r&&(Wa=Math.floor(r/3600),r-=3600*
Wa);!(G&&2>t)&&60<=r&&(M=Math.floor(r/60),r-=60*M);var K=w?"mm Y M d h m s".split(" "):" millenium; year; month; day; hour; minute; second".split(";"),J=w?"mm Y M d h m s".split(" "):" millenia; years; months; days; hours; minutes; seconds".split(";");if(1==w&&0==Wa&&0==M&&0==r&&0!=va&&0==I&&0==Ha&&0==P)return v(va).toString()+(1==va?" day":" days");var S="";if(G)0<I&&(S+=T()+v(I).toString()+K[0]),0<Ha&&(S+=T()+Ha+K[1]),0<P&&(S+=T()+P+K[2]),0<va&&(S+=T()+va+K[3]),0<Wa&&(S+=T()+Wa+K[4]),0<M&&(S+=T()+
M+K[5]),0<r&&(S+=T()+r+K[6]);else if(w=0,0<I&&(S+=T()+v(I).toString()+(1==I?K[0]:J[0]),++w>=t)||0<Ha&&(S+=T()+Ha+(1==Ha?K[1]:J[1]),++w>=t)||0<P&&(S+=T()+P+(1==P?K[2]:J[2]),++w>=t)||0<va&&(S+=T()+va+(1==va?K[3]:J[3]),++w>=t)||0<Wa&&(S+=T()+Wa+(1==Wa?K[4]:J[4]),++w>=t)||0<M&&(S+=T()+M+(1==M?K[5]:J[5]),++w>=t)||0<r&&(S+=T()+r+(1==r?K[6]:J[6]),++w>=t))return S;""==S&&(S=D.toFixed(3)+J[6]);return S}function e(r){var w=Math.floor(r[0]).toString(16),t=Math.floor(r[1]).toString(16);r=Math.floor(r[2]).toString(16);
1==w.length&&(w="0"+w);1==t.length&&(t="0"+t);1==r.length&&(r="0"+r);return"#"+w+t+r}function f(r){"black"==r&&(r="#000000");"white"==r&&(r="#ffffff");"red"==r&&(r="#ff0000");"green"==r&&(r="#00ff00");"blue"==r&&(r="#0000ff");"yellow"==r&&(r="#00ffff");4==r.length&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]}function g(r,w){k()&&(window.localStorage[w]=r?r:"")}function k(){try{return"localStorage"in window&&null!==
window.localStorage}catch(r){return!1}}function h(r,w){history&&history.replaceState?w?history.replaceState(void 0,void 0,"#"+r+"="+w):window.location.hash&&history.replaceState(void 0,void 0,"#"):w?window.location.hash="#"+r+"="+w:window.location.hash&&(window.location.hash="")}function l(r){if(null==r||"object"!=typeof r)return r;if(r instanceof Array){for(var w=[],t=0,G=r.length;t<G;t++)w[t]=l(r[t]);return w}if(r instanceof Object){w=new r.constructor;for(t in r)r.hasOwnProperty(t)&&(w[t]=l(r[t]));
return w}throw Error("Cloning this object not supported.");}function m(r,w){var t=Array.prototype.slice.call(arguments,1);return function(){return r.apply(this,t.concat(Array.prototype.slice.call(arguments)))}}function p(r,w,t,G,D,T){r=q(r,T);r.style.position="absolute";r.style.left=w&&w.length&&"%"==w[w.length-1]?w:Math.floor(w)+"px";r.style.top=t&&t.length&&"%"==t[t.length-1]?t:Math.floor(t)+"px";r.style.width=G&&G.length&&"%"==G[G.length-1]?G:Math.floor(G)+"px";r.style.height=D&&D.length&&"%"==
D[D.length-1]?D:Math.floor(D)+"px";return r}function q(r,w){w=w||document.body;r=document.createElement(r);"doNotAddToParent"!=w&&w.appendChild(r);return r}var n={Eh:"doNotAddToParent"};n.he=q;n.hh=function(r){r=q("span",r);r.style.position="absolute";r.style.left="0px";r.style.top="0px";return r};n.Oc=p;n.ab=function(r){if(r){var w=r.parentNode;w&&w.contains(r)&&w.removeChild(r)}};n.gh=function(r,w,t,G,D){return p("div",r,w,t,G,D)};n.bind=m;n.clone=l;n.Ph=function(r,w,t){return r.substr(w,t.length)==
t};n.Kh=function(r,w){r=l(r);for(var t in w)w.hasOwnProperty(t)&&(r[t]=w[t]);return r};n.Gh=function(r,w){w=w||window.location.href;r=r.replace(/[\[\]]/g,"\\$&");return(r=(new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)")).exec(w))?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};n.Hh=function(r,w){w=w||window.location.href;r=r.replace(/[\[\]]/g,"\\$&");return(r=(new RegExp("[#&]"+r+"(=([^&#]*)|&|#|$)")).exec(w))?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};n.Nh=h;n.zh=function(){h("",
null)};n.Ih=function(){var r=window.location.href,w=r.indexOf("?");0<=w&&(r=r.substr(0,w));w=r.indexOf("#");0<=w&&(r=r.substr(0,w));return r};n.Bh=function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};n.Jh=k;n.ub=g;n.Ja=function(r,w){return k()&&void 0!=window.localStorage[r]?window.localStorage[r]:w};n.hb=function(r){k()&&g(void 0,r)};n.mh=function(r){function w(){r();requestAnimationFrame(function(){window.setTimeout(w,t)})}var t=
ea;window.setTimeout(w,t)};n.Ah=function(r){r()};n.Oh=function(r,w){var t=(new Date).getTime(),G=!1;requestAnimationFrame(function(){G||(w-=(new Date).getTime()-t,0<w?window.setTimeout(function(){G||r()},w):r())});return function(){G=!0}};n.Ch=function(r){r()};n.Dh=function(r,w){w=w||.5;r=f(r);r[0]=Math.floor(r[0]*w);r[1]=Math.floor(r[1]*w);r[2]=Math.floor(r[2]*w);return e(r)};n.Lh=function(r){var w=f(r);r=w[0];var t=w[1];w=w[2];var G=Math.min(Math.min(r,t),w)+Math.max(Math.max(r,t),w);return e([255-
G+r,255-G+t,255-G+w])};n.Fh=function(r){r=f(r);return 128<.299*r[0]+.587*r[1]+.114*r[2]?"#000":"#fff"};n.bh=function(r){r=f(r);return 128<.299*r[0]+.587*r[1]+.114*r[2]?e([.25*r[0],.25*r[1],.25*r[2]]):e([255-.25*(255-r[0]),255-.25*(255-r[1]),255-.25*(255-r[2])])};n.J=d;n.qc=function(r,w){r=new Date(1E3*r);var t=""+b(r.getFullYear(),4);w||(t+="-");t+=b(r.getMonth()+1,2);w||(t+="-");t+=b(r.getDate(),2);t=t+(w?"T":" ")+b(r.getHours(),2);w||(t+=":");t+=b(r.getMinutes(),2);w||(t+=":");return t+=b(r.getSeconds(),
2)};var x=["","M","MM","MMM"],y=" C CC CCC CD D DC DCC DCCC CM".split(" "),B=" X XX XXX XL L LX LXX LXXX XC".split(" "),u=" I II III IV V VI VII VIII IX".split(" ");n.Ib=function(r){return 1>r||3999<r?r.toString():x[Math.floor(r/1E3)]+y[Math.floor(r/100)%10]+B[Math.floor(r/10)%10]+u[r%10]};n.mg=function(r,w,t){var G=0==w;if(2047==w)return r?t?NaN:-Infinity:t?NaN:Infinity;w-=1023;G&&w++;t/=Math.pow(2,52);G||(t+=1);w=t*Math.pow(2,w);r&&(w=-w);return w};n.ng=function(r){var w=0;0>r&&(r=-r,w=1);if(Infinity==
r)return[w,2047,0];if(isNaN(r))return[w,2047,1];if(0==r)return 0>1/r&&(w=1),[w,0,0];for(var t=0;2<=r;)r/=2,t++;for(;1>r;)r*=2,t--;t+=1023;if(1>t)return r=Math.floor(r*Math.pow(2,52+t-1)),[w,0,r];if(2047<=t)return[w,2047,0];r=Math.floor((r-1)*Math.pow(2,52));return[w,t,r]};n.getTime=function(){return Date.now()/1E3};n.$b=a;n.Vf=function(r,w,t){return a(((w+128&32767)<<15)+(r+128&32767),t)};n.Mh=function(r,w,t,G){return a(((t+128&1023)<<20)+((w+128&1023)<<10)+(r+128&1023),G)};n.sh=function(r){r&&0<
r.length&&(r=r[0].toUpperCase()+r.substr(1));return r};n.Id=function(r,w,t){r.Gd||(r.Gd={});r.Gd[w]||(r.Gd[w]=[]);if(8<r.Gd[w].length)throw"excessive amount of events added, there may be a bug where something keeps adding the same one";r.Gd[w].push(t);r[w]=m(function(G,D){for(var T=0;T<G.length;T++)G[T](D)},r.Gd[w])};n.Sa=function(r,w,t,G){r.re||(r.re={});r.re[w]||(r.re[w]={});r.re[w][t]=G;r[w]=m(function(D,T){for(var I in D)if(D.hasOwnProperty(I))D[I](T)},r.re[w])};n.og=function(r){return r.shiftKey};
n.Fe=function(r){return r.ctrlKey||r.metaKey};return n}(),A=z.bind,fa=z.gh,ha=z.sh,ia=z.Fe;function ja(a){var b=a.clientHeight;a.style.textAlign="center";a.style.verticalAlign="middle";a.style.lineHeight=b+"px";a.b=a}function la(a){a.innerHTML="";var b=z.he("div",a);b.style.display="table";b.style.width="100%";b.style.height="100%";b=z.he("div",b);b.style.display="table-cell";b.style.verticalAlign="middle";b.style.textAlign="center";a.b=b}function ma(a,b){a.setAttribute("aria-label",b)}function oa(a,b){a.setAttribute("role",b)}
function C(a,b,d){a.onclick=b;a.tabIndex=0;oa(a,"button");d&&ma(a,d)}function pa(a,b){a.style.cursor="pointer";a.style.userSelect="none";a.b&&(a.b.style.userSelect="none");b?(z.Sa(a,"onmouseover","buttonstyle",function(){a.style.border="1px solid #0000"}),z.Sa(a,"onmouseout","buttonstyle",function(){a.style.border=""})):(z.Sa(a,"onmouseover","buttonstyle",function(){a.style.filter="brightness(0.93)"}),z.Sa(a,"onmouseout","buttonstyle",function(){a.style.filter=""}))}
function qa(a){a.className="efButton";a.b=a;la(a);pa(a)}function ra(a){a.style.boxSizing="border-box";a.style.border="1px solid black";var b=fa("0%","0%","100%","100%",a);b.style.backgroundColor="red";a.style.display="none";a.style.backgroundColor="#ddd";a.visible=!1;a.kg=b}function sa(a,b,d){if(0>b)a.visible&&(a.style.display="none",a.visible=!1);else{1<b&&(b=1);var e=a.kg;a.visible||(a.style.display="",a.visible=!0);e.style.width=100*b+"%";d&&a.ah!=d&&(a.kg.style.backgroundColor=d,a.ah=d)}}
var ta=void 0,ua=0,wa=[],xa=[];
function ya(a,b,d,e,f,g,k,h){0>ua&&(za(),ua=0);ua++;Aa();Ba();var l=0==a?new E(Ca,.05,.33,.95,.66):1==a?new E(Ca,.05,.25,.95,.75):3==a?new E(Ca,.05,.05,.95,.9):new E(Ca,.05,.12,.95,.9);l.onclose=h;wa.push(l);var m=l.a;m.className="efDialog";oa(m,"dialog");m.style.zIndex=""+(10*ua+5);h=.3;0==a&&(h=.5);var p=0;if(b){var q=(new E(l,[1,-h*(p+1)],[1,-.4*h],[1,-.01-h*p],[1,-.01],1)).a;q.style.fontWeight="bold";p++;qa(q);q.b.innerText=d||"ok";C(q,function(x){b(x)})}f&&(q=(new E(l,[1,-h*(p+1)],[1,-.4*h],
[1,-.01-h*p],[1,-.01],1)).a,q.style.fontWeight="bold",p++,qa(q),q.b.innerText=g||"extra",C(q,function(x){f(x)}));m.ra=function(){ta=void 0;z.ab(n);for(var x=0;x<wa.length;x++)if(wa[x]==l){wa.splice(x,1);break}for(x=0;x<xa.length;x++)if(xa[x]==n){xa.splice(x,1);break}ua--;Aa();m.Wf()};m.Wf=function(){Ea(l);if(l.onclose)l.onclose()};l.ra=m.ra;q=(new E(l,[1,-h*(p+1)],[1,-.4*h],[1,-.01-h*p],[1,-.01],1)).a;p++;qa(q);q.b.innerText=e||(b?"cancel":"back");C(q,m.ra);var n=fa(0,0,window.innerWidth,window.innerHeight);
xa.push(n);n.style.width="100%";n.style.height="100%";n.style.backgroundColor="rgba(0, 0, 0, 0.5)";n.style.position="fixed";n.style.zIndex=""+10*ua;k||(n.onclick=m.ra);d=new E(l,[1,-.05],[0,.01],[1,-.01],[0,.05],8);qa(d.a);d.a.b.innerText="x";C(d.a,m.ra,"dialog close button");d=.88;0==a&&(d=.8);1==a&&(d=.8);l.content=new E(l,.01,.01,[1,-.05],d,.3);return l}function za(){ta=void 0;for(var a=0;a<wa.length;a++)wa[a].a.Wf();for(a=0;a<xa.length;a++)z.ab(xa[a]);wa=[];xa=[];ua=0;Aa()}
function Fa(){wa&&0<wa.length&&(wa[wa.length-1].a.Wf(),ua--,wa.pop(),Aa());xa&&0<xa.length&&(z.ab(xa[xa.length-1]),xa.pop())}document.addEventListener("keyup",function(a){27==a.keyCode&&(Ga?Ba():Fa())});var Ia,Ja=void 0;
function F(a,b,d,e){"string"!=typeof b&&b||(b=A(function(l){return l},b));d||a.setAttribute("aria-description",b());var f=void 0,g="ontouchstart"in window||0<navigator.yh||0<navigator.msMaxTouchPoints;if(g)Aa();else{var k=function(l,m){if(H)if(0==H.vb)Aa();else if(!f||f!=Ia)if(Ia&&(z.ab(Ia),Ja=Ia=void 0),l){var p=a.getBoundingClientRect(),q=p.y,n=m.clientX+20;p=Math.max(m.clientY+20,p.y+p.height);f=document.createElement("div");f.style.position="fixed";Ia=f;1==H.vb?(f.style.backgroundColor="#840e",
f.style.color="#fff",f.style.border="2px solid #fff"):2==H.vb?(f.style.backgroundColor="#ccce",f.style.color="#000",f.style.border="1px solid #000"):(f.style.backgroundColor="#0008",f.style.color="#fff",f.style.border="");f.style.padding="4px";f.style.zIndex="999";f.style.lineHeight="normal";f.style.textAlign="left";f.style.verticalAlign="top";f.style.fontSize="";var x=z.hh(f);x.style.position="";x.innerHTML=l;document.body.appendChild(f);m=f.clientWidth;var y=Math.max(300,Math.floor(.3*Ka.a.clientWidth));
100<l.length&&(y=Math.max(400,Math.floor(.4*Ka.a.clientWidth)));var B=Ka.a.clientWidth;m>y&&(m=y);n+y>B&&(n=B-y);f.style.left=n+"px";f.style.top=p+"px";f.style.width=m+"px";f.onmouseover=function(){h()};p=f.getBoundingClientRect();n=p.y+p.height;p=p.height;m=window.innerHeight;n>m&&n-m>p-q&&(f.style.top=q-p+"px");d&&(Ja=function(){var u=a.Eg();u&&u!=l&&(l=u,x.innerHTML=l)})}},h=function(){Ja=void 0;Ia&&z.ab(Ia);f&&f!=Ia&&z.ab(f);Ia=f=void 0};(function(){a.Eg=b;a.ph||(a.ph=!0,z.Sa(a,"onmouseover",
"tooltip",function(l){l.shiftKey||ia(l)||(!g||e)&&k(a.Eg(),l,!1)}),z.Sa(a,"onmouseout","tooltip",function(l){if(!g||e)l=l.toElement||l.relatedTarget,l!=a&&(l&&l.parentNode==a||l&&l.parentNode&&l.parentNode.parentNode==a||l&&l.parentNode&&l.parentNode.parentNode&&l.parentNode.parentNode.parentNode==a||l&&l.parentNode&&l.parentNode.parentNode&&l.parentNode.parentNode.parentNode&&l.parentNode.parentNode.parentNode.parentNode==a||l!=f&&h())}))})()}}function Aa(){Ia&&z.ab(Ia);Ia=Ja=void 0}
function E(a,b,d,e,f,g){this.parent=a||null;this.fontSize=g;b.length?(this.Jg=b[0],this.Kg=b[1]||0,this.Lg=b[2]||1):(this.Jg=b,this.Kg=0,this.Lg=1);d.length?(this.Pg=d[0],this.Qg=d[1]||0,this.Rg=d[2]||1):(this.Pg=d,this.Qg=0,this.Rg=1);e.length?(this.Mg=e[0],this.Ng=e[1]||0,this.Og=e[2]||1):(this.Mg=e,this.Ng=0,this.Og=1);f.length?(this.Sg=f[0],this.Tg=f[1]||0,this.Ug=f[2]||1):(this.Sg=f,this.Tg=0,this.Ug=1);a&&a.elements.push(this);this.tc=a?a.a:document.body;this.a=fa(0,0,0,0,this.tc);this.a.style.boxSizing=
"border-box";this.elements=[];La(this)}var Ma=void 0,Na=void 0,Oa=void 0;
function La(a){a.a==Ma&&(Ma=void 0);if(a.tc!=document.body&&a.tc)if(a.tc==Ma){var b=Na;var d=Oa}else b=a.tc.clientWidth,d=a.tc.clientHeight,Ma=a.tc,Na=b,Oa=d;else b=window.innerWidth,d=window.innerHeight,Ma=void 0;var e=b*a.Jg+Math.min(b,a.Lg*d)*a.Kg,f=d*a.Pg+Math.min(a.Rg*b,d)*a.Qg,g=b*a.Mg+Math.min(b,a.Og*d)*a.Ng;b=d*a.Sg+Math.min(a.Ug*b,d)*a.Tg;a.a.style.left=Math.floor(e)+"px";a.a.style.top=Math.floor(f)+"px";a.a.style.width=Math.floor(g-e)+"px";a.a.style.height=Math.floor(b-f)+"px";a.fontSize&&
(a.a.style.fontSize=Math.floor(Math.min((g-e)/10,b-f)*a.fontSize)+"px");a.$g&&(e=a.a.clientHeight,a.a.style.textAlign="center",a.a.style.verticalAlign="middle",a.a.style.lineHeight=e+"px")}function Pa(a){a.$g=!0;La(a)}E.prototype.update=function(){La(this);for(var a=0;a<this.elements.length;a++)this.elements[a].update()};function Ea(a){a.a==Ma&&(Ma=void 0);z.ab(a.a);if(a.parent)for(var b=a.parent.elements,d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);break}}
E.prototype.clear=function(){this.a==Ma&&(Ma=void 0);for(var a=0;a<this.elements.length;a++)this.elements[a].a==Ma&&(Ma=void 0),z.ab(this.elements[a].a);this.elements=[];this.a.innerHTML=""};function Qa(a){a.clear();z.ab(a.a);a.a=fa(0,0,0,0,a.tc);a.a.style.boxSizing="border-box";La(a)}
function Ra(a){var b=v(0),d=v(Infinity);if(Sa(a.l,0)){var e=a.l.a(H.i.l).m(100),f=a.l.sub(H.i.l).a(Ta.l);b=Ua(b,f);d=Va(d,e)}Sa(a.v,0)&&(e=a.v.a(H.i.v).m(100),f=a.v.sub(H.i.v).a(Ta.v),b=Ua(b,f),d=Va(d,e));a="";Sa(d,100)&&!L(b,Infinity)?a+=z.J(b.valueOf(),!0):(Xa(d,.001)&&(d=v(0)),a+=d.toString()+"% of stacks");return a}function Ya(a){a.a.style.overflowY="auto";a.a.style.overflowX="hidden";window.setTimeout(function(){a.a.className=a.a.scrollHeight>a.a.clientHeight?"efScrollGradient":""})}var Ga=void 0;
function Ba(){Ga&&Ga.Ed(!1)}
function Za(a,b,d,e,f){var g=a.a.b?a.a.b:a.a;a.gd=d;g.innerText=b+": "+e[a.gd];d=.02*(e.length+1);a.a.className="efDropDown";var k=new E(Ca,.25,.5-d,.75,.5+d,.6);k.a.style.zIndex="1000";k.a.className="efDropDown";var h=!0;k.Ed=function(m){m==h||m&&Ga==k||(Ga&&Ga!=k&&Ga.Ed(!1),h=m,k.a.style.display=h?"block":"none",Ga=m?k:void 0,h&&k.update())};k.Ed(!1);for(d=0;d<=e.length;d++){g=d==e.length;var l=new E(k,0,d/(e.length+1),1,(d+1)/(e.length+1));pa(l.a);la(l.a);l.a.b.innerText=g?"cancel":e[d];l.a.className=
"efDropDown";g?C(l.a,A(function(){k.Ed(!1)},d)):C(l.a,A(function(m){a.gd=m;a.a.b.innerText=b+": "+e[m];f&&f(m);k.Ed(!1)},d))}C(a.a,function(){k.Ed(!h)},"dropdown")}function $a(a,b){var d=ya(0,function(){b(f.value);d.ra()}),e=new E(d.content,0,.05,1,.1);ja(e.a);e.a.innerText=a;a=new E(d.content,.1,.4,.9,.6);var f=z.Oc("textarea","0","0","100%","100%",a.a);f.focus()}var ab,bb;
function cb(){if(!window.AudioContext&&!window.webkitAudioContext)return!1;ab||(ab=new (window.AudioContext||window.webkitAudioContext));if(!ab)return!1;bb=ab.createBufferSource();if(!bb)return!1;bb.connect(ab.destination);return!0}var eb=[];
function fb(a){if(!eb[a]){if(cb()){var b=ab.sampleRate;for(var d=ab.createBuffer(2,.75*b,b),e=0;e<d.numberOfChannels;e++)for(var f=d.getChannelData(e),g=0;g<d.length;g++){var k=(g+1)/d.length;f[g]=Math.sin(g/b*Math.PI*2*a)*(1-k)*(1-k)*.25}b=d}else b=void 0;eb[a]=b}eb[a]&&(a=eb[a],cb()&&(bb.buffer=a,bb.start()))}function gb(a){if(!a)return"";a=a.substr(0,20);a=a.replace(/\s/g," ");a=a.replace(/</g,"");a=a.replace(/>/g,"");return a=a.replace(/&/g,"")};function hb(a,b,d){var e=Math.min(Math.min(a,b),d),f=Math.max(Math.max(a,b),d);if(e==f)return 0;a=(a==f?(b-d)/(f-e):b==f?2+(d-a)/(f-e):4+(a-b)/(f-e))/6;0>a&&(a+=1);return a}
function ib(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255,f;b-=Math.floor(b);if(0==d)b=f=d=e;else{d=.5>e?e*(1+d):e+d-e*d;e=2*e-d;var g=b+1/3;1<g&&g--;f=b;var k=b-1/3;0>k&&k++;b=g<1/6?e+6*(d-e)*g:.5>g?d:g<2/3?e+(d-e)*(2/3-g)*6:e;f=f<1/6?e+6*(d-e)*f:.5>f?d:f<2/3?e+(d-e)*(2/3-f)*6:e;d=k<1/6?e+6*(d-e)*k:.5>k?d:k<2/3?e+(d-e)*(2/3-k)*6:e}return[Math.floor(255*b),Math.floor(255*f),Math.floor(255*d),a[3]]}
function jb(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255,f=Math.min(Math.min(b,d),e),g=Math.max(Math.max(b,d),e);f=0==g?0:(g-f)/g;return[Math.floor(255*(0==f?0:hb(b,d,e))),Math.floor(255*f),Math.floor(255*g),a[3]]}
function kb(a){var b=a[0]/255,d=a[1]/255,e=a[2]/255;if(0==d)var f=d=e;else{b-=Math.floor(b);b*=6;f=Math.floor(b);var g=b-Math.floor(b);b=e*(1-d);var k=e*(1-d*g);g=e*(1-d*(1-g));switch(f){case 0:f=e;d=g;e=b;break;case 1:f=k;d=e;e=b;break;case 2:f=b;d=e;e=g;break;case 3:f=b;d=k;break;case 4:f=g;d=b;break;default:f=e,d=b,e=k}}return[Math.floor(255*f),Math.floor(255*d),Math.floor(255*e),a[3]]}
function lb(a){if("#"==a[0]){var b=255;a=a.substr(1);if(6==a.length){var d=parseInt(a.substr(0,2),16);var e=parseInt(a.substr(2,2),16);var f=parseInt(a.substr(4,2),16)}else if(3==a.length)d=17*parseInt(a.substr(0,1),16),e=17*parseInt(a.substr(1,1),16),f=17*parseInt(a.substr(2,1),16);else if(8==a.length)d=parseInt(a.substr(0,2),16),e=parseInt(a.substr(2,2),16),f=parseInt(a.substr(4,2),16),b=parseInt(a.substr(6,2),16);else if(4==a.length)d=17*parseInt(a.substr(0,1),16),e=17*parseInt(a.substr(1,1),16),
f=17*parseInt(a.substr(2,1),16),b=17*parseInt(a.substr(3,1),16);else return;return[d,e,f,b]}a=a.toLowerCase();if("black"==a)return[0,0,0,255];if("silver"==a)return[192,192,192,255];if("gray"==a||"grey"==a)return[128,128,128,255];if("white"==a)return[255,255,255,255];if("maroon"==a)return[128,0,0,255];if("red"==a)return[255,0,0,255];if("purple"==a)return[128,0,128,255];if("fuchsia"==a||"magenta"==a)return[255,0,255,255];if("green"==a)return[0,128,0,255];if("lime"==a)return[0,255,0,255];if("olive"==
a)return[128,128,0,255];if("yellow"==a)return[255,255,0,255];if("navy"==a)return[0,0,128,255];if("blue"==a)return[0,0,255,255];if("teal"==a)return[0,128,128,255];if("aqua"==a||"cyan"==a)return[0,255,255,255];if("orange"==a)return[255,165,0,255];if("transparent"==a)return[0,0,0,0]}
function mb(a){var b=Math.floor(a[0]).toString(16),d=Math.floor(a[1]).toString(16),e=Math.floor(a[2]).toString(16);a=4<=a.length?Math.floor(a[3]).toString(16):"ff";1==b.length&&(b="0"+b);1==d.length&&(d="0"+d);1==e.length&&(e="0"+e);1==a.length&&(a="0"+a);return"#"+b+d+e+a}
var nb=[["p","r","R","P"],["%","s","S","$"],["x","o","O","X"],["[","e","E","]"],["z","y","Y","Z"],["k","l","L","K"],["|","h","H","#"],["q","g","G","Q"],["u","t","T","U"],["(","c","C",")"],["&","a","A","@"],["d","b","B","D"],["j","i","I","J"],["w","v","V","W"],["n","m","M","N"],["{","f","F","}"]];
function ob(a){var b="#f00 #f40 #f80 #fc0 #ff0 #8f0 #5f0 #0f0 #0f8 #0ff #08f #00f #40f #80f #f0f #f08".split(" "),d=["#400","#822","#a55","#faa"],e=["#000",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"#fff"],f=void 0,g=0,k=0,h=0,l=0;if(a)for(var m=a.split(" "),p=0;p<m.length;p++){var q=m[p],n=q.split(":");q=n[0];var x=n[1];if("l0"==q)d[0]=x;else if("l1"==q)d[1]=x;else if("l2"==q)d[2]=x;else if("l3"==q)d[3]=x;else if("hs0"==q)g=parseFloat(x);else if("hs1"==q)k=parseFloat(x);else if("ts0"==
q)h=parseFloat(x);else if("ts1"==q)l=parseFloat(x);else if("h"==q[0])for(n=0;n<nb.length;n++){if(q[1]==nb[n][1]){b[n]=x;break}}else"g0"==q?e[0]=x:"g1"==q?e[1]=x:"g2"==q?e[2]=x:"g3"==q?e[3]=x:"g4"==q?e[4]=x:"g5"==q?e[5]=x:"g6"==q?e[6]=x:"g7"==q?e[7]=x:"g8"==q?e[8]=x:"g9"==q?e[9]=x:"aa"==q&&(f=jb(lb(x)))}var y={};for(p=0;9>=p;p++){for(n=p+1;9>n&&void 0==e[n];)n++;if(n==p+1)m=String.fromCharCode(48+p),y[m]=lb(e[p]);else{var B=lb(e[p]);x=lb(e[n]);var u=n-p;for(q=0;q<u;q++){m=String.fromCharCode(48+p+
q);var r=q/u,w=1-r;y[m]=[Math.floor(B[0]*w+x[0]*r),Math.floor(B[1]*w+x[1]*r),Math.floor(B[2]*w+x[2]*r),Math.floor(B[3]*w+x[3]*r)]}p=n-1}}for(p=0;p<nb.length;p++)for(n=0;4>n;n++){m=nb[p][n];e=lb(b[p]);B=lb(d[n]);x=jb(e);u=x[0];for(u+=((3-n)*g+n*k)/3*255;255<u;)u-=255;for(;0>u;)u+=255;r=B[0]/255;var t=B[1]/255;var G=B[2]/255;w=Math.min(Math.min(r,t),G);var D=Math.max(Math.max(r,t),G);w==D?w=t=0:(t=hb(r,t,G),r=(D+w)/2,w=.5>r?(D-w)/(D+w):(D-w)/(2-D-w));r=[Math.floor(255*t),Math.floor(255*w),Math.floor(255*
r),B[3]];u=ib([u,r[1]*x[1]/255,r[2]*x[2]/255]);if(h||l)x=((3-n)*h+n*l)/3,0>x?(x=-x,u[0]=Math.floor(u[0]*(1-x)+0*x),u[2]=Math.floor(u[2]*(1-x)+255*x)):(u[0]=Math.floor(u[0]*(1-x)+255*x),u[2]=Math.floor(u[2]*(1-x)+0*x));y[m]=u;y[m][3]=Math.min(B[3],e[3])}y["+"]=[255,0,0,255];y["-"]=[255,255,0,255];y["*"]=[0,255,0,255];y["/"]=[0,0,255,255];y[" "]=y["."]=[0,0,0,0];if(a)for(m=a.split(" "),p=0;p<m.length;p++)q=m[p],n=q.split(":"),q=n[0],x=n[1],1==q.length&&void 0!=y[q]&&" "!=q&&"."!=q&&(y[q]=lb(x));if(f)for(q in y)y.hasOwnProperty(q)&&
(a=jb(y[q]),a[1]*=f[1]/255,a[2]*=f[2]/255,a[3]*=f[3]/255,y[q]=kb(a));return y}var pb=ob();function qb(a){a=a.trim();var b=pb;a=a.split("\n");if(":"==a[0][1]||":"==a[0][2]||":"==a[0][3]||":"==a[0][4])b=a[0],a.shift(),b=ob(b);if(a.length){for(var d=a[0].length,e=a.length,f=[],g=0;g<e;g++){f[g]=[];for(var k=0;k<d;k++){var h=a[g][k];h&&"'"!=h||(h=" ");(h=b[h])||(h=[0,0,0,0]);f[g][k]=h}}return[f,d,e]}}
function rb(a){if(a){var b=a[0],d=a[1],e=a[2],f=document.createElement("canvas");f.width=d;f.height=e;for(var g=f.getContext("2d"),k=g.createImageData(d,e),h=0;h<e;h++)for(var l=0;l<d;l++)k.data[4*(h*d+l)]=b[h][l][0],k.data[4*(h*d+l)+1]=b[h][l][1],k.data[4*(h*d+l)+2]=b[h][l][2],k.data[4*(h*d+l)+3]=b[h][l][3];g.putImageData(k,0,0);return[k,d,e,f,a]}}function N(a){return rb(qb(a))}
function sb(a,b,d,e,f){f=f||document.body;var g=document.createElement("canvas");g.style.position="absolute";g.style.left=a;g.style.top=b;g.style.width=d;g.style.height=e;g.classList.add("pixelated");f.appendChild(g);return g}function tb(a,b){var d=a[1],e=a[2];b.width!=d&&(b.width=d);b.height!=e&&(b.height=e);b.getContext("2d").putImageData(a[0],0,0)}var ub=document.createElement("canvas");function vb(a){a.getContext("2d").clearRect(0,0,a.width,a.height)};var wb=[N("l0:#844 l1:#d66 hg:#2f0\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),N("hg:#0f4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
N("q:#a30 g:#f70\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),N("q:#88f g:#aaf G:#ccf Q:#eef\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
N("q:#ff8 g:#ffa G:#ffc Q:#ffe\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n")],xb=[N("l0:#844 l1:#d66 hg:#2f0\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
N("hg:#0f4\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),N("q:#a30 g:#f70\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
N("q:#88f g:#aaf G:#ccf Q:#eef\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),N("q:#ff8 g:#ffa G:#ffc Q:#ffe\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n")],
yb=[N("+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],zb=[N("+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
Ab=[N("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],Bb=[N("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
Cb=[N("+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),N("+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
N("+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],Db=[yb,zb,Ab,Bb,Cb];N("\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n");
N("\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n");
var Eb=N("\n................\n.....000000.....\n...00------00...\n..0----------0..\n..0----00----0..\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0------------0.\n.0-----00-----0.\n..0----00----0..\n..0----------0..\n...00------00...\n.....000000.....\n................\n"),Fb=N("\n...........0....\n..........0-0...\n.........0---0..\n........0-----0.\n.......0000-0000\n..........0-0...\n..........0-0...\n..........0-0...\n..........000...\n................\n................\n................\n................\n................\n................\n................\n"),
Gb=N("\n................\n................\n................\n................\n........X.......\n.......XOO......\n.......XOO......\n......XOOOo.....\n.......OOo......\n.......OOo......\n........o.......\n................\n................\n................\n................\n................\n");N("\n................\n................\n................\n................\n................\n................\n................\n................\n...OOoo...OOoo..\n..Ooooxx.Ooooxx.\n...oxxx...oxxx..\n................\n......OOoo......\n.....Ooooxx.....\n......oxxx......\n................\n");
N("\n................\n................\n................\n................\n................\n................\n.......22.......\n......2110......\n......2100......\n.......00.......\n................\n................\n................\n................\n................\n................\n");N("\n................\n................\n................\n................\n...22...........\n..2110....22....\n..2100...2110...\n...00....2100...\n..........00....\n......22........\n.....2110.......\n.....2100.......\n......00........\n................\n................\n................\n");
var Hb=N("\n................\n................\n................\n........x.......\n.......xx.......\n......xxoo......\n......xooo......\n.....xxoooO.....\n.....xooOOO.....\n.....ooOOPO.....\n.....oOOPXO.....\n.....oOPX]O.....\n......oOOO......\n................\n................\n................\n"),Ib=N("\n................\n................\n......aaaa......\n....aa@@@@a.....\n...a@@@@@@@aaa..\n...a@@@@@@@@@@a.\n.aa@@@@@@@@@@@a.\na@@@@@@@@@@@@@@a\na@@@@@@@@@@@@@@a\n.a@@@aaa@a@@@@a.\n..aa........aa..\n.....a.aaaa.....\n................\n....aaaaa.aa....\n................\n................\n"),
Jb=N("\n+:#ff08\n................\n................\n......+---+.....\n.....-ZZZZZ-....\n....-ZZZZZZZ-...\n...+ZZZZZZZZZ+..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...+ZZZZZZZZZ+..\n....-ZZZZZZZ-...\n.....-ZZZZZ-....\n......+---+.....\n................\n................\n................\n"),Lb=N("\n................\n...............+\n..............+-\n.......0......+-\n......0.0....+-*\n......0.0...+-**\ny....0...0..+-*/\n.y..0.....0+-*/I\n..y0+++++++-*/IM\n...y********/IMM\n..0MMMMMMMMMMM..\n..0.........0...\n.0000000000000..\n................\n................\n................\n"),
Mb=[N(" hm:#999\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),N(" hm:#c70\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
N(" N:#eee M:#bbb m:#888 n:#555\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),N(" hm:#dfb\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
N(" hm:#ff0\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
N(" N:#fee M:#ecc m:#dbb n:#caa\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),N(" hm:#00f\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
N(" hm:#0f0\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),N(" hm:#f00\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n"),
N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n.........h|.....\n........h||.....\n......0.||......\n.......0........\n.......0........\n......N0MMN.....\n....NNNMMNNm....\n....NMNNNmmmn...\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n...NNMMmmmmnnn..\n...NMMmmmmmmnn..\n....NMMmmmmnn...\n.....NMMnmnn....\n................\n")],Nb=[N(" hm:#999\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
N(" hm:#c70\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),N(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
N(" hm:#dfb\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),N(" hm:#ff0\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),N(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
N(" hm:#00f\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),N(" hm:#0f0\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),
N(" hm:#f00\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n"),N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n................\n.....MMmMM......\n...MMMmMMMMm....\n...MMmMMMMMm....\n..MMMmMMMMMmm...\n..MMMmMMMMMmm...\n..MMMmMMMMMmn...\n..MMMmMMMMMmn...\n...MMMMMMMmn....\n....MMMMMmn.....\n................\n")],
Ob=[N(" hm:#999\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),N(" hm:#c70\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
N(" N:#eee M:#bbb m:#888 n:#555\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),N(" hm:#dfb\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
N(" hm:#ff0\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),N(" N:#fff M:#eee m:#ddd n:#ccc\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
N(" N:#fee M:#ecc m:#dbb n:#caa\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),N(" hm:#00f\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
N(" hm:#0f0\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),N(" hm:#f00\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n"),
N(" N:#fff M:#eee m:#ddd n:#ccc\n....|.|.|.|.....\n.....|h|h|......\n...|.||h||.|....\n....|h|||h|.....\n.....|h|h|......\n.....M|||n......\n....mMMnmmn.....\n....Mmmmnnn.....\n...mmMmnmnnn....\n...MmMmnmmnm....\n...mMmnmnnmn....\n...mmMnnmnnm....\n...MmMmnmmnn....\n....Mmnmnnn.....\n....mMmnmnn.....\n.....mmnnn......\n")],Pb=[N(" hm:#999\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
N(" hm:#c70\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),N(" N:#eee M:#bbb m:#888 n:#555\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
N(" hm:#dfb\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),N(" hm:#ff0\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),N(" N:#fee M:#ecc m:#dbb n:#caa\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
N(" hm:#00f\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),N(" hm:#0f0\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),
N(" hm:#f00\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n"),N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n........0.......\n.......0........\n.......0........\n......mmn.......\n.....MmMmn......\n.....MMmmn......\n.....MmMnn......\n.....MMmmn......\n....NMmMnnn.....\n...NMmMmmnnn....\n...NMMmMmmnn....\n...MMmMmmnnn....\n...MMMmMmmnn....\n....MMMmmnn.....\n................\n")],
Qb=[N(" hm:#999\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),N(" hm:#c70\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
N(" N:#eee M:#bbb m:#888 n:#555\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),N(" hm:#dfb\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
N(" hm:#ff0\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
N(" N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),N(" hm:#00f\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
N(" hm:#0f0\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),N(" hm:#f00\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n"),
N(" N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n................\n......0.0.......\n.....0..0.0.....\n.....0.00.0.....\n.....n0nn00n....\n....M000n00n....\n....Mmn00nmm....\n....MMmMmmmm....\n....MMMmMmmm....\n.....MmMmmm.....\n......MmMm......\n................\n")],Rb=[Mb,Nb,Ob,Pb,Qb],Sb=[N("\n................\n................\n................\n................\n................\n................\n.......444......\n.....444342.....\n....44332221....\n...4442322121...\n..443232122111..\n.4342222111212..\n................\n................\n................\n................\n"),
N("\n................\n................\n................\n................\n.......444......\n......444222....\n.....44333222...\n....434332221...\n...44433333221..\n..4433333322211.\n.43433342333221.\n.443.3431233221.\n......43........\n................\n................\n................\n"),N("\n................\n................\n................\n................\n.........422....\n.........4442...\n........444222..\n.......4443322..\n..4422.44332322.\n..4322243333222.\n.44332233332332.\n.44332223.......\n.4332332........\n................\n................\n................\n"),
N("\n................\n................\n................\n................\n......443.......\n......4332......\n.....443221.....\n...44433221.....\n..4443432211....\n..4443322211....\n.44433332221....\n.444433222111...\n.443332332111...\n..43333311......\n................\n................\n")],Tb=N("\n.......77.......\n...7..7553..7...\n..757.7553.753..\n.75557555575553.\n..755555555553..\n...7555335553...\n.775553..355533.\n755553....755553\n755553....755553\n.335553..755533.\n...7555775553...\n..755555555553..\n.75553555535553.\n..353.3553.353..\n...3..3553..3...\n.......33.......\n"),
Ub=N("\n................\n................\n................\n................\n................\n................\n..hhhhhhhhhhh...\n...hhhhhhhhh....\n....hhhhhhh.....\n.....hhhhh......\n......hhh.......\n.......h........\n................\n................\n................\n................\n"),Vb=N("\n................\n................\n................\n................\n................\n................\n..33333333333...\n...333333333....\n....3333333.....\n.....33333......\n......333.......\n.......3........\n................\n................\n................\n................\n"),
Wb=N("\n................\n................\n................\n................\n.....0....0.....\n....00....00....\n...0900000090...\n..099999999990..\n...0900000090...\n....00....00....\n.....0....0.....\n................\n................\n................\n................\n................\n");function Xb(a,b,d,e,f){a=N(a);b=N(b);d=N(d);var g=N(e);e=qb(e);f=qb(f);var k=e[1],h=e[2];e=e[0];var l=f[1],m=f[2];f=f[0];for(var p=Math.max(k,l),q=Math.max(h,m),n=[],x=0;x<q;x++){n[x]=[];for(var y=0;y<p;y++){var B=x<h&&y<k?e[x][y]:[0,0,0,0],u=x<m&&y<l?f[x][y]:[0,0,0,0],r=u[3]/255;n[x][y]=[Math.floor(B[0]*(1-r)+u[0]*r),Math.floor(B[1]*(1-r)+u[1]*r),Math.floor(B[2]*(1-r)+u[2]*r),Math.floor(Math.max(B[3],u[3]))]}}e=rb([n,p,q]);return[a,b,d,g,e]}
function Yb(a,b,d,e,f){a=N(a);b=N(b);d=N(d);e=N(e);f=N(f);return[a,b,d,e,f]}
var Zb=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n","\n................\n................\n................\n........ox......\n........ox......\n........ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n",
"\n...........qq...\n..........qgg...\n.....oxxx.gg....\n....oxxoxx......\n...oxx..ox......\n...ox...ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n..PP............\n.PRRR...........\n.PRRr...........\n..Rr............\n................\n................\n................\n................\n................\n................\n"),
$b=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.............||.\n............|tt.\n........||t.tt..\n........|tut....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....tt..tt.....\n.....t|.tt|.....\n.....t|.t|......\n......uu........\n...ttt..u.......\n...t||...u......\n..........u.....\n..........u.....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.|||||..........\n.tt||||..|||....\n..tttt|.||||||..\n......uttttttt..\n....||..utttt...\n....||t..u......\n...||tt...u.....\n...||tt...u.....\n...|tt.....u....\n....tt.....u....\n...........u....\n............u...\n................\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n...0i...........\n...i0....i0.....\n......0i.0i.....\n......i0....i0..\n............0i..\n.....i0.........\n.....0i.i0......\n..i0....0i......\n..0i............\n................\n................\n................\n"),ac=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....HH.H.......\n......h.Hh......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....H...........\n...HHH.....HH...\n....Hh....HHh...\n.....h...xHh....\n.....x...x......\n.....x...x......\n......x..x......\n......x.x.......\n......x.x.......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..HH............\n..HHHh.HH.......\n...hhhHHhx......\n.....xHh.xHHH...\n.....xhh.HHHhh..\n....HHx..xhhh...\n...HHhx.x.......\n..HHhhx.x.......\n...hh..xHHH.....\n.......xhhhh....\n.......x.hh.....\n.......x........\n.......x........\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n......AA........\n......Aa..Aa....\n..........AA....\n................\n.AA.............\n.aA.............\n................\n.........Aa..AA.\n.........AA..aA.\n.....AA.........\n.AA..aA.........\n.Aa.........aA..\n............AA..\n................\n................\n"),
bc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.........G......\n........oo......\n.....G..o.G.....\n......o.oo......\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........o..to...\n.......to...o...\n........ot.oo...\n....o...o..o....\n...t.o..o.oot...\n.....o..o.o.....\n.....o..o.o.....\n......o.oo.t....\n.....to.o.......\n......o.oot.....\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......tu..tt.tu.\n......uuo.uuotuu\n.tt..tt.o..uo...\n.tuu.tu.o..oott.\n....ouu.o..o.tuu\n...tto..o.oo....\n..ttuo.ttuottt..\n..uu.ottuuotuu..\n....tto.oo...u..\n......ottu......\n...ttuouuott....\n...uuuoOo.tuu...\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88 hf:#802\n.........}F.....\n.}F.}F...Ff.....\n.Ff.Ff.....}F...\n...}F......Ff...\n...Ff.}F........\n......Ff}F......\n........Ff..}F..\n............Ff..\n..............}F\n.........}F.}FFf\n.}F......Ff.Ff..\n.Ff.......}F....\n....}F....Ff....\n..}FFf..........\n..Ff............\n................\n"),cc=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..........OOO...\n..hOO....O..hh..\n..h..O..O.......\n......OoO.......\n..OOOOOOoOOOO...\n.Oh....Oo....O..\n.h.....Oo....h..\n.......Oo.....h.\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....L.......L...\n...LLh......Lh..\n...hhh....OOhhh.\n...OO....Lhh....\n.....OO.OLh.....\n.....LLhOh......\n..OOOLLhOOOOOO..\n.OO..OhOO....O..\n.LLh..OOLLh.LLh.\n.LLh...OLLh.LLh.\n..h....Ooh...h..\n.......Oo.......\n.......Oo.......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........+.+..\n...........r+r..\n.....r.r...+R+..\n.....+R+...r+r..\n.....r+r....r...\n..+.+.r+..+.+...\n..r+rr+r..r+r...\n..+r+.r....R+...\n..R+......r+....\n..+r+.....+R+...\n...+.......+....\n................\n................\n"),
dc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.......\n.......gu.......\n.......ou.......\n.......ox.......\n.......ox.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.u.....\n.....g.gx.u.....\n.....g.ox.u.....\n....g..ox.u.....\n.....g.ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....hh....hhh...\n...huu...huu....\n......uuuu......\n.....uuhuuu..hh.\n....u.huu..u.hu.\n..hu..huuu..uhu.\n.huu..uoxu..u...\n.huu..uox.u.u...\n...u..uox.u..uh.\n..|..u.hh.uh.uhu\nhhu..u.hu.hu.uhu\nhuu..u.hu.hu.u..\n..u..u.ox....u..\n.....u.ox.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........Pr...\n.....Pr....Rr...\n.....Rr....rp...\n.....rp.........\n................\nPr.........Pr...\nRr.........Rr...\nrp.Pr......rp...\n...Rr...Pr......\n...rp...Rr......\n........rp......\n................\n................\n"),ec=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......o........\n.......o........\n.....g.o........\n......o.........\n......o.........\n......o.........\n.....o..........\n.....o..........\n.....o..........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n........o.......\n......g.o.......\n.....gg.o.......\n.......o........\n.......o........\n.......o........\n......o.gg......\n....g.o.g.......\n...gg.o.........\n.....o..........\n.....o..........\n.....o..........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n......g.o.gg....\n.....gg.o.g.....\n....ggg.o.......\n.......o.gg.....\n.....g.o.g......\n....gg.o........\n....g.o.ggg.....\n...gg.o.gg......\n..ggg.o.g.......\n.....o..........\n.....o..........\n.....o..........\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n.........LKL....\n.........LKL....\n.........LKL....\n....LKL.........\n....LKL.LKL.....\n....LKL.LKL.....\n........LKL.....\n...LKL..........\n...LKL..........\n...LKL.LKL......\n.......LKL......\n.......LKL......\n................\n................\n"),
fc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....oo.oxoo.....\n......oox.......\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n...........ooo..\n.....oooxoo.....\n..ooo..ox.......\n.......ox.......\n.......ox.......\n....oo.oxoo.....\n..oo..oox..ooo..\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n..........g.....\n....g....gg.....\n...gg...ggg.....\n..ggg......ooo..\n.....oooxoo...gg\n..ooo..ox..g..g.\ngg...ggox..gg...\n.g...g.ox..ggg..\n....oo.oxoo.....\n..oo..oox..ooo..\ngg.ggg.oxgg...gg\n.g..gg.ox.g...g.\n.....g.ox.......\n.......ox.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n.........FfFfFf.\n.FfFfFf..f{f{f{.\n.f{f{f{...FfFf..\n..FfFf....f{f{..\n..f{f{.....Ff...\n...Ff......f{...\n...f{...........\n................\n................\n................\n"),gc=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......f........\n.......f........\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......f..f.....\n....f..f..f.....\n....f..f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..hh...f..hhh...\n..hhh..hh.fhh...\n....f..hhhf.....\n.....f.f..f.....\n.....f.f..hhh...\n..hhhf.hhhfhh...\n..hh.f.fhhf.....\n.....f.f.f......\n...hhh.f.f......\n...hhf.fhhh.....\n.....f.f.hh.....\n.....f.f.f......\n.....f.f.f......\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........@A...\n...........Aa...\n...@A......Aa...\n...Aa...........\n...Aa...@A......\n........Aa......\n........Aa.@A...\n...........Aa...\n.....@A....Aa...\n.....Aa.........\n.....Aa.........\n................\n................\n"),
hc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......|.|.......\n.......||||.....\n........|.......\n........|.......\n........|.......\n........|.......\n........|.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n......z....z....\n......z....z....\n.......z..z.....\n..zz...z.z......\n....zz..z..zzz..\n......zzzzz.....\n........z.......\n........z.......\n........z.......\n........z.......\n........z.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....h.h..h...h..\n.....hhhh.h.h...\n......o....o....\n.h..h.o.hh.ohh..\n..h.h.ho..o....h\n..oo..ho.o.hh.h.\n..h.oo..o..ooo..\n.h..h.ooooo.h.h.\n....h...oh.h.hh.\n......hho.h.h...\n........o.......\n........o.......\n........o.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n..DB............\n..Bb..DB....DB..\n......Bb....Bb..\n.........DB.....\n..DB.....Bb.DB..\n..Bb..DB....Bb..\n......Bb...DB...\n...DB......Bb...\n...Bb.DB.DB...DB\n......Bb.Bb...Bb\n................\n......DB........\n......Bb........\n................\n................\n"),ic=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......T....T...\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\nUTT....T....T...\n.TTUT..TTt..TUt.\n..Tt...Tt.UTTt..\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\nU...T...........\nUT.TtU...TU...T.\n.UTt.UT.TtUT.Tt.\n..T...TTt..TTt..\nUTT....T....T...\n.TTUT..TTT..TUT.\n..TT...TT.UTTT..\n..T..UTT...TT...\n..T...UT....T...\n................\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..P+..P+...P+...\nP+++..++P+.++P+.\n++.P+...++P+.++.\n...++.....++....\n................\n................\n................\n"),
jc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n......L..L......\n......O..o......\n......OO.o......\n.......OOo......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n......oL........\n.....Lo.........\n.......o........\n....LO..o.oo....\n......O.oo..L...\n.....L.OO.......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n...LL..LLL......\n...LLHoLLLH.....\n...HH.o.LHH.....\n......o.........\n..OOO..o...oo...\n..L..O.oo.o.LL..\n.LL...O.ooL.LLH.\n.LH.LL.OoLLH.LH.\n.LH.LH.OoLHH.HH.\n....LH.Oo.......\n....H..Oo.......\n.......OO.......\n.......Oo.......\n.......Oo.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n....p0....0p....\n....0p.0p.p0....\n....p0.p0.0p....\n.....p.0p..0....\n0p.....p.....p0.\np0..0p.......0p.\n0p..p0.0p.0p.p0.\n.0..0p.p0.p0.0..\n....p0.0p.0p....\n.......p..p0....\n................\n................\n................\n................\n"),kc=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.........l......\n..llxl...xl.....\n....x.l.lllxl...\n....xllxlx.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..ll.ll.ll......\n...lxllxlllxl...\n....x..x...x....\n..llxllxll.x....\n.lllx.lxlxlxll..\n.ll.x..x.llxlll.\n....x..x.x.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......ll.lll...\n......lllxllll..\n.ll.ll...x......\nlllxlll..x......\n...x...x.llxll..\n....x..xlllxlll.\n....x..x.x.x....\n..llxllxll.x....\n.lllx.lxlxlxll..\n.ll.x..x.llxlll.\n....x..x.x.x....\n....x..x...x....\n.......x...x....\n.......x........\n.......x........\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n.........S......\n.......$Ss......\n...S..$$Sss.S...\n..S...$$Sss.S...\n$$Sss.$$Sss$$Sss\n$$Sss..$Ss.$$Sss\n.$Ss....S..$$Sss\n..S..S.....$$Sss\n....$$Sss...$Ss.\n....$$Sss....S..\n.....$Ss........\n......S.........\n................\n"),
lc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.HH.............\n.hhH............\n..hh.hHH........\n....h|hH........\n....|...........\n....|...........\n....|...........\n...|............\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....hh..hh.....\n.....Hhh.Hh.....\n......Hh.Hh.....\n........||......\n.......|..hhh...\n......|...HHh...\n.....|..........\n.....|..........\n....|...........\n....|...........\n....|...........\n...|............\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..........HHHHH.\n....HHH..HHHHhh.\n..HHHHHH.Hhhhh..\n..hhhhhhh|......\n...hhhh|..HH....\n......|..hHH....\n.....|...hhHH...\n.....|...hhHH...\n....|.....hhH...\n....|.....hh....\n....|...........\n...|............\n................\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n...........fF...\n.....Ff....Ff...\n.....fF.fF.fF...\n..Ff.Ff.Ff......\n..fF....fF......\n..Ff.....Ff.....\n......Ff.fF.....\n......fF.Ff.Ff..\n......Ff....fF..\n............Ff..\n................\n................\n"),mc=Xb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......Hh.Hh.....\n...hh.hhhhh.hhh.\n....h...h....h..\n....h...h....h..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n.......HH.Hh....\n.......Hhhhh....\n.........h.Hh.Hh\n..HH.hh..h.hhhhh\n..Hhhhh.hh...h..\n....h...h....h..\n....h...h....h..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n......H....HH...\n....HHhhh.Hhh|..\n.....hhhhhhh|...\n........|hh.....\n.HH..hhh.h.HH.H.\n.Hhhhhh|.hHhhhh|\n...hh....hhhhh||\n....h...hh...h..\n....h...h....h..\n....h...h....h..\n................\n................\n","l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n................\n.......+P+......\n......P+++P.....\n......+P+P+.PP+.\n.P++..P++++P+++P\nP+P+P..+P+.++P++\n+++++...+...+++.\n.P+P.........+..\n..+.............\n................\n"),
nc=Xb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n...EEE..........\n..tt..E....EEt..\n.......E..E..t..\n.......EEE......\n...EEEEEEEEEEE..\n..E....Ee....tE.\n..t....Ee.....t.\n.t.....Ee.......\n.......Ee.......\n.......Ee.......\n.......Ee.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n...T.......T....\n..tT......tTT...\n.tttee....ttt...\n....ttT....ee...\n.....tTe.ee.....\n......tetTT.....\n..eeeeeetTTeee..\n..e....eete..ee.\n.tTT.tTTee..tTT.\n.tTT.tTTe...tTT.\n..t...tEe....t..\n.......Ee.......\n.......Ee.......\n................\n",
"l0:#800 l1:#c22 l2:#f44 l3:#f88 P:#fdd\n................\n................\n................\n..9.9...........\n..P9P...........\n..9P9...P.P.....\n..P9P...9P9.....\n...P....P9P.....\n...9.9..9P.9.9..\n...P9P..P9PP9P..\n...9P....P.9P9..\n....9P......9P..\n...9P9.....9P9..\n....9.......9...\n................\n................\n"),oc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....h..........\n....h|..........\n.....hhh........\n....h|h.........\n.....h..........\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....h...........\n...hhh..........\n....h|..........\n.....hhhh.......\n...hh|h||h......\n...h|h.hh.......\n....hh..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n...hh...........\n...hhh..........\n...h|h..........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......89.8......\n......989.......\n.....88h........\n.......h........\n........h.......\n...hh...h.......\n...hhh..h.......\n...h|h.h........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n"),
pc=Yb("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qq.......\n........qq......\n........q.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qqq......\n........q.......\n........q.......\n........q.q.....\n.......qq.qq....\n........qq......\n........q.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n........A.......\n.......vAv......\n........v.......\n........q.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n........A.......\n.......A@A......\n.......A@A......\n.....AA.v.AA....\n....A@@vVv@@A...\n.....AA.v.AA....\n.......A@A......\n.......A@A......\n........A.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n"),qc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....hh....hh....\n....hh....hh....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n...........Z....\n...........h....\n.....Z.....h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa 9:#fffafa 8:#efeaea 7:#ff0 X:#fe0\n................\n................\n................\n................\n................\n...........9....\n..........979...\n....9....97X79..\n...979....979...\n..97X79....9....\n...979.....h....\n....9......h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa 9:#fffafa 8:#efeaea 7:#ff0 X:#fe0\n................\n....9...........\n..98989.........\n..88788....9....\n.997X799.98989..\n..88788..88788..\n..98989.997X799.\n....9....88788..\n....h....98989..\n....h......9....\n....h......h....\n....h......h....\n.....h....h.....\n.....h...h......\n.....h...h......\n................\n"),
rc=Yb("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n......|.........\n.....h|...|.....\n.....||..|......\n......|..|......\n......|..|......\n......|||.......\n....|h.||.h|....\n.....||||||h....\n.....h||||......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....h|....h.....\n....h|....h|....\n...||||...||....\n....||....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|......\n....h.|||..h....\n....|h.||.h|....\n.....||||||h....\n.....h||||......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....ZX..........\n....XZ....h|....\n....h|....h|....\n...||||..||||...\n....||....||....\n.....|....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|...h..\n..h.h.|||..h.||.\n...||h.||.h|||..\n...h|||||||h.h..\n.....h||||......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n...989.....X-...\n..98989..-XOX--.\n..89898.-XOOO-X.\n..98979..--X-X..\n...979...X.|.-X.\n....||....||....\n.....|....|.....\n.....|....|.....\n......|..|......\n......|..|......\n......|..|...h..\n..h.h.|||..h.||.\n...||h.||.h|||..\n...h|||||||h.h..\n.....h||||......\n................\n"),sc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......h........\n......hh|.......\n......hh|.......\n......hh|.......\n.......h........\n.......h........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......v........\n......vvv.......\n.....vhvvv......\n.....vhvv.......\n......hh|.......\n.......h........\n.......h........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.....i...i......\n.....id.id......\n.....iiidd......\n...vvviddvvv....\n..vv--vvv--ii...\n..vivvv-vviii...\n..i..v---i..i...\n.....vvvvi......\n......vvi.......\n.......i........\n.......h........\n.....h.h.|......\n.....h.h|.......\n......hh|.......\n.......h........\n"),
tc=Yb("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....v....I.....\n.....g..v.v.....\n..g..g..g.g.....\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.....I....v.....\n....Iv..III.....\n.Iv..II.v.v.II..\n..II.v.II.II.v..\n..v..g..v.v..I..\n..g..g..g.g..v..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.....v...III....\n..v.III.v.v.....\n.III.v.IIIII.v..\n..v.III.v.v.III.\n.III.v.IIIII.v..\n..v..gG.v.v.III.\n..g..g..gGg..v..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....I..........\n..I.JvI.I.I.....\n.JvIIIvJvJvI.I..\n.IIvJvIIIIIvJvI.\n.JvIIIvJvJvIIIv.\n.IIv.v.IIIIvJvI.\n..v.GgG.v.v.IIv.\n.GgG.g.GgGgG.v..\n..g..g..g.g.GgG.\n..g..g..g.g..g..\n..g..g..g.g..g..\n..g.....g....g..\n.............g..\n................\n"),uc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n........mh......\n..........h.....\n...........h....\n...........h....\n...........h....\n...........h....\n...........h....\n...........h....\n.......h|.h.|h..\n.......|h|h|h|..\n........|h|h|...\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..hMhhh....M....\n...m...hh.m.....\n.........h......\n..........h.....\n...........h....\n...........h....\n...........h....\n...........h....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......M...M.....\n..hMhhh..mMm....\n..mMm..hmmNmm...\n.mmNmm...MMM....\n..MMM.....h.....\n...........h....\n...........h....\n..........Mh....\n...........h....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n....MMM.........\n....mNm...M.....\n..hMhhh..mMm....\n..mMm..hmmMmm...\n.mmMmm.mmmNmmm..\nmmmNmmm.mMMMm...\n.mMMMm..MM.MMM..\n.MM.MM...mMh....\n.........NMh....\n.........mMh....\n....||||...h....\n....||h||..h.||.\n.....||h|.h.|hh|\n......||h|h|h||.\n.........h|h||..\n................\n"),
vc=Yb("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......9]EE......\n......9]EE......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......Ooxx......\n......XOox......\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....XOOoxx.....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n"),wc=Yb("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......9o.......\n.......9O.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......Oo.......\n.......oO.......\n.......9X.......\n.......9X.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......XOo......\n......oOo.......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......Oo.......\n......XoXO......\n......OXOo......\n......oOoO......\n......OXOX......\n......oOoo......\n......XoOX......\n......oOXo......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n"),
xc=Yb("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n.......7O.......\n.......X7.......\n.......7O.......\n................\n................\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n......XOOo......\n......XOOo......\n.......7O.......\n.......X7.......\n.......7O.......\n.......X7.......\n.......7O.......\n.......X7.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......Xo.......\n......XOOo......\n......XOOo......\n......XOOo......\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n.......O7.......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......XOOo......\n.....XOOOOo.....\n.....XOOOOo.....\n.....XOOOOo.....\n.....XOOOOo.....\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n......8O7o......\n......X7O6......\n.......O7.......\n................\n................\n"),yc=Yb("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......986.......\n......986.......\n......986.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......P++.......\n......+9r.......\n......986.......\n......986.......\n......986.......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......P9+r......\n.....P+++9r.....\n.....P9+9+9.....\n.....66666r.....\n......986.......\n......986.......\n......986.......\n......986.......\n......986.......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....P9+9+......\n....P++9+++.....\n...P+9+++9+r....\n...P9+9+9+9r....\n...P+68686+r....\n......984.......\n.....98884......\n......984.......\n......984.......\n......984.......\n................\n................\n"),
zc=Yb("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....XOOoox.....\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..XXXOOOooooxx..\n.XXXXOOOOooxoxx.\n.XXXOOOOooooxxx.\n.XXXXOOoOooooxx.\n.XXXOXOOooooxxx.\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n"),Ac=Yb("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........o.......\n...oo..OO...oo..\n...OO..Ee...OO..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.........o......\n........OOO.....\n...oo...Ee......\n..OOOO.EEe......\n...Ee..Ee...OO..\n...Ee..Ee...Ee..\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.........oo.....\n........OOOO....\n...oo....Ee.....\n..OOOO...Ee.....\n...Ee...EEe.....\n...Ee...Ee..oo..\n...Ee..EEe.OOOO.\n...Ee..Ee...Ee..\n...Ee..Ee...Ee..\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.........oo.....\n...oo...ooooo...\n..oooo.OXOOXOO..\n..OXOX...Ee.....\n.OOOOOO..Ee.....\n...Ee....Ee.....\n...Ee....Ee.oo..\n...Ee...EEeoooo.\n...Ee...EeXOXOXO\n...Ee..EEe..Ee..\n...Ee..Ee...Ee..\n...Ee..Ee...Ee..\n................\n"),
Bc=Yb("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....00.........\n....0o300.......\n....030o30......\n.....003x0......\n.......00.......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n........00......\n.......0o30.....\n....000o330.....\n....0o30330.....\n....030300......\n.....003x0......\n.......000......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n......0000......\n.....030o00.....\n....0o30o30.....\n....000o330.....\n....03x03x0.....\n....030o000.....\n.....00o30......\n.......000......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n....00..00......\n...0oo00330.....\n...0o30o0330....\n...0330o3000....\n..0o00o33030....\n..033303x030....\n..0300o0030.....\n...030o3030.....\n....000000......\n................\n"),Cc=Yb("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......|........\n.......|........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......t........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n.......t........\n....|..t..|.....\n...||||t||||....\n....||.t.||.....\n.......t........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....h.t.h......\n....h|||h||.....\n.....|.|.|......\n.......t........\n....hh.t..hh....\n...h|||thh|||...\n.....|.t.||.....\n.......t........\n.......t........\n...hh..t..hhh...\n..h||||thh||||..\n...|||.t.||||...\n.......t........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....hh.|.hh.....\n...h||||h|||....\n....||Z|Z||.....\n.....Z.t.Z......\n...hhh.t..hhh...\n..h||||thh||||..\n....||ZtZ|||....\n.....Z.t.Z......\n..hhh..t.hhhhh..\n.h|||||th||||||.\n..||||ZtZ.|||...\n.....Z.t.Z......\n.....Z.t.Z......\n................\n"),
Dc=Yb("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..EEE..EEEE.....\n.EEee..Eeee.....\n.Eeee..]ee.EEE..\n....]..]...EEee.\n....]..E..]]eee.\n.....]EEE]].....\n.EEE.]Eee]......\nEEee]]].]]EEEE..\nEeee......EEee..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..YYY..YYYY.....\n.YYyy..Yyyy.....\n.Yyyy..Zyy.YYY..\n....Z..Z...YYyy.\n....Z..Y..ZZyyy.\n.....ZYYYZZ.....\n.YYY.ZYyyZ......\nYYyyZZZ.ZZYYYY..\nYyyy......YYyy..\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..LLL..LLLL.....\n.LLll..Llll.....\n.Llll..Kll.LLL..\n....K..K...LLll.\n....K..L..KKlll.\n.....KLLLKK.....\n.LLL.KLllK......\nLLllKKK.KKLLLL..\nLlll......LLll..\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..HHH..HHHH.....\n.HHhh..Hhhh.....\n.Hhhh..#hh.HHH..\n....#..#...HHhh.\n....#..H..##hhh.\n.....#HHH##.....\n.HHH.#Hhh#......\nHHhh###.##HHHH..\nHhhh......HHhh..\n................\n................\n"),Ec=N("aa:#fff6\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n"),
Fc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....HhhHhh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh9hhhhhh|..\n.Hhhhh99hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Z.........\n.....9Z9..HH....\n.....9Z9HHhhh...\n...hh9Z9hhhhh|..\n..Hhh9Z9hhhhh|..\n.HhhhhZ7hhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......9........\n......999..9....\n...99.9Z9.97....\n...999ZZZ987h...\n...98998Z877h|..\n..H987888877h|..\n.Hhh9888877h|...\n.Hhhh8888hh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Gc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....Hhh}hh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh}hhhhhh|..\n.Hhhhh}}hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Z.........\n.....}Z}..HH....\n.....}Z}HHhhh...\n...hh}Z}hhhhh|..\n..Hhh}Z}hhhhh|..\n.HhhhhZFhhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......}........\n......}}}..}....\n...}}.}Z}.}f....\n...}}}ZZZ}Ffh...\n...}F}}FZFffh|..\n..H}FfFFFFffh|..\n.Hhh}FFFFffh|...\n.HhhhFFFFhh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),
Hc=Yb("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n......ooo.......\n...o.oo.ooxxxo..\n..ooo...oxo..x..\n..o.oooox.x..x..\n.oo..o.x.x..x...\n.o...ox..x..x...\n.oo.oxoo.x.x....\n...oox...xxx....\n.....x..x.x.....\n.....x...x......\n.....xxxx.......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.....oo.........\n....o..oo.......\n....o...ooxxxx..\n....o....o...xx.\n.....o.ooo....x.\n..oo.ooo.o....x.\n...ooo.ooo..xx..\n..ooo...oo.x....\n..o.o..xxo.x....\n..oooo.x.xxxx...\n...oo.....x.xx..\n....o..xxxx..xx.\n....ooo.....xx..\n.......xxxxx....\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n.......#........\n.....oo#H.......\n....o..HH....##.\n....o...ooooo#H.\n...#o....##..HH.\n..#H.o.oo#H.##x.\n..HH.ooo.xH.#Hx.\n..#ooo.oxo..xx..\n.#Hoo...xo.x.x..\n.HH.o..xxo.x.x..\n..ooo##x.oxxox..\n.#Hoo#H...x#xx#.\n.HH.oHHxxx#H.#H.\n....ooo...HHxH..\n.......xxxxx....\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n.......#........\n.....#o#H.##....\n....#H.HH.#H.##.\n....HH..ooHHo#H.\n...#o....##..HH.\n..#H.o##o#H.##x.\n..HH.o#H.oH.#Hx.\n..#ooo#oo#..ox..\n.#Hoo...#HHx.x#.\n.HH.o..#Ho.x.x#H\n..ooo##HHooxoHHH\n.#Hoo#H...x#xx#.\n.HH.oHHxxx#H.#H.\n....ooo##.HHxH..\n.......#Hxxx....\n.......HH.......\n"),Ic=Yb("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....o0o.9797....\n...o.oo77979....\n......oXOXO.....\n.....o.oo.......\n....eeEEEee.....\n....EEeeeEE.....\n......EEEE......\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....o0o.9797....\n...o.oo77979....\n......oXOXO.....\n.....o.oo.......\n....EeEeEeE.....\n....eEEEeEE.....\n....eEEEeEE.....\n...eEeEeEeE.....\n...EEEeEEE......\n...EEEeEE.......\n....EeEe........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n.......Oox......\n.......XOo......\n......Oooxx.....\n......XOOOo.....\n.....OOooxxx....\n.....XXOOOoo....\n......Oooxx.....\n......XOOOo.....\n.......oox......\n.......XOo......\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......XOo......\n......Oooox.....\n......XOOOo.....\n.....Oooooxx....\n.....XOOOOOo....\n....OOooooxxx...\n....XXOOOOOoo...\n.....Oooooxx....\n.....XOOOOOo....\n......oooox.....\n......XOOOo.....\n.......Oox......\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......XOo......\n......XXOoo.....\n.....OOoooxx....\n.....XXOOOoo....\n....OOooooxxx...\n....XXOOOOOoo...\n...OOOooooxxxx..\n...XXXOOOOOooo..\n....OOooooxxx...\n....XXOx0xOoo...\n.....Oo000xx....\n.....XXx0xoo....\n......OOoxx.....\n.......XOo......\n................\n"),
Jc=Yb("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[........\n....[[[.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[E90[....\n....[[[E999E[...\n...[EEE[E9E[....\n..[EEEEE[[[.....\n...[EEE[........\n....[[[.........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........[[[.....\n.......[EEE[....\n....[[[EEEEE[...\n...[EEE[EEE[....\n..[EEEEE[[[.....\n...[EEE[998[....\n....[[[99987[...\n...[EEE[987[....\n..[EEEEE[[[.....\n...[EEE[........\n....[[[.........\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......o...o....\n.......o[[[o....\n.......oEEEo....\n....[[[E0O0E[...\n...[EEE[0O0[....\n..[EEEEEOOO.....\n...[EEE[8O8[....\n....[[888X89[...\n...[EE989O988...\n..[EEE88[[[89...\n...[EEE[........\n....[[[.........\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..oo0oo..79797..\n.o..0oo7777977..\n....ooooXOX.....\n.......OXOXO....\n......ooooXOX...\n.....o.ooOoOXO..\n....o..o..o.....\n.......o..o.....\n................\n................\n"),Kc=Yb("l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....zYYYzYYYz...\n...zYYYYYzzz....\n....zYYYz.......\n.....zzz........\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....zY90zYYYz...\n...zY999Yzzz....\n....zY9Yz.......\n.....zzz........\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....zzz........\n....zYYYz.......\n...zYYYYYzzz....\n....zYYYzYYYz...\n.....zzzYYYYYz..\n....z998zYYYz...\n...z99887zzz....\n....z987z.......\n.....zzz........\n................\n................\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n....E...E.......\n....EzzzE.......\n....EYYYE.......\n...zY0E0Yzzz....\n....z0E0zYYYz...\n.....EEEYYYYYz..\n....z8E8zYYYz...\n...z98]888zz....\n...889E989......\n...98zzz88......\n................\n................\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n....797..ee0e...\n...797777ee0.e..\n.....]E]eeee....\n....E]E]E.......\n...]E]eeee......\n...]EeEee.e.....\n.....e..e.e.....\n................\n................\n................\n"),
Lc=Yb("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......h........\n.......h........\n.......h........\n......Hh|.......\n.......h........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......h........\n......Hh|.......\n......Hh|.......\n.......h........\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n","l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......W........\n......VWV.......\n.....hVWVh......\n.....hVVVh......\n.....hhVhh......\n......hhh.......\n.......h........\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n",
"l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....WVWW.......\n....VWWVWWVW....\n...WWVWXWVW.....\n...WVWX$$WVVW...\n..WWWVW$WVWWV...\n....VWWVWWV.....\n....WW.WVV......\n.......h........\n.......h........\n.....H.h.|......\n......Hh|.......\n......Hh|.......\n.......h........\n................\n"),Mc=Yb("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"hg:#08f4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n","hg:#08f8\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n",
"hg:#08fc\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n","hg:#08ff\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
Nc=Yb("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n","hg:#fff4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n",
"hg:#fff8\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n","hg:#fffc\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n",
"hg:#ffff\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),Oc=Yb("\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....",
"\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....","\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....",
"\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....","\n................\n.....646535.....\n.....646o3o.....\n.....666ooo.....\n.66666oo544oo64.\n.644666o5o4o664.\n.64.66oo544oo64.\n.64.2626ooo4.64.\n.62.2266o4o4.64.\n.64266225444.64.\n.62266265444.64.\n....22625444....\n...262665444....\n....664..664....\n....664..664....\n....664..664....");
function Pc(a){var b=a[1],d=a[2];a=a[0];for(var e=[],f=0;f<d;f++){e[f]=[];for(var g=0;g<b;g++){var k=a[f][g],h=k[0],l=k[1],m=k[2];k=k[3];h=l=(h+l+m)/3;m=255;k*=.5;e[f][g]=[Math.floor(h),Math.floor(l),Math.floor(m),Math.floor(k)]}}return[e,b,d]}
var Qc=rb(Pc(Dc[4][4])),Rc=[Qc,Qc,Qc,Qc,Qc],Sc=rb(Pc($b[4][4])),Tc=[Sc,Sc,Sc,Sc,Sc],Uc=rb(Pc(vc[4][4])),Vc=[Uc,Uc,Uc,Uc,Uc],Wc=rb(Pc(oc[4][4])),Xc=[Wc,Wc,Wc,Wc,Wc],Yc=rb(Pc(Cc[4][4])),Zc=[Yc,Yc,Yc,Yc,Yc],ad=rb(Pc(Ic[4][4])),bd=[ad,ad,ad,ad,ad],cd=rb(Pc(Hc[4][4])),dd=[cd,cd,cd,cd,cd],ed=rb(Pc(Fc[4][4])),fd=[ed,ed,ed,ed,ed],gd=rb(Pc(Mc[4][4])),hd=[gd,gd,gd,gd,gd],id=rb(Pc(Oc[4][4])),jd=[id,id,id,id,id];function kd(a,b,d,e){var f=(e?" "+e:"")+"\n";e=N("q:#d8a g:#dac G:#ecd Q:#fde"+f+b.trim());var g=N("q:#151 g:#292 G:#4c4 Q:#5f4"+f+b.trim()),k=N("q:#f30 g:#f70 G:#fa0 Q:#fe0"+f+b.trim()),h=N("q:#77f g:#99f G:#bbf Q:#eef"+f+b.trim());b=N("q:#bb8 g:#dda G:#ffa Q:#ffe"+f+b.trim());var l=N("q:#d8a g:#dac G:#ecd Q:#fde"+f+d.trim()),m=N("q:#151 g:#292 G:#4c4 Q:#5f4"+f+d.trim()),p=N("q:#f30 g:#f70 G:#fa0 Q:#fe0"+f+d.trim()),q=N("q:#77f g:#99f G:#bbf Q:#eef"+f+d.trim());d=N("q:#bb8 g:#dda G:#ffa Q:#ffe"+
f+d.trim());return[a,[e,g,k,h,b],[l,m,p,q,d]]}
var ld=[kd("weathered tree","\n................\n................\n................\n................\n................\n................\n............x...\n....x.o..x..x...\n....x.ox.x0x....\n.o...x.x..x..0..\n.o..o.x..x0.0...\n..o.o.x.x.0.0...\n...o..x.x.00....\n....oox.x00.....\n.....ooxx0......\n.....ooxx0......\n","\n.....ooxx0......\n..G..o0xx0......\n.Gg..0o0x0......\n...o.o0xx0......\n....oooxx0......\n.....ooxx0......\n....oooxx00.....\n...ooxooxx00....\n..ooxxxooxx00...\n................\n................\n................\n................\n................\n................\n................\n"),kd("young sprout",
"\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....Q...Qg......\n...Qg...gq.Qg...\n....q...o..Qq...\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
kd("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n....Q...Qg......\n...Qgg..Qq.Qg...\n...Qqg..gq.Qgq..\n....q...o..Qq...\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
kd("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n...QQ..QGg......\n..QGgq.QGq.QQg..\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
kd("young sprout","\n................\n................\n................\n................\n................\n................\n........Qg......\n...QQ..QGg..Qg..\n..QQgq.QGq.QGgq.\n..QGgq.QGq.QGgq.\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
kd("young tree","\n................\n................\n................\n................\n................\n...QG...........\n..QGg..QGg..QG..\n..Ggg..QGg..QG..\n...go.QGgg.QGGg.\n..QGg.QGgq.GGgq.\n..Ggq..gq..Ggq..\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
kd("young tree","\n................\n................\n................\n................\n................\n...QG....G..Q...\n..QGgg.QGg..QG..\n..Gggg.QGg.QQGg.\n...go.QGgg.QGGg.\n..QGg.QGgq.GGgq.\n..Ggq..gq..Ggqq.\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
kd("young tree","\n................\n................\n................\n................\n...QG...G.......\n..QGGg.QGg..QG..\n.QGGgg.QGGgQGGG.\n..GgGg.GGggQGGG.\n..Qgg.QGgg.QGqG.\n..QGgqQGgqQGggq.\n..Ggq..gq.QGgq..\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
kd("young tree","\n................\n................\n................\n...QGg..........\n..QGGGg.QG......\n..GGGggQggG.GG..\n..QGGgQQGGgQGGg.\n.QGGgqQgGgqQGGg.\n..QGgqQGgqqQGgq.\n..Ggq..gqqGGgq..\n...oo..oo..Gqq..\n....oo.oo..xx...\n.....oooo.xx....\n......ooxxx.....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
kd("young tree","\n................\n................\n................\n...QGG...GGG....\n..QGGGg.QgGGG...\n..GgGggQGGgQGG..\n.QGGGgQGgGgQGGg.\n.QGGgqQGGgqQGGq.\n..QGgqQGgqqQGgq.\n..Ggq..gqqGGgq..\n...oo..oo.GGqq..\n....oo.oo..xx...\n.....oooo.xx....\n......ooxxx.....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
kd("adult tree","\n................\n................\n....QGQQQGQ.....\n...GGQgGQQGG....\n..QGQGgQGGGGG...\n.QGQGgQGQGgQGq..\n.QGGQgQQGGQGGqq.\n.GQGgQGgGgqQgGq.\n.QGQggQQgqqGqgq.\n..GQqqQgqqQGgq..\n...QgGgogGgqqq..\n....qo.oo.Ggx...\n.....oooo.xx....\n.....oooxxx.....\n......ooxx......\n......ooxx......\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
kd("adult tree","\n................\n........Q.......\n....QGQQGQQQ....\n...QGQGGGGGgq...\n..QGQQGQQgqgqq..\n..QGgQQgGqgqqq..\n.GQQGgGGgGqqGQG.\n.GQGGqQGggqQGGq.\n.QQGgqQqGqqGGqg.\n.QGQgqqGqqQgqgq.\n..Ggqq.gqQGqgq..\n..ooo..oxqQgqq..\n...ooo.ox..xxx..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
kd("adult tree","\n................\n........G.......\n..QGQQQggQgQ....\n.QGQGgQGgGGgggq.\nQQQgQQGGQggggqg.\nGgQGQgQgGqQqGQG.\nQGGQgGGGgGqQGGgq\nQQgGGqgGggQGgGqq\nGGQGGgggGqqGGggq\nQggQggqGqqQGgqqq\n.GQQggqgqQGgqgqq\n.Qggq..oxqQGgqq.\n.Qqqqo.ox..xxq..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
kd("adult tree","\n................\n...GQ...G...Qg..\n..QQQQQggQgQggq.\n.QGgGQGGgGGgggq.\nQGQgQGGGQgggqqg.\nGQQGggQgGqQqQQG.\nQGGggQGGgGqQGGqq\nQQgQGqgGggQGgqgq\nQGQGQgggGqqQGgqq\nQQgGggqGqqQGqqgq\n.GGgggqgqQGqGgqq\n.Qggq..oxqQGqqq.\n.Qqqqo.ox..xxq..\n....oooQg.xxx...\n.....oogqxxx....\n......ooxxx.....\n","\n......ooxxx.....\n......ooxxx.....\n......ooxxx.....\n......xooxx.....\n......oxoxx.....\n......xooxx.....\n......ooxxx.....\n.....oooxxx.....\n....ooxooxxx....\n...ooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("large tree","\n................\n......QQQGG.....\n...QQQgGgQgQ.g..\n.QGQGQGGgGGQQgq.\nQQQGQGGGQggggqg.\nGgQGggQgGqQqQQq.\nQGGggQGGgGqQGggq\nGQgQGqgGggQGgGqq\nQGQGQgggGqqGGggq\nQQgGggqGqqQGqgqq\n.GGgggqgqQGgGqqq\n.Qggq.ox.qQGqqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.....oooxxx.....\n.....oooxxx.....\n.....oooxxx.....\n.....oxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("large tree","\n................\n...QG.QQQGG.Q...\n.QGGQQgGgQgGGgq.\n.QQQGgGGgGGgGgq.\nQQgQQGGGQggqgqg.\nGgQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nGQGGQgggGqQGGgqq\nQggGggqGqqQGqqgq\n.QGgggqgqQGGGgqq\n.Qggq.ox.qQqqqq.\n.Qqqq.ox.ox.xqG.\n.Qoox.oQgqx.xGg.\n.GGooxQGgqxxxggq\n....oooqqxxx..q.\n","\n.....oooxxx.....\n.....oooxxx.....\n.....oooxxx.....\n.....oxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("grand tree","\n................\n..QQQ..QQGGQQ...\n.QgQgQgGgQgQGG..\n.GqgQgGGgGGQGGq.\nQGQqqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nQQQGGQggGqqGGgqq\nQggGggqGqqQGgqqq\n.GGgggqgqQGGqgqq\n..ggq.ox.qQGgqq.\n..Qqq.ox.ox.QQ..\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGGq.\n...qqooqqxxxgq..\n","\n..Q..oooxxx.....\n.QGg.oooxxx.....\n.Ggqooooxxx.....\n..q.ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("grand tree","\n................\n..QgQ.QQQGGQQ...\n.QgQQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.QgQqGGGQggggqq.\nGqqGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQQQGGqgGggQGgGgq\nQGGGQgggGqqGGgqq\nQQgGggqGqqQGgqgq\n.GGgggqgqQGGGqqq\n.Qggq.ox.qQqqqq.\n.QQqq.ox.ox.QGQ.\n.QGgx.oQgqxGQGG.\n..GgqxQGgqxxGGq.\n..qqqooqqxxxg...\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("curly tree","\n................\n..QgQ.QQQGGQQ...\n.QgQgqgGgQgQGG..\n.QQgQQGGgGGQGGq.\n.QgQqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGQGGqgGggQGgGgq\nQQGGQgggGqqGGqqq\nQggGggqGqqQGgqgq\n.QGgggqgqQGGqgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQGgG.\n..GgqxQGgqxxgqq.\n..qqqooqqxxxq...\n","\n.Q...xoooxxx....\nQGg...xoooxx....\nGgqooxoooxx.....\n.q..ooooxx......\n.....xoooxx.....\n......xoooxx....\n.....xoooxxx....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("curly tree","\n................\n..QgQ.QQQGGQQ...\n.QgQgqgGgQgQGG..\n.QQQQgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGQgQGGgGqQGGqq\nQQgGGqgGggQGgGqq\nQGGGQgggGqqGGggq\nQQgGggqGqqQGgqqq\n.GGgggqgqQGGqgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQG.\n.QGgx.oQgqxQgGg.\n..GgqxQGgqxxGgq.\n..qqqooqqxxxq...\n","\n.Q...xoooxxx....\nQGg...xoooxx..Q.\nGgqooxoooxx..Qgq\n.q..ooooxx...gq.\n.....xoooxx.xx..\n......xoooxxx...\n.....xoooxxx....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("hollow tree","\n................\n..QgQ.QQQGGQQ...\n.QgQQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGQQGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQQgGGqgGggQGgGqq\nQQGGQgggGqqGGggq\nQggGggqGqqQGgqqq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQGGg.\n..GgqxQGgqxxGgq.\n..qqqooqqxxxq...\n","\n.Q...oooxxxx....\nQGg.oooxxxxxx...\nGgqooox..oxxx...\n.q..ox....oxx...\n...oox....oxx...\n...ooxx..oxx....\n....ooxooxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("hollow tree","\n................\n..QQg.QQQGGQQ...\n.QgGQqgGgQgQGG..\n.QqQqgGGgGGQGGq.\n.GgGqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQGgGGqgGggQGgGqq\nQQGGQgggGqqGGgqq\nQggGggqGqqQGgqgq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQqqqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGqg.\n..qqqooqqxxxg...\n","\n.Q...oooxxxx....\nQGg..ooxxxox.Q..\n.Gg.oooxx.oxQGg.\n..ooooxx..ox.xg.\n...oooxx.oxxx...\n....ooxxxox.....\n....oooxxxx.....\n....oooooxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
kd("massive tree","\n................\n..QQg.QQQGGQQ...\n.QgGQqgGgQgQGG..\n.QQgqgGGgGGQGGq.\n.GQQqGGGQggggqq.\nGqQGggQgGqQqQQG.\nQQGggQGGgGqQGGgq\nQGgGGqgGggQGgGqq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgqgq\n.GGgggqgqQGGGqqq\n.Qggq.ox.qQqgqq.\n.QQqq.ox.ox.QQQ.\n.QGgx.oQgqxQQGq.\n..GgqxQGgqxxGqg.\n..qqqooqqxxxq...\n","\n.....Ooooxxx....\n....oOoooxxx....\n....Ooooxxxx....\n...OOooooxxxx...\n...oOoooxoxxx...\n...Ooooxxoxxx...\n...Ooooooxxxxx..\n..OOooooxxxxxx..\n.OOoooxooxxxxxx.\nOooooxxxoxxxxxx.\n................\n................\n................\n................\n................\n................\n"),
kd("zinc tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#999"),kd("bronze tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#f80"),kd("silver tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#fff"),kd("electrum tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#bf6"),kd("gold tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#ff0"),kd("platinum tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#eee O:#ddd o:#ccc x:#bbb"),kd("rhodium tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fee O:#ecc o:#dbb x:#caa"),kd("sapphire tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#00f"),kd("emerald tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#0c0"),kd("ruby tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#c00"),kd("diamond tree","\n................\n.....Q...QQG....\n....QGG..QGGg...\n....QGgq.GGggq..\n..Q..gq..Xgqqx..\n.QGG.OOoXOoqox..\n.GGgg.XOoQg.ox..\nQGgqg.Oo.gq.ox..\n.GGgq.Oo.oo.QG..\n.XqqqOoo.Oo.GGg.\n.XOo.OoQGOoGggq.\n.QOo.QoGqOoQGggq\nQGGoQGGGgOo.qqx.\nQgqoGGggqOo.ox..\n.gXOQGgqoooox...\n...XOqqOoxxx....\n","\n....XXXOoxx.....\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#eee o:#ddd x:#ccc"),kd("magnificent tree","\n................\n......QQQGG.....\n...GQQgGgQgQ.g..\n.QQgGgGGgGGQQgq.\nQGgQQGGGQggggqg.\nQQQGggQgGqQqQQG.\nQQGggQGGgGqQGGqq\nQGgGGqgGggQGgGgq\nQQGGQgggGqqGGqqq\nQggGggqGqqQGgggq\n.GGgggqgqQGGqqqq\n.Qggq.ox.qQqgqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n")];var md="zinc bronze silver electrum gold platinum rhodium sapphire emerald ruby diamond".split(" "),nd="#444 #840 #888 #bf6 #ff0 #ddd #fdd #00f #0c4 #f00 #fff".split(" "),od="#000 #420 #666 #8a4 #bb0 #aaa #a88 #00a #092 #a00 #eee".split(" "),pd=[N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#999\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#c70\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#fff\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#dfb\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#ff0\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fff M:#eee m:#ddd n:#ccc\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fee M:#ecc m:#dbb n:#caa\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#00f\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#0f0\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),
N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#f00\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),N("l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fff M:#eee m:#ddd n:#ccc\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n")],
qd=[N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#999\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#c70\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#fff\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#dfb\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#ff0\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#00f\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#0f0\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#f00\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
N("l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n")],rd=N("\n................\n................\n.ZZZZZZZZZZZZZZ.\n.ZXXXXXXXXXXXrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXrrrrOOrrrrrZ.\n.ZZZZZXOOrZZZZZ.\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZrrrrZ.....\n.....ZZZZZZ.....\n................\n");function v(a,b){if(!(this instanceof v))return new v(a,b);this.e=this.f=0;void 0!=a&&(void 0!=a.f?(this.f=a.f,this.e=a.e):(this.f=a,this.e=b||0));sd(this)}function td(a,b){void 0==b&&(b=0);b*=ud;var d=Math.floor(b);a*=Math.pow(2,b-d);return new v(a,d)}c=v.prototype;c.clone=function(){return new v(this.f,this.e)};function vd(a){if(a.e!=Math.floor(a.e)&&!isNaN(a.e)){var b=Math.floor(a.e);a.f*=Math.pow(2,a.e-b);a.e=b}9007199254740992<a.e&&(a.f=Infinity,a.e=0);-9007199254740992>a.e&&(a.f=0,a.e=0)}
function wd(a,b){vd(a);var d=a.e-b,e=1/256,f=1/4294967296;if(1023<d)a.e=b,a.f=Infinity;else if(-1074>d)a.e=b,a.f=0;else{for(;32<=d;)d-=32,a.e-=32,a.f*=4294967296;for(;8<=d;)d-=8,a.e-=8,a.f*=256;for(;1<=d;)--d,--a.e,a.f*=2;for(;-32>=d;)d+=32,a.e+=32,a.f*=f;for(;-8>=d;)d+=8,a.e+=8,a.f*=e;for(;-1>=d;)d+=1,a.e+=1,a.f*=.5}}function xd(a,b){a=v(a);wd(a,b);return a}
function sd(a){vd(a);if(isNaN(a.f)||isNaN(a.e))a.f=NaN,a.e=0;else if(Infinity==a.e)a.f=0==a.f?NaN:0>a.f?-Infinity:Infinity,a.e=0;else if(0==a.f||Infinity==a.f||-Infinity==a.f)a.e=0;else{var b=0>a.f;b&&(a.f=-a.f);for(var d=1/256,e=1/4294967296;a.f<=e;)a.f*=4294967296,a.e-=32;for(;a.f<=d;)a.f*=256,a.e-=8;for(;.5>=a.f;)a.f*=2,a.e--;for(;4294967296<=a.f;)a.f*=e,a.e+=32;for(;256<=a.f;)a.f*=d,a.e+=8;for(;2<=a.f;)a.f*=.5,a.e++;b&&(a.f=-a.f)}}c.scale=function(){var a=v(this);sd(a);return a};
c.o=function(a){L(a,0)||(this.e>a.e?a=xd(a,this.e):wd(this,a.e),this.f+=a.f,sd(this))};c.add=function(a){var b=v(this);b.o(a);return b};c.cb=function(a){this.o(v(a))};c.W=function(a){var b=v(this);b.cb(a);return b};c.da=function(a){L(a,0)||(this.e>a.e?a=xd(a,this.e):wd(this,a.e),this.f-=a.f,sd(this))};c.sub=function(a){var b=v(this);b.da(a);return b};function yd(a,b){a=v(a);a.da(v(b));return a}function zd(a){a=v(a);a.f=-a.f;return a}c.A=function(a){this.f*=a.f;this.e+=a.e;sd(this)};
c.ea=function(a){var b=v(this);b.A(a);return b};c.Ba=function(a){this.f*=a;sd(this)};c.m=function(a){var b=v(this);b.Ba(a);return b};c.yd=function(a){Xa(this,0)||(this.f*=a.f,this.e+=a.e,sd(this))};c.ib=function(a){this.f/=a.f;this.e-=a.e;sd(this)};c.a=function(a){var b=v(this);b.ib(a);return b};c.pf=function(a){this.f/=a;sd(this)};c.pc=function(a){var b=v(this);b.pf(a);return b};c.abs=function(){var a=v(this);0>a.f&&(a.f=-a.f);return a};
c.sqrt=function(){var a=v(this);if(0>a.f)a.f=a.e=NaN;else{var b=a.e/2,d=Math.trunc(b);a.f=Math.sqrt(a.f)*Math.pow(2,b-d);a.e=d;sd(a)}return a};function Ad(a,b){0>a.f&&b!=Math.floor(b)?a.f=a.e=NaN:Bd(a,v(b))}function Cd(a,b){a=v(a);Ad(a,b);return a}function Dd(a,b){return Cd(a,b)}function Ed(a,b){if(0==b)Sa(a,0)?v(0):Xa(a,0)?v(Infinity):v(1);else{wd(a,0);a.e=a.f;a.f=1;if(2!=b){b=Math.log(b)/Fd*a.e;var d=Math.floor(b);a.e=d;a.f*=Math.pow(2,b-d)}sd(a)}}function Gd(a,b){b=v(b);Ed(b,a);return b}
function Bd(a,b){if(L(a,0))Sa(b,0)?v(0):Xa(b,0)?v(Infinity):v(1);else{var d=a.log();b=b.m(d).exp();a.f=b.f;a.e=b.e}}c.pow=function(a){var b=v(this);Bd(b,a);return b};function Hd(a,b){return a.pow(b)}c.exp=function(){var a=v(this);Ed(a,Math.E);return a};c.log2=function(){var a=this.e;return a+=Math.log2(this.f)};c.log10=function(){var a=this.e*Id;return a+=Math.log10(this.f)};c.log=function(){var a=this.e*Fd;return a+=Math.log(this.f)};
function Jd(a,b){b=1/Math.log(b);var d=a.e*Math.log(2)*b;return d+=Math.log(a.f)*b}c.X=function(a){return L(a,0)?0<this.f&&!isNaN(this.e):L(this,0)?0>=a.f&&!isNaN(a.e):this.f>xd(a,this.e).f};c.Oa=function(a){return L(a,0)?0<=this.f&&!isNaN(this.e):L(this,0)?0>a.f&&!isNaN(a.e):this.f>=xd(a,this.e).f};c.ob=function(a){return L(a,0)?L(this,0):this.f==xd(a,this.e).f};c.ia=function(a){return L(a,0)?0>this.f&&!isNaN(this.e):L(this,0)?0<=a.f&&!isNaN(a.e):this.f<xd(a,this.e).f};
c.ua=function(a){return L(a,0)?0>=this.f&&!isNaN(this.e):L(this,0)?0<a.f&&!isNaN(a.e):this.f<=xd(a,this.e).f};c.Pc=function(a){return!this.ob(a)};function L(a,b){return 0==b?0==a.f&&!isNaN(a.e):b==xd(a,0)}function Sa(a,b){return a.X(v(b))}c.Ne=function(a){return this.Oa(v(a))};function Xa(a,b){return a.ia(v(b))}c.sg=function(a){return this.ua(v(a))};c.tg=v.prototype.ua;c.Qe=v.prototype.sg;c.Ff=v.prototype.Oa;c.Oe=v.prototype.Ne;function Ua(a,b){return v(a.X(b)?a:b)}
function Va(a,b){return v(a.ia(b)?a:b)}function Kd(a,b){if(L(a,0)!=L(b,0)||Sa(a,0)!=Sa(b,0))return!1;var d=a.m(.01);return b.ia(a.sub(d))||b.X(a.add(d))?!1:!0}c.isNaN=function(){return isNaN(this.f)||isNaN(this.e)};var Id=.30102999566398114,ud=1/Id,Fd=.6931471805599453,Ld=[],Md=[],O=0,Nd=O;Ld[O]="suffixes latin";Md[O]="Latin suffixes for large numbers, such as T for trillion, Qa for quadrillion, V for vigintillion, ...";O++;var Od=O;Ld[O]="hybrid eng / latin T";Md[O]="Latin suffixes, but only up to T (trillion, 1e12), then switches to engineering notation";
O++;var Pd=O;Ld[O]="hybrid eng / latin U";Md[O]="Latin suffixes, but only up to U (undecillion, 1e36), then switches to engineering notation";O++;var Qd=O;Ld[O]="suffixes SI";Md[O]="SI suffixes, such as K for kilo (1000), G for giga (1e9), up to Y for yotta (1e24). For larger numbers switches to engineering notation";O++;var Rd=O;Ld[O]="suffixes abc";Md[O]="abc suffixes, 1a for 1000, 1b for 1000000, 1aa for 1e81, etc...";O++;var Sd=O;Ld[O]="engineering";Md[O]="Use exponent notation, and the exponents are always multiples of 3. E.g. 10e6 for 10 million";
O++;var Td=O;Ld[O]="scientific";Md[O]="Always uses exponents, such as 2e4 for 20000 (4 zeroes)";O++;var Ud=O;Ld[O]="logarithm";Md[O]="Uses the base-10 logarithm";O++;var Vd=O;Ld[O]="natural";Md[O]="Uses the natural logarithm with e = 2.71828...";O++;var Wd=O;Ld[O]="hexadecimal";Md[O]="Uses base 16";O++;var Xd=O;Ld[O]="full";Md[O]="Prints value with all digits, switches to scientific once unreasonably big";O++;var Yd=O;Ld[O]="hybrid sci / latin T";Md[O]="Latin suffixes, but only up to T (trillion, 1e12), then switches to scientific notation";
O++;var Zd=O;Ld[O]="hybrid sci / latin U";Md[O]="Latin suffixes, but only up to U (undecillion, 1e36), then switches to scientific notation";O++;Ld[O]="suffixes SI";Md[O]="SI suffixes, such as K for kilo (1000), G for giga (1e9), up to Y for yotta (1e24). For larger numbers switches to scientific notation";O++;
for(var $d=Nd,ae=3,be="K M B T Qa Qi Sx Sp Oc N".split(" "),ce=" U Du T Qa Qi Sx Sp Oc N".split(" "),de=" U D T Qa Qi Sx Sp Oc N".split(" "),ee=" D V Tg Qr Qq Sa Su Oa Na".split(" "),fe=" De V Tg Qr Qq Sa Su Oa Na".split(" "),ge=" C DC TC QC QG SC SG OG NG".split(" "),he=[],ie=[],je=[],ke=0;10>ke;ke++)for(var le=0;10>le;le++)for(var me=0;10>me;me++){var ne=ge[ke];ne+=0==ke&&0==le?be[me]:0==ke?de[me]:ce[me];if(0!=ke||1!=me||1!=le)ne+=0==ke?ee[le]:fe[le];he.push(ne)}
for(ke=0;10>ke;ke++)for(le=0;10>le;le++)for(me=0;10>me;me++)ne=ge[ke],ne+=0==le?ce[me]:de[me],ne+=0==me?fe[le]:ee[le],ie.push(ne),je.push("U"==ne?"":ne);function oe(a){if(!(3>a)){a=Math.floor(a/3)-1;if(0>a||Infinity==a)a=void 0;else if(1E3>a)a=he[a];else{for(var b=ie[a%1E3];a;){a=Math.floor(a/1E3);if(!a)break;b=(1E3>a?je:ie)[a%1E3]+"Mi"+b}a=b}return a}}var pe=void 0,qe=void 0;
function re(a){if(!a)return-1;a=a.toLowerCase();if(!pe){pe={};for(var b=0;b<he.length;b++)pe[he[b].toLowerCase()]=b}b=pe[a];if(void 0!=b)return b;if(!qe){qe=[,{},{},{},{},{},{}];for(b=1;b<ie.length;b++)qe[ie[b].length][ie[b].toLowerCase()]=b;qe[2].mi=0}b=1;for(var d=0,e=!1,f=!0;;){for(var g=!1,k=6;1<=k;k--)if(!(a.length<k)){var h=a.substr(a.length-k),l=qe[k][h];if(void 0!=l){g=!0;if(2==k&&"mi"==h)b*=1E3,e=!0;else{d+=l*b;if(!f&&!e)return-1;e=!1}a=a.substr(0,a.length-k);f=!1;break}}if(!g)return-1;if(0==
a.length)break}e&&(d+=b);return d}
function se(a){function b(g){return"."==g||d(g)}function d(g){var k;(k="-"==g||"+"==g)||(g=g.charCodeAt(0),k=48<=g&&57>=g);return k}var e=a.toLowerCase();if("inf"==e||"infinity"==e)return v(Infinity,0);if("-inf"==e||"-infinity"==e)return v(-Infinity,0);if("nan"==e)return v(NaN,0);var f=a.indexOf("e");0>f&&(f=a.indexOf("E"));if(0<f&&f+1<a.length&&d(a[f+1])){e=parseFloat(a.substr(0,f));a=parseFloat(a.substr(f+1));if(a!=a||-Infinity==a)a=0;return td(e,a)}for(f=0;f<a.length&&b(a[f]);)f++;if(f==a.length)return v(parseFloat(a));
e=parseFloat(a.substr(0,f));a=re(a.substr(f));return 0>a?v(NaN):td(e,3*(a+1))}
function ve(a,b,d,e){b--;d&&(d=3>d?3:8<d?8:d);e=e||10;var f=10==e?Id:.6931471805599453/Math.log(e);if(0>a.f)return"-"+ve(v(-a.f,a.e),b);if(isNaN(a.f))return"NaN";if(Infinity==a.f)return"Inf";if(0==a.f)return"0";var g=a.e*f;f=Math.floor(Jd(a.abs(),e));a=a.f*Math.pow(e,g-f);a+Math.pow(e,-b)>=e?(a/=e,f++):1>a+Math.pow(e,-b-1)&&(a*=e,f--);-1==f&&(f++,b++,a/=e);if(d){for(;0!=f%d;)a*=e,f--,b--;for(;f>=-d&&0>f;)f++,b++,a/=e}for(;1<=f&&2>=f;)f--,b--,a*=e;0>b&&(b=0);10==e?d=a.toFixed(b):(d=a.toString(e).toUpperCase(),
a=d.indexOf("."),0<=a&&(d=d.substr(0,a+b+1)));if(-1!=d.indexOf(".")){for(;"0"==d[d.length-1];)d=d.substr(0,d.length-1);"."==d[d.length-1]&&(d=d.substr(0,d.length-1))}0!=f&&(d+=(10==e?"e":"p")+f);return d}
function we(a,b,d,e){if(0>a.f)return"-"+we(v(-a.f,a.e),b,d);if(isNaN(a.f))return"NaN";if(Infinity==a.f)return"Inf";if(0==a.f)return"0";var f=a.e*Id,g=a.abs().log10();0<g&&(g+=Math.pow(10,-g-1));var k=a.f,h=3*Math.floor(g/3);g<b&&0<=g&&(h=0);-3<=g&&0>g&&(b+=-Math.floor(g),h=0);k*=Math.pow(10,f-h);if(0>=f){k=(""+k).substr(0,b+1);if(-1!=k.indexOf(".")){for(;"0"==k[k.length-1];)k=k.substr(0,k.length-1);"."==k[k.length-1]&&(k=k.substr(0,k.length-1))}0!=h&&(k+="e"+h)}else{1E3<=k+Math.pow(10,-b+2)?(k/=1E3,
h+=3):1>k+Math.pow(10,-b-1)&&(k*=1E3,h-=3);f=b-1;10<=k&&f--;100<=k&&f--;1E3<=k&&f--;1E4<=k&&f--;0>f&&(f=0);k=k.toFixed(f);if(-1!=k.indexOf(".")){for(;"0"==k[k.length-1];)k=k.substr(0,k.length-1);"."==k[k.length-1]&&(k=k.substr(0,k.length-1))}if(0!=h)if(0==d)if(36>=h)k+=oe(h);else return ve(a,b,!e);else if(1==d)d=oe(h),k=void 0!=d?k+d:k+("e"+h);else if(2==d)if(3==h)k+="K";else if(6==h)k+="M";else if(9==h)k+="G";else if(12==h)k+="T";else if(15==h)k+="P";else if(18==h)k+="E";else if(21==h)k+="Z";else if(24==
h)k+="Y";else return ve(a,b,!e);else if(3==d)if(12>=h)k+=oe(h);else return ve(a,b,!e);else{h=Math.floor(h/3);if(0>h)d=void 0;else for(d="";h;)d=String.fromCharCode(97+(h-1)%26)+d,h=Math.floor((h-1)/26);if(void 0!=d)k+=d;else return ve(a,b,!e)}}return k}function xe(a,b){if(0>a.f)return"-"+xe(v(-a.f,a.e),b);if(isNaN(a.f))return"10^NaN";if(Infinity==a.f)return"10^Inf";if(0==a.f)return"0";a=a.log10();b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"10^"+a.toFixed(b)}
function ye(a,b){if(0>a.f)return"-"+ye(v(-a.f,a.e),b);if(isNaN(a.f))return"e^NaN";if(Infinity==a.f)return"e^Inf";if(0==a.f)return"0";a=a.log();b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"e^"+a.toFixed(b)}
function ze(a,b){if(Xa(a,0))return"-"+ze(zd(a),b);var d=Sa(a,1E20),e=!1;Xa(a,1)&&Xa(a,Math.pow(10,-b))&&(e=!0);if(!d&&!e){a=a.valueOf().toFixed(b);if(0<b){for(b=a.length;;){d=a[b-1];if("0"!=d&&"."!=d)break;b--;if("."==d)break}a=a.substr(0,b)}return a}return ve(a,b,!1)}
v.prototype.toString=function(a,b){a=a||ae;b=void 0==b?$d:b;return b==Nd?we(this,a,1):b==Pd?we(this,a,0):b==Od?we(this,a,3):b==Zd?we(this,a,0,!0):b==Yd?we(this,a,3,!0):b==Td?ve(this,a,!1):b==Sd?ve(this,a,!0):b==Qd?we(this,a,2):b==Rd?we(this,a,4):b==Wd?"#"+ve(this,a,4,16):b==Ud?xe(this,a):b==Vd?ye(this,a):b==Xd?ze(this,a):this.f+"e"+this.e};function Q(a,b,d){return a.m(100).toString(b,d)+"%"}v.prototype.valueOf=function(){var a=new v(this);wd(a,0);return a.f};
var Ae="thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion".split(" "),Be=" decillion vigintillion trigintillion quadragintillion quinquagintillion sexagintillion septuagintillion octagintillion nonagintillion".split(" "),Ce=" centillion ducentillion trecentillion quadringentillion quingentillion sescentillion septingentillion octingentillion nongentillion".split(" "),De=" un duo tres quattuor quin sex septen octo novem".split(" "),Ee=" deci viginti triginta quadriginta quinqua sexaginta septuaginta octoginta nonaginta".split(" ");
function Fe(a){if(-Infinity==a)return"[-Inf]";if(Infinity==a)return"[Inf]";if(0>a)return"[Neg]";if(isNaN(a))return"[NaN]";if(1E3<a)return"[TooBigForFullName]";if(1E3==a)return"millillion";var b=a%10,d=Math.floor(a/10)%10,e=Math.floor(a/100)%10;if(10>a)return Ae[b];var f=De[b];a=100<=a?Ee[b]:Be[d];3==b&&0<d&&("d"==a[0]||"s"==a[0])&&(f="tre");return f+a+Ce[e]}
function Ge(a){if(0==a)return"";if(1==a)return"ten";if(2==a)return"hundred";var b="";1==a%3&&(b="ten ");2==a%3&&(b="hundred ");return b+=Fe(Math.floor(a/3)-1)}function He(){var a=Ie.m(1.1);a=Math.floor(Jd(a.abs(),10));return Ge(a)};var Je="seeds spores resin twigs pericarps mycelia amber essence".split(" ");function R(a){if(!(this instanceof R))return new R(a);a||(a={});this.l=v(a.l||0);this.v=v(a.v||0);this.j=v(a.j||0);this.F=v(a.F||0);this.ga=v(a.ga||0);this.Ga=v(a.Ga||0);this.Ca=v(a.Ca||0);this.R=v(a.R||0)}function Ke(){var a=new R;a.cb(1);return a}function Le(a){return[a.l,a.v,a.j,a.F,a.ga,a.Ga,a.Ca,a.R]}c=R.prototype;c.clone=function(){return new R(this)};
function Me(a,b){a.l=b[0]||v(0);a.v=b[1]||v(0);a.j=b[2]||v(0);a.F=b[3]||v(0);a.ga=b[4]||v(0);a.Ga=b[5]||v(0);a.Ca=b[6]||v(0);a.R=b[7]||v(0)}function Ne(a){var b=new R;Me(b,a);return b}c.reset=function(){this.Ba(0)};c.o=function(a){this.l.o(a.l);this.v.o(a.v);this.j.o(a.j);this.F.o(a.F);this.ga.o(a.ga);this.Ga.o(a.Ga);this.Ca.o(a.Ca);this.R.o(a.R)};c.add=function(a){var b=R(this);b.o(a);return b};
c.cb=function(a){a instanceof v||(a=v(a));this.l.o(a);this.v.o(a);this.j.o(a);this.F.o(a);this.ga.o(a);this.Ga.o(a);this.Ca.o(a);this.R.o(a)};c.W=function(a){var b=R(this);b.cb(a);return b};c.da=function(a){this.l.da(a.l);this.v.da(a.v);this.j.da(a.j);this.F.da(a.F);this.ga.da(a.ga);this.Ga.da(a.Ga);this.Ca.da(a.Ca);this.R.da(a.R)};c.sub=function(a){var b=R(this);b.da(a);return b};c.A=function(a){this.l.A(a);this.v.A(a);this.j.A(a);this.F.A(a);this.ga.A(a);this.Ga.A(a);this.Ca.A(a);this.R.A(a)};
c.ea=function(a){var b=R(this);b.A(a);return b};c.Ba=function(a){this.A(v(a))};c.m=function(a){return this.ea(v(a))};c.ib=function(a){this.l.ib(a);this.v.ib(a);this.j.ib(a);this.F.ib(a);this.ga.ib(a);this.Ga.ib(a);this.Ca.ib(a);this.R.ib(a)};c.a=function(a){var b=R(this);b.ib(a);return b};c.pf=function(a){this.ib(v(a))};c.pc=function(a){return this.a(v(a))};function Oe(a,b){a=R(a);a.l.A(b.l);a.v.A(b.v);a.j.A(b.j);a.F.A(b.F);a.ga.A(b.ga);a.Ga.A(b.Ga);a.Ca.A(b.Ca);a.R.A(b.R);return a}
c.yd=function(a){for(var b=Le(this),d=0;d<b.length;d++)b[d].Ne(0)&&b[d].A(a);Me(this,b)};c.ob=function(a){return this.l.ob(a.l)&&this.v.ob(a.v)&&this.j.ob(a.j)&&this.F.ob(a.F)&&this.ga.ob(a.ga)&&this.Ga.ob(a.Ga)&&this.Ca.ob(a.Ca)&&this.R.ob(a.R)?!0:!1};c.Oa=function(a){return this.l.Oa(a.l)&&this.v.Oa(a.v)&&this.j.Oa(a.j)&&this.F.Oa(a.F)&&this.ga.Oa(a.ga)&&this.Ga.Oa(a.Ga)&&this.Ca.Oa(a.Ca)&&this.R.Oa(a.R)?!0:!1};
c.ua=function(a){return this.l.ua(a.l)&&this.v.ua(a.v)&&this.j.ua(a.j)&&this.F.ua(a.F)&&this.ga.ua(a.ga)&&this.Ga.ua(a.Ga)&&this.Ca.ua(a.Ca)&&this.R.ua(a.R)?!0:!1};c.Pc=function(a){return!this.ob(a)};c.X=function(a){return!this.ua(a)};c.ia=function(a){return!this.Oa(a)};c.tg=R.prototype.ua;c.Qe=R.prototype.sg;c.Ff=R.prototype.Oa;c.Oe=R.prototype.Ne;c.empty=function(){for(var a=Le(this),b=0;b<a.length;b++)if(!L(a[b],0))return!1;return!0};
function Pe(a){a=Le(a);for(var b=0;b<a.length;b++)if(Xa(a[b],0))return!0;return!1}function Qe(a){a=Le(a);for(var b=[],d=0;d<a.length;d++)Xa(a[d],0)?b[d]=zd(a[d]):b[d]=v(0);return Ne(b)}function Re(a){a=Le(a);for(var b=Le(H.i),d=[],e=0;e<b.length;e++)L(a[e],0)?d[e]=v(0):d[e]=v(b[e]);return Ne(d)}function Se(a,b){a=Le(a);b=Le(b);for(var d=[],e=0;e<a.length;e++)d[e]=Ua(a[e],b[e]);return Ne(d)}function Te(a,b){a=Le(a);b=Le(b);for(var d=[],e=0;e<a.length;e++)d[e]=Va(a[e],b[e]);return Ne(d)}
c.toString=function(a,b){for(var d=Le(this),e="",f=0;f<d.length;f++)d[f].Pc(v(0))&&(0<e.length&&(e+=", "),e+=d[f].toString(a,b)+" "+Je[f]);""==e&&(e="none");return e};var Ue=window.localstorageNameHTML?window.localstorageNameHTML:"local",Ve=Ue+"_recover",We=Ue+"_success",Xe=Ue+"_prev_version",Ye=Ue+"_prev_version2",Ze=Ue+"_manual",$e=Ue+"_undo",af=Ue+"_transcend",bf=Ue+"_daily1",cf=Ue+"_daily2",df=Ue+"_daily3";var ef=["spring","summer","autumn","winter"],ff=0,gf=ff++,hf=ff++,jf=ff++,kf=ff++,lf=ff++,mf=ff++,nf=ff++,of=ff++,pf=ff++,qf=ff++,rf=ff++,sf=ff;function tf(a){return a==gf?"berry":a==hf?"mushroom":a==jf?"flower":a==kf?"nettle":a==lf?"short-lived":a==mf?"automaton":a==nf?"lotus":a==of?"mistletoe":a==pf?"beehive":a==qf?"challenge":a==rf?"fern":"unknown"}
function uf(a){var b=H.challenge==vf;switch(a){case gf:return"Produces seeds. Boosted by flowers. "+(b?"":"Negatively affected by nettles. ")+"Neighboring mushrooms can consume its seeds to produce spores. Neighboring watercress can copy its production.";case hf:return"Requires berries as neighbors to consume seeds to produce spores. Boosted by flowers"+(b?"":" and nettles")+". Neighboring watercress can copy its production (but also consumption).";case jf:return"Boosts neighboring berries and mushrooms, their production but also their consumption."+
(b?"":" Negatively affected by neighboring nettles.");case kf:return"Boosts neighboring mushrooms spores production (without increasing seeds consumption), but negatively affects neighboring berries and flowers, so avoid touching those with this plant";case lf:return"Produces a small amount of seeds on its own, but can produce much more resources by copying from berry and mushroom neighbors once you have those";case of:return"Produces twigs when tree levels up, when orthogonally next to the tree only. Increases level up spores requirement and slightly decreases resin gain.";
case pf:return"Boosts orthogonally neighboring flowers. Since this is a boost of a boost, indirectly boosts berries and mushrooms by an entirely new factor.";case qf:return"A type of crop specific to a challenge, not available in regular runs.";case rf:return"Ethereal fern, giving starter resources"}}function wf(a){1==H.h[xf].count&&(a*=2);return a}function yf(){var a=v(1),b=zf(Af);0<b&&(b=v(1).add(Bf(Af,b,Cf())),a.A(b));return a}function Df(){var a=120;1==H.h[xf].count&&(a*=2);return a}
function Ef(){var a=180;1==H.h[xf].count&&(a*=2);return a}function Ff(){var a=240;1==H.h[xf].count&&(a*=2);return a}function Gf(){this.name="a";this.G=R();this.Zb=R();this.La=this.index=0;this.Z=v(0);this.Vc="";this.Ea=null;this.type=this.image=void 0;this.H=0;this.Za=!1}function Hf(){return H.P[If].V?3:2}c=Gf.prototype;
c.ta=function(){var a=this.La;if(0==a)return a;if(this.type==lf){if(null!=this.Ea){var b=H.h[this.Ea],d=U[this.Ea];0<b.count&&(a+=this.La*d.oa*b.count)}return a}if(b=H.N[Jf].count)if(d=a,a=Kf*b,0==a)a=d;else{b=30+Math.log(d);d-=b;if(0!=a){var e=1*d/a;d=-(e/Math.pow(Math.pow(e,4)+1,.25)*a)+d}a=d+b}b=zf(Lf);0<b&&(b=v(1).sub(Bf(Lf,b,Cf())).valueOf(),a*=b);return a};
c.D=function(a){var b=1.5;this.type==jf&&(b=2);this.type==lf&&(b=1);this.type==qf&&this.ve&&(b=this.ve);return this.G.m(Math.pow(b,H.Nb[this.index]+(a||0)))};c.de=function(){return this.type==lf||H.challenge==Mf?R(0):this.D(-1).m(.33)};
function Nf(a,b,d,e,f){if(0==d&&a.type==jf){var g=Of();b.A(g);f&&f.push([ef[d],!0,g,b.clone()])}1==d&&a.type==gf&&(g=Pf(),b.A(g),f&&f.push([ef[d],!0,g,b.clone()]));1==d&&a.type==hf&&(g=Qf(),b.A(g),f&&!L(g,1)&&f.push([ef[d],!0,g,b.clone()]));2==d&&a.type==hf&&(g=Rf(),b.yd(g),f&&f.push([ef[d],!0,g,b.clone()]));2==d&&a.type==gf&&(g=Sf(),b.yd(g),f&&!L(g,1)&&f.push([ef[d],!0,g,b.clone()]));if(3==d&&(a.type==gf||a.type==hf||a.type==jf||a.type==pf)&&e){var k=H.h[Uf].count&&a.type==hf&&H.time-H.Pa<Ef(),h=
H.h[Vf].count&&a.type==gf&&H.time-H.Ta<Df(),l=H.h[Wf].count&&H.time-H.Ra<Ff();g=!1;var m=4;H.N[Xf].count&&(m=8);for(var p=0;p<m;p++){var q=e.x+(1==p||4==p||5==p?1:3==p||6==p||7==p?-1:0),n=e.y+(0==p||4==p||7==p?-1:2==p||5==p||6==p?1:0);if(!(0>q||q>=H.s||0>n||n>=H.u)&&(q=H.B[n][q],q.index==Yf||q.index==Zf)){g=!0;break}}e=!1;a.type==gf&&h&&(e=!0);a.type==hf&&k&&(e=!0);a.type==jf&&l&&(e=!0);g||e||(e=v($f),L(e,1)||(b.yd(e),f&&f.push([ef[d],!0,e,b.clone()])));!g||a.type!=gf&&a.type!=hf||(g=ag(),b.A(g),
f&&f.push(["winter tree warmth",!0,g,b.clone()]))}}
c.sc=function(a,b,d){var e=R(this.Zb);d&&d.push(["base",!0,v(0),e.clone()]);if(!b&&a&&(!bg(a)||H.challenge==Mf))if(H.challenge==Mf){var f=v(cg(a.C));e.A(f);d&&d.push(["withering",!0,f,e.clone()])}else f=v(a.C),e.A(f),d&&d.push(["growing",!0,f,e.clone()]);if(null!=this.Ea&&this.type!=lf){f=H.h[this.Ea];var g=U[this.Ea];0<f.count&&(g=Cd(g.oa,f.count),e.A(g),d&&d.push([" upgrades ("+f.count+")",!0,g,e.clone()]))}null!=this.Ea&&this.type==lf&&(f=H.h[this.Ea],g=U[this.Ea],0<f.count&&(g=v(1).add(v(.5).m(f.count)),
e.A(g),d&&d.push([" upgrades ("+f.count+")",!0,g,e.clone()])));e.A(H.vd);d&&d.push(["achievements",!0,H.vd,e.clone()]);this.type==gf&&(f=zf(dg),0<f&&(f=Bf(dg,f,Cf()).W(1),e.A(f),d&&d.push(["fruit: "+eg(dg),!0,f,e.clone()])));this.type==hf&&(f=zf(fg),0<f&&(f=Bf(fg,f,Cf()).W(1),e.A(f),d&&d.push(["fruit: "+eg(fg),!0,f,e.clone()])),f=zf(gg),0<f&&(f=v(1).sub(Bf(gg,f,Cf())),e.l.A(f),d&&d.push(["fruit: "+eg(gg),!0,f,e.clone()])));f=Ke();this.type==gf&&(f.l=H.De.W(1));this.type==hf&&(f.l=H.Nd.W(1),f.v=H.Nd.W(1));
g=Oe(e,f);if(e.Pc(g)){if(d){f=v(1);e=Le(e);for(var k=Le(g),h=0;h<e.length;h++)if(e[h].Pc(k[h])){f=k[h].a(e[h]);break}d.push(["ethereal crops",!0,f,g.clone()])}e=g}H.i.j.Oe(1)&&(f=hg(H.i.j),e.A(f),d&&d.push(["unused resin",!0,f,e.clone()]));g=ig();if(a&&(this.type==gf||this.type==hf)){var l=v(1);f=0;k=function(n,x){return jg(x)&&kg(x).type!=kf&&(n=kg(x).Ya(x),!L(n,0))?(l.o(n),!0):!1};0<a.x&&k(this,H.B[a.y][a.x-1])&&f++;0<a.y&&k(this,H.B[a.y-1][a.x])&&f++;a.x+1<H.s&&k(this,H.B[a.y][a.x+1])&&f++;a.y+
1<H.u&&k(this,H.B[a.y+1][a.x])&&f++;e.A(l);d&&0<f&&d.push(["flowers ("+f+")",!0,l,e.clone()])}a&&this.type==gf&&(f=lg[a.y][a.x],k=f.Hf,f=f.Jf,0<f&&(e.A(k),d&&d.push(["nettles malus ("+f+")",!0,k,e.clone()])));if(a&&this.type==hf){var m=v(1);f=0;k=function(n,x){return jg(x)&&kg(x).type==kf&&(n=kg(x).Ya(x),!L(n,0))?(m.o(n),!0):!1};0<a.x&&k(this,H.B[a.y][a.x-1])&&f++;0<a.y&&k(this,H.B[a.y-1][a.x])&&f++;a.x+1<H.s&&k(this,H.B[a.y][a.x+1])&&f++;a.y+1<H.u&&k(this,H.B[a.y+1][a.x])&&f++;e.v.A(m);d&&0<f&&d.push(["nettles ("+
f+")",!0,m,e.clone()])}0<H.g&&this.type!=lf&&(f=v(1).add(mg()),e.A(f),d&&!L(f,1)&&d.push(["tree level ("+H.g+")",!0,f,e.clone()]));k=H.h[Uf].count&&this.type==hf&&H.time-H.Pa<Ef();f=H.h[Vf].count&&this.type==gf&&H.time-H.Ta<Df();Nf(this,e,g,a,d);k&&this.type==hf&&(g=v(.75),2==H.h[xf].count&&g.pf(1+ng),e.l.A(g),d&&d.push(["mist (less seeds)",!0,g,e.clone()]),g=v(1),g.A(yf()),2==H.h[xf].count&&g.Ba(1+ng),g.cb(1),e.v.A(g),d&&d.push(["mist (more spores)",!0,g,e.clone()]));f&&this.type==gf&&(f=v(.5),f.A(yf()),
2==H.h[xf].count&&f.Ba(1+ng),f.cb(1),e.l.Ba(f),d&&d.push(["sun",!0,f,e.clone()]));this.type!=gf&&this.type!=hf||L(H.oc,0)||(f=H.oc.W(1),e.A(f),d&&d.push(["challenge highest levels",!0,f,e.clone()]));H.challenge==vf&&(f=H.se.W(1),e.yd(f),d&&d.push(["worker bees (challenge)",!0,f,e.clone()]));if(b&&this.type==lf&&a){b=og(this);f=lg[a.y][a.x];g=R();for(k=f=0;4>k;k++){var p=a.x+(1==k?1:3==k?-1:0),q=a.y+(2==k?1:0==k?-1:0);0>p||p>=H.s||0>q||q>=H.u||!(h=kg(H.B[q][p]))||(p=lg[q][p],h.type!=gf&&h.type!=hf)||
(g.o(p.Gb),f++)}e.o(g);d&&(g.empty()?d.push(["no neighbors, not copying",!1,g,e.clone()]):(Xa(b,1)&&d.push(["copy reduction due to multiple watercress globally",!0,b,void 0]),d.push(['<span class="efWatercressHighlight">copying neighbors ('+f+")</span>",!1,g,e.clone()])))}return e};
c.Ya=function(a,b,d){if(this.type!=jf&&this.type!=kf)return v(0);var e=this.Z.clone();d&&d.push(["base",!0,v(0),e.clone()]);b||!a||bg(a)&&H.challenge!=Mf||(H.challenge==Mf?(b=v(cg(a.C)),e.A(b),d&&d.push(["withering",!0,b,e.clone()])):(b=v(a.C),e.A(b),d&&d.push(["growing",!0,b,e.clone()])));b=H.h[Wf].count&&H.time-H.Ra<Ff();if(null!=this.Ea){var f=H.h[this.Ea],g=U[this.Ea];if(0<f.count){var k=f.count;this.type==kf&&(k=Math.pow(k,pg));g=g.oa.m(k).W(1);e.A(g);d&&d.push([" upgrades ("+f.count+")",!0,
g,e.clone()])}}Nf(this,e,ig(),a,d);this.type==jf&&(f=zf(qg),0<f&&(f=Bf(qg,f,Cf()).W(1),e.A(f),d&&d.push(["fruit: "+eg(qg),!0,f,e.clone()])));this.type==kf&&(f=zf(rg),0<f&&(f=Bf(rg,f,Cf()).W(1),e.A(f),d&&d.push(["fruit: "+eg(rg),!0,f,e.clone()])));this.type==jf&&(f=H.Ee.W(1),L(f,1)||(e.A(f),d&&d.push(["ethereal crops",!0,f,e.clone()])));this.type==kf&&(f=H.Od.W(1),L(f,1)||(e.A(f),d&&d.push(["ethereal crops",!0,f,e.clone()])));this.type==jf&&b&&(b=v(.5),b.A(yf()),2==H.h[xf].count&&b.Ba(1+ng),b.cb(1),
e.Ba(b),d&&d.push(["rainbow",!0,b,e.clone()]));H.challenge==vf&&(b=H.se.W(1),e.yd(b),d&&d.push(["worker bees (challenge)",!0,b,e.clone()]));a&&this.type==jf&&(b=lg[a.y][a.x],f=b.jg.W(1),b=b.ug,0<b&&(e.A(f),d&&d.push(["beehives ("+b+")",!0,f,e.clone()])));a&&this.type==jf&&(b=lg[a.y][a.x],a=b.Hf,b=b.Jf,0<b&&(e.A(a),d&&d.push(["nettles malus ("+b+")",!0,a,e.clone()])));return e};
function sg(a,b,d,e){var f=v(0),g=!1;a.type==pf&&(g=!0);a.index==tg&&(g=!0);a.index==ug&&(g=!0);a.index==vg&&(g=!0);if(!g)return e&&e.push(["base",!0,v(0),f.clone()]),f;f=a.Z.clone();e&&e.push(["base",!0,v(0),f.clone()]);if(!d&&b&&(!bg(b)||H.challenge==Mf)){if(a.type==qf)return v(0);H.challenge==Mf?(d=v(cg(b.C)),f.A(d),e&&e.push(["withering",!0,d,f.clone()])):(d=v(b.C),f.A(d),e&&e.push(["growing",!0,d,f.clone()]))}if(null!=a.Ea&&(d=H.h[a.Ea],g=U[a.Ea],0<d.count)){var k=v(d.count);Ad(k,wg);g=g.oa.m(k).W(1);
f.A(g);e&&e.push([" upgrades ("+d.count+")",!0,g,f.clone()])}Nf(a,f,ig(),b,e);return f}function og(a,b){if(a.type!=lf){var d=v(0);b&&b.push(["none",!0,v(0),d.clone()]);return R()}d=v(1);b&&b.push(["base",!0,v(1),d.clone()]);var e=zf(xg);0<e&&(e=Bf(xg,e,Cf()).W(1),d.A(e),b&&b.push(["fruit: "+eg(xg),!0,e,d.clone()]));a=H.Nb[a.index];1<a&&(a=1/(1+.75*(a-1)),d.Ba(a),b&&b.push(["reduction for multiple",!0,v(a),d.clone()]));return d}var yg=[],V=[],zg=[],Ag=-1;
function Bg(a,b,d,e,f,g,k,h,l){g||(g=Zb);if(V[Ag]||0>Ag||65535<Ag)throw"crop id already exists or is invalid!";var m=new Gf;m.index=Ag++;V[m.index]=m;yg.push(m.index);m.name=a;m.G=b;m.Zb=d;m.La=f||0;m.image=g;m.Vc=k||"";m.Z=e;m.type=h;m.H=l;void 0!=h&&void 0!=l&&(zg[h]||(zg[h]=[]),zg[h][l]=m);return m.index}function Cg(a,b,d,e,f){var g=Dg(b),k=Eg(b);return Bg(a,g,k,v(0),d,e,f,gf,b)}
function Fg(a,b,d,e,f){var g=Gg(b);var k=zd(Eg(2+2*b).l);var h=zd(Eg(2).l);h=k.a(h).m(1);h.Ba(Math.pow(.25,b));k=R({l:k,v:h});return Bg(a,g,k,v(0),d,e,f,hf,b)}function Hg(a,b,d,e,f){var g=Ig(b);return Bg(a,g,R({}),d,e,f,void 0,jf,b)}function Jg(a,b,d,e,f){var g=Gg(1.1+2*b);return Bg(a,g,R({}),d,e,f,void 0,kf,b)}function Kg(a,b,d,e,f){var g=R({l:10});return Bg(a,g,d,v(0),e,f,void 0,lf,b)}function Lg(a,b,d,e){var f=Gg(0).m(2),g=R({});return Bg(a,f,g,v(0),d,e,void 0,of,b)}
function Mg(a,b,d,e,f){var g=Ig(2*(b+1)+.15);a=Bg(a,g,R({}),v(0),e,f,void 0,pf,b);V[a].Z=d;return a}function Ng(a,b,d,e,f){return Bg(a,b,R({}),v(0),d,e,f,qf,0)}function Dg(a){var b=Gd(2E3,v(a));b.Ba(20);0==a&&b.Ba(50);1<a&&b.A(Gd(1.5,v((a-1)*(a-1))));a=b;b=v(a);b.f=Math.round(2147483648*a.f)/2147483648;return R({l:b})}function Eg(a){var b=Gd(2E3,v(a));b.Ba(2);0==a&&b.Ba(2);b.A(Gd(.35,v(a)));return R({l:b})}function Gg(a){return Dg(1.5+2*a)}function Ig(a){return Dg(2.5+2*a)}Ag=25;
var Og=Cg("blackberry",0,60,$b),Pg=Cg("blueberry",1,120,ac),Qg=Cg("cranberry",2,240,bc),Rg=Cg("currant",3,480,cc),Sg=Cg("goji",4,720,dc),Tg=Cg("gooseberry",5,960,ec),Ug=Cg("grape",6,1200,fc),Vg=Cg("honeyberry",7,1500,gc),Wg=Cg("juniper",8,1800,hc),Xg=Cg("lingonberry",9,2100,ic),Yg=Cg("mulberry",10,2400,jc),Zg=Cg("physalis",11,2700,kc),$g=Cg("raspberry",12,3E3,lc),ah=Cg("strawberry",13,3300,mc,"actually not a berry... (but in this game it acts as one)"),bh=Cg("whitecurrant",14,3600,nc);Ag=50;
var ch=Fg("champignon",0,120,vc),dh=Fg("matsutake",1,360,xc),eh=Fg("morel",2,720,wc),fh=Fg("muscaria",3,1080,yc,"amanita muscaria"),gh=Fg("portobello",4,1440,zc),hh=Fg("shiitake",5,1800,Ac),ih=Fg("truffle",6,2160,Bc),jh=v(.5),kh=v(16);Ag=75;
var lh=Hg("clover",0,jh.ea(Cd(kh,0)),180,oc),mh=Hg("cornflower",1,jh.ea(Cd(kh,1)),540,pc),oh=Hg("daisy",2,jh.ea(Cd(kh,2)),1080,qc),ph=Hg("dandelion",3,jh.ea(Cd(kh,3)),1620,rc),qh=Hg("iris",4,jh.ea(Cd(kh,4)),2160,sc),rh=Hg("lavendar",5,jh.ea(Cd(kh,5)),2700,tc),sh=Hg("orchid",6,jh.ea(Cd(kh,6)),3240,uc);Ag=100;var th=Jg("nettle",0,v(4),60,Cc);Ag=105;var uh=Kg("watercress",0,R({l:1}),60,Dc);Ag=110;var vh=Lg("mistletoe",0,50,Hc);Ag=120;var wh=Mg("beehive",0,v(3),300,Ic);Ag=200;
var tg=Ng("worker bee",R({l:2E4}),60,Kc,"provides bonus to all crops, but only if next to a flower. This bonus is boosted if next to a queen bee. Since it boosts berries, flowers, mushrooms and mushroom economy, it scales cubically rather than just linearly.");V[tg].ve=v(25);V[tg].Z=v(.2);var ug=Ng("queen bee",R({l:2E5}),90,Jc,"Boosts orthogonally neighboring worker bees. Can be boosted by beehive");V[ug].ve=v(25);V[ug].Z=v(1);var vg=Ng("beehive",R({l:2E6}),120,Ic,"Boosts orthogonally neighboring queen bees. Note: not related to main game beehive you get as bonus from completing this challenge, very different rules during the challenge.");
V[vg].ve=v(25);V[vg].Z=v(1);var xh=Bg("aster",R({l:2E4}),R({}),v(.1),60,Lc,"This flower is only available during the bee challenge");V[xh].type=jf;function yh(a){V[a].Za=!0;V[a].G=R(0);return a}Ag=300;
var zh=yh(Kg("watercress template",-1,R(0),0,Rc)),Ah=yh(Cg("berry template",-1,0,Tc)),Bh=yh(Fg("mushroom template",-1,0,Vc)),Ch=yh(Hg("flower template",-1,v(0),0,Xc)),Dh=yh(Jg("nettle template",-1,v(0),0,Zc)),Eh=yh(Mg("bee template",-1,v(0),0,bd)),Fh=yh(Lg("mistletoe template",-1,0,dd)),Gh=[],U=[],Hh=-1;
function Ih(){this.name="a";this.description=void 0;this.Cc="A";this.Dc="B";this.ef=this.Ia=void 0;this.index=0;this.qa=1;this.sd=this.fe=this.Mc=this.Sb=!1;this.G=R();this.ze=v(1);this.oa=void 0;this.zc="#ff0";this.Ac="000";this.qd=this.Lc=void 0;this.Md=!1;this.ma=void 0;this.Pb=function(){var a=this.name;0<H.h[this.index].count&&1!=this.qa&&(a+=" "+z.Ib(H.h[this.index].count));return a};this.Df=function(){var a=this.name;1!=this.qa&&(a+=" "+z.Ib(H.h[this.index].count+1));return a};this.rd=function(){return 0==
this.qa?!1:H.h[this.index].count>=this.qa};this.nc=function(){return H.h[this.index].c&&!this.rd()};this.D=function(a){a=Cd(this.ze,H.h[this.index].count+(a||0));return this.G.ea(a)}}
function Jh(a,b,d,e,f,g,k,h,l,m){if(U[Hh]||0>Hh||65535<Hh)throw"upgrades id already exists or is invalid!";var p=new Ih;p.index=Hh++;U[p.index]=p;Gh.push(p.index);p.name=a;p.G=b;p.qa=f;k&&(p.zc=k);h&&(p.Ac=h);l&&(p.Lc=l);m&&(p.qd=m);p.Ia=function(q){this.Sb?H.h[this.index].count=q:H.h[this.index].count++;H.h[this.index].c=!0;d()};e||(e=function(){return!0});p.ef=e;p.description=g;return p.index}
function Kh(a,b,d,e,f){var g=V[a],k="Unlock "+g.name,h="Unlocks new crop: "+g.name+".";Sa(g.Zb.l,0)&&(h+=" Produces seeds.");Sa(g.Zb.v,0)&&(h+=" Produces spores.");L(g.Z,0)||(h=g.type==kf?h+" Boosts neighbor mushroom spores production without increasing seed consumption. However, negatively affects neighboring berries and flowers, so avoid touching those with this plant.":g.type==pf?h+" Boosts neighboring flower's boost.":h+" Boosts neighbors. Does not boost watercress directly, but watercress gets same boosts as its neighbor resource-producing crops.");
h+=" Crop type: "+tf(g.type);k=Jh(k,b,function(){a==lh&&W("You unlocked the first type of flower! Flowers don't produce resources directly, but boost neighboring plants.",Lh,456645);a==Mh&&W("You unlocked the first type of mushroom! Mushrooms produce spores rather than seeds, and spores will be used by the tree.",Lh,8932);H.M[g.index].c=!0},function(){return e&&!e()?!1:f&&f()||void 0==d||H.rb[gf]>V[d].H?!0:!!H.sa[d]},1,h,"#dfc","#0a0",g.image[4],void 0);h=U[k];h.ma=a;h.fe=!0;h.D=function(){return b};
return k}
function Nh(a,b,d){var e=V[a],f=e.name;e.Ea=Hh;var g="production";e.type==hf&&(g="production but also consumption");g="Improves "+g+" of "+e.name+" by 25% (multiplicative)";e.type==hf&&(g+="<br><br>WARNING! if your mushrooms don't have enough seeds from neighbors, this upgrade will not help you for now since it also increases the consumption. Get your seeds production up first!");b=Jh("Upgrade "+f,b,function(){},function(){return void 0==d?1<=H.sa[a]:H.h[d].count},0,g,"#fdd","#f00",e.image[4],Fb);
e=U[b];e.oa=v(1.25);e.ma=a;e.Mc=!0;e.D=function(k){k=H.h[this.index].count+(k||0);var h=Dd(v(Oh),k);h=this.G.ea(h);1<k&&(h=h.ea(Dd(v(1.002),(k-1)*(k-1))));return h};return b}
function Ph(a,b,d,e,f){var g=V[a],k=g.name;g.Ea=Hh;b=Jh("Upgrade "+k,b,function(){},function(){return void 0==e?1<=H.sa[a]:H.h[e].count},0,g.type==kf?"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (scales by n^"+pg+" )":g.type==pf?"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (scales by n^"+wg+" )":"Improves boost of "+g.name+" by "+Math.floor(100*d)+"% (additive)","#fdd","#f00",g.image[4],Fb);g=U[b];g.oa=v(d);g.ma=a;g.Mc=!0;g.D=function(h){h=Dd(v(f),H.h[this.index].count+(h||0));
return this.G.ea(h)};return b}function Qh(a,b,d,e,f,g,k,h){g="Choice upgrade, pick one of the two proposed effects. Choose wisely. <br><br><b>"+e+"</b>:<br>"+g+"<br><br><b>"+f+"</b>:<br>"+k;a=Jh(a,R(),d,b,1,g,"#000","#fff",h,void 0);b=U[a];b.Sb=!0;b.Cc=e;b.Dc=f;return a}function Rh(){var a=Jh("<none>",R(),function(){},function(){return!1},1,"<none>");U[a].Md=!0;return a}Hh=25;
var Sh=Kh(Og,Dg(0),uh,function(){return 5<=H.lc+H.Vb}),Uh=Kh(Pg,Dg(1),Og,void 0,function(){return H.N[Th].count&&H.h[Sh].count?!0:!1}),Wh=Kh(Qg,Dg(2),Pg,void 0,function(){return H.N[Vh].count&&H.h[Uh].count?!0:!1}),Xh=Kh(Rg,Dg(3),Qg),Yh=Kh(Sg,Dg(4),Rg),Zh=Kh(Tg,Dg(5),Sg),$h=Kh(Ug,Dg(6),Tg),ai=Kh(Vg,Dg(7),Ug),bi=Kh(Wg,Dg(8),Vg),ci=Kh(Xg,Dg(9),Wg),di=Kh(Yg,Dg(10),Xg),ei=Kh(Zg,Dg(11),Yg),fi=Kh($g,Dg(12),Zg),gi=Kh(ah,Dg(13),$g),hi=Kh(bh,Dg(14),ah);Hh=50;
var Mh=Kh(ch,Gg(0),Pg,void 0,function(){return H.N[Th].count&&H.h[Uh].count?!0:!1}),ii=Kh(dh,Gg(1),Rg,function(){return!!H.h[Mh].count}),ji=Kh(eh,Gg(2),Tg,function(){return!!H.h[ii].count}),ki=Kh(fh,Gg(3),Vg,function(){return!!H.h[ji].count}),li=Kh(gh,Gg(4),Xg,function(){return!!H.h[ki].count}),mi=Kh(hh,Gg(5),Zg,function(){return!!H.h[li].count}),ni=Kh(ih,Gg(6),ah,function(){return!!H.h[mi].count});Hh=75;
var oi=Kh(lh,Ig(0),Qg,void 0,function(){return H.N[Vh].count&&H.h[Wh].count?!0:!1}),pi=Kh(mh,Ig(1),Sg,function(){return!!H.h[oi].count}),qi=Kh(oh,Ig(2),Ug,function(){return!!H.h[pi].count}),ri=Kh(ph,Ig(3),Wg,function(){return!!H.h[qi].count}),si=Kh(qh,Ig(4),Yg,function(){return!!H.h[ri].count}),ti=Kh(rh,Ig(5),$g,function(){return!!H.h[si].count}),ui=Kh(sh,Ig(6),bh,function(){return!!H.h[ti].count});Hh=100;var vi=Kh(th,Gg(1.1),void 0,function(){return H.sa[dh]||H.sa[Sg]?!0:!1});Hh=110;
var xi=Kh(vh,Gg(0).m(2),void 0,function(){return 0<H.aa&&H.N[wi].count?H.N[Th].count&&H.h[Uh].count||H.sa[Pg]?!0:!1:!1});Hh=120;var yi=Kh(wh,Ig(2.15),void 0,function(){return H.P[vf].V?H.sa[oh]||H.sa[Vg]?!0:!1:!1}),Oh=1.65,pg=1.05,wg=1.05;Hh=125;var Ci=Nh(Og,Dg(0).m(10),Sh);Nh(Pg,Dg(1).m(10),Uh);Nh(Qg,Dg(2).m(10),Wh);Nh(Rg,Dg(3).m(10),Xh);Nh(Sg,Dg(4).m(10),Yh);Nh(Tg,Dg(5).m(10),Zh);Nh(Ug,Dg(6).m(10),$h);Nh(Vg,Dg(7).m(10),ai);Nh(Wg,Dg(8).m(10),bi);Nh(Xg,Dg(9).m(10),ci);Nh(Yg,Dg(10).m(10),di);
Nh(Zg,Dg(11).m(10),ei);Nh($g,Dg(12).m(10),fi);Nh(ah,Dg(13).m(10),gi);Nh(bh,Dg(14).m(10),hi);Hh=150;var Di=Nh(ch,Gg(0).m(10),Mh);Nh(dh,Gg(1).m(10),ii);Nh(eh,Gg(2).m(10),ji);Nh(fh,Gg(3).m(10),ki);Nh(gh,Gg(4).m(10),li);Nh(hh,Gg(5).m(10),mi);Nh(ih,Gg(6).m(10),ni);Hh=175;var Ei=Ph(lh,Ig(0).m(15),.5,oi,2.5);Ph(mh,Ig(1).m(15),.5,pi,2.5);Ph(oh,Ig(2).m(15),.5,qi,2.5);Ph(ph,Ig(3).m(15),.5,ri,2.5);Ph(qh,Ig(4).m(15),.5,si,2.5);Ph(rh,Ig(5).m(15),.5,ti,2.5);Ph(sh,Ig(6).m(15),.5,ui,2.5);Hh=200;
var Fi=Ph(th,Gg(1.1).m(10),.5,vi,2.5);Hh=205;
var Gi=function(a,b,d,e,f,g){var k=V[a],h=k.name;k.Ea=Hh;b=Jh("Upgrade "+h,b,function(){},function(){return g&&!g()?!1:void 0==f?H.sa[a]>=(e||1):H.h[f].count},0,"Adds "+100*d+"%  time duration to the lifespan of "+k.name+" (additive), and adds 50% base production excluding the neighbor copying effect. (additive)","#fdd","#f00",k.image[4],Fb);k=U[b];k.oa=v(d);k.ma=a;k.Mc=!0;k.D=function(l){l=Dd(v(Oh),H.h[this.index].count+(l||0));return this.G.ea(l)};return b}(uh,R({l:100}),.2,1,void 0,function(){return(1<=
H.lc||5<=H.Vb)&&1<=H.Vb});Hh=215;var Hi=Ph(wh,V[wh].G.m(10),.5,yi,5);Hh=250;var Uf=Jh("mist ability",Ii(4).m(0),function(){},function(){return 4<=H.g?(H.h[Uf].c=!0,H.h[Uf].count=1,!0):!1},1,'While enabled, mist temporarily decreases mushroom seed consumption while increasing spore production of mushrooms. In addition, mushrooms are then not affected by winter. This active ability is enabled using its icon button at the top or the "2" key.',"#fff","#88f",Ib,void 0);U[Uf].sd=!0;
var Vf=Jh("sun ability",Ii(2).m(0),function(){},function(){return 2<=H.g?(H.h[Vf].c=!0,H.h[Vf].count=1,!0):!1},1,'While enabled, the sun temporarily increases berry seed production. In addition, berries are then not affected by winter. This active ability is enabled using its icon button at the top or the "1" key.',"#ccf","#88f",Jb,void 0);U[Vf].sd=!0;
var Wf=Jh("rainbow ability",Ii(6).m(0),function(){},function(){return 6<=H.g?(H.h[Wf].c=!0,H.h[Wf].count=1,!0):!1},1,'While enabled, flowers get a boost, and in addition are not affected by winter. This active ability is enabled using its icon button at the top or the "3" key.',"#ccf","#00f",Lb,void 0);U[Wf].sd=!0;Hh=275;
var Ji=Qh("fern choice",function(){return 3<=H.g},function(){},"Slower ferns","Richer ferns","Ferns take 9 instead of 2 minutes to appear, but contain enough resources to make up the difference exactly. This allows to collect more fern resources during idle play, but has no effect on the overall fern income during active play. This starts taking effect only for the next fern that appears.","Ferns contain on average 25% more resources, but they'll appear as often as before so this benefits active play more than idle play. This starts taking effect only for the next fern that appears.",
wb[0]);U[Ji].sd=!0;var Ki=Rh();Rh();Rh();Rh();Rh();Rh();Rh();
var ng=.25,xf=Qh("weather choice",function(){return 8<=H.g},function(){1==H.h[xf].count&&(120<H.time-H.Ta&&(H.Ta-=720),180<H.time-H.Pa&&(H.Pa-=1080),240<H.time-H.Ra&&(H.Ra-=1440))},"Long weather","Strong weather","Makes the active weather abilities run twice as long, but also twice as long to recharge. This benefits idle play, but gives on average no benefit for active play.","Increases all active ability weather effects by "+100*ng+"%. The active abilities recharge time remains the same so this benefits active play more than idle play.",Jb);
U[xf].sd=!0;var Li=Rh();Hh=400;Ph(xh,R({l:1E3}).m(15),.5,void 0,2.5);var Mi=Ph(tg,V[tg].G.m(10),v(.5),void 0,10);U[Mi].description="boosts the worker bee boost "+Q(U[Mi].oa)+" (additive)";var Ni=Ph(ug,V[ug].G.m(10),v(.5),void 0,10);U[Ni].description="boosts the queen bee boost "+Q(U[Ni].oa)+" (additive)";var Oi=Ph(vg,V[vg].G.m(10),v(.5),void 0,10);U[Oi].description="boosts the beehive boost "+Q(U[Oi].oa)+" (additive)";
function Pi(){this.name="a";this.lg=void 0;this.Ad=v(0);this.icon=this.hint=void 0}function Qi(a){a=a.Ad.m(100);return Xa(a,1)?0:Xa(a,3)?1:Xa(a,7.5)?2:Xa(a,15)?3:Xa(a,30)?4:Xa(a,75)?5:Xa(a,150)?6:Xa(a,300)?7:Xa(a,750)?8:Xa(a,1500)?9:10}var Ri=[],Si=[],Ti=-1;function Ui(a,b,d,e,f){if(Si[Ti]||0>Ti||65535<Ti)throw"medal id already exists or is invalid!";var g=new Pi;g.index=Ti++;Si[g.index]=g;Ri.push(g.index);g.name=a;g.description=b;g.icon=d;g.lg=e;g.Ad=f;d||(g.icon=pd[Qi(g)]);return g.index}Ti=0;
Ui("crowded","planted something on every single field cell. Time to delete crops when more room is needed!",void 0,function(){return 0!=H.Te?!1:H.Lf>=H.s*H.u-5},v(.02));Ui("fern 100","clicked 100 ferns",wb[0],function(){return 100<=H.Ob},v(.01));Ui("fern 1000","clicked 1000 ferns",wb[0],function(){return 1E3<=H.Ob},v(.05));Ui("fern 10000","clicked 10000 ferns",wb[0],function(){return 1E4<=H.Ob},v(.2));var Vi;Ti=4;
for(var Wi=[1E3,1E6,1E9,1E12,1E15,1E18,1E21,1E24,1E27,1E30,1E36,1E42,1E48,1E54,1E60,1E72],Xi=[.1,.3,.5,1,2,3,4,5,6,7,8,10,12,15,30,50],Yi=0;Yi<Wi.length;Yi++){var Ie=v(Wi[Yi]),Zi=He(),$i=Ie.toString(3,Nd),aj=Ie.toString(3,Td),bj=Zi+" seeds",cj=Ui(bj,"have over "+$i+" ("+aj+") seeds",Gb,A(function(a){return H.i.l.X(a)},Ie),v(Xi[Yi]).m(.01));0<Yi&&(Si[cj].hint=Vi);Vi=cj}Ti=39;var dj=[5,50,100,200,500,1E3,1500,2E3,5E3],ej=[.01,.01,.02,.02,.05,.05,.1,.1,.2];
for(Yi=0;Yi<dj.length;Yi++){var fj=dj[Yi],gj=ej[Yi];bj="planted "+fj;cj=Ui(bj,"Planted "+fj+" or more permanent plants over the course of the game",$b[0],A(function(a){return H.Vd>=a},fj),v(gj));0<Yi&&(Si[cj].hint=Vi);Vi=cj}Ti+=20;var hj=[5,10,15,20,25,30,35,40,45,50,60,70,80,90,100,150];
for(Yi=0;Yi<hj.length;Yi++){var ij=v(hj[Yi]),jj=ij.pc(200),kj=ij.toString(5,Xd);bj="tree level "+kj;cj=Ui(bj,"Reached tree level "+kj,ld[lj(ij)][1][1],A(function(a){return a.Qe(H.g)},ij),jj);0<Yi&&(Si[cj].hint=Vi);Vi=cj}Ti=104;Ui("four seasons","reached winter and seen all seasons",Bb[0],function(){return 3==ig()},v(.05));Ti=110;Ui("watercress","plant the entire field full of watercress",Dc[4],function(){return H.Ae[lf]==H.s*H.u-2},v(.01));
Ui("berries","plant the entire field full of berries",$b[4],function(){return H.Xb[gf]==H.s*H.u-2},v(.01));Ui("flowers","plant the entire field full of flowers. Pretty, at least that's something",oc[4],function(){return H.Xb[jf]==H.s*H.u-2},v(.01));Ui("mushrooms","plant the entire field full of mushrooms. I, for one, respect our new fungus overlords.",vc[4],function(){return H.Xb[hf]==H.s*H.u-2},v(.01));
Ui("stingy situation","plant the entire field full of nettles",Cc[4],function(){return H.Xb[kf]==H.s*H.u-2},v(.01));Ui("mistletoes","plant the entire field full of mistletoes. You know they only work next to the tree, right?",Hc[4],function(){return H.Xb[of]==H.s*H.u-2},v(.05));Ui("not the bees","build the entire field full of beehives.",Ic[0],function(){return H.Xb[pf]==H.s*H.u-2},v(.1));
Ui("unbeelievable","fill the entire field with bees and/or beehives during the bees challenge.",Kc[4],function(){return H.sa[tg]+H.sa[ug]+H.sa[vg]==H.s*H.u-2},v(.2));Ui("buzzy","fill the entire field with worker bees during the bees challenge.",Kc[4],function(){return H.sa[tg]==H.s*H.u-2},v(.3));Ui("royal buzz","fill the entire field with queen bees during the bees challenge.",Jc[4],function(){return H.sa[ug]==H.s*H.u-2},v(.4));
Ui("unbeetable","fill the entire field with beehives during the bees challenge.",Ic[4],function(){return H.sa[vg]==H.s*H.u-2},v(.5));Ti=125;var mj=[1,5,10,20,50,100,200,500,1E3],nj=[.1,.2,.25,.3,.5,1,2,3,4];for(Yi=0;Yi<mj.length;Yi++)ij=mj[Yi],jj=v(nj[Yi]),bj="transcend "+ij,cj=Ui(bj,"Transcended "+ij+" times",rd,A(function(a){return H.aa>=a},ij),jj),0<Yi&&(Si[cj].hint=Vi),Vi=cj;
function oj(a,b){var d=V[a],e=d.H;d.type==hf&&(e=2*e+1);d.type==jf&&(e=2*e+2);d.type==kf&&(e=3);d.type==of&&(e=4);return Ui(d.name+" "+b,"have "+b+" fullgrown "+d.name,d.image[4],function(){return H.sa[a]>=b},v(Math.ceil((e+1)*Math.log(e+1.5))*(Math.floor(b/10)+1)/100*.25))}function pj(a){var b=oj(a,1),d=oj(a,10),e=oj(a,20);a=oj(a,30);Ti+=1;Si[d].hint=b;Si[e].hint=d;Si[a].hint=e}Ti=149;pj(Og);pj(Pg);pj(Qg);pj(Rg);pj(Sg);pj(Tg);pj(Ug);pj(Vg);pj(Wg);pj(Xg);pj(Yg);pj(Zg);pj($g);pj(ah);pj(bh);Ti=249;
pj(ch);pj(dh);pj(eh);pj(fh);pj(gh);pj(hh);pj(ih);Ti=299;pj(lh);pj(mh);pj(oh);pj(ph);pj(qh);pj(rh);pj(sh);Ti=349;pj(th);Ti=359;pj(vh);Ti=369;pj(wh);Ti=400;Ui("5 ethereal crops","Have 5 ethereal crops",void 0,function(){return 5<=H.me},v(.02));Ui("10 ethereal crops","Have 10 ethereal crops",void 0,function(){return 10<=H.me},v(.05));Ui("20 ethereal crops","Have 20 ethereal crops",void 0,function(){return 20<=H.me},v(.1));Ti=500;
var qj=[5,10,20,50,100,200,500,1E3,2E3,5E3,1E4],rj=[.02,.05,.05,.05,.1,.1,.2,.5,.5,1,1],sj=[0,1,2,3,4,5,6,7,8,9,10];for(Yi=0;Yi<qj.length;Yi++)Ie=qj[Yi],jj=v(rj[Yi]),bj="fruits "+Ie,cj=Ui(bj,"Found "+Ie+" fruits",Mb[sj[Yi]],A(function(a){return H.pb>=a},Ie),jj),0<Yi&&(Si[cj].hint=Vi),Vi=cj;Ti=600;var tj=[1,2,3,4,5,7,10,12,15,20,25,30,35,40,45,50,60,70,80,90,100,150,200,250,300,350,400,450,500];
for(Yi=0;Yi<hj.length;Yi++)ij=v(tj[Yi]),jj=ij.pc(20),kj=ij.toString(5,Xd),bj="ethereal tree level "+kj,cj=Ui(bj,"Reached ethereal tree level "+kj,ld[lj(ij)][1][4],A(function(a){return a.Qe(H.K)},ij),jj),0<Yi&&(Si[cj].hint=Vi),Vi=cj;Ti=700;var uj=[10,100,1E3,1E4,1E5,1E6,1E7,1E8,1E9,1E12,1E15,1E18,1E21,1E24,1E27],vj=[1,2,5,10,15,20,25,30,40,50,60,70,80,90,100];
for(Yi=0;Yi<uj.length;Yi++){Ie=v(uj[Yi]);Zi=He();$i=Ie.toString(3,Nd);aj=Ie.toString(3,Td);bj=Zi+" resin ";var wj=Xa(Ie,900)?$i:$i+" ("+aj+")";cj=Ui(bj,"earned over "+wj+" resin in total",Hb,A(function(a){return H.ka.j.X(a)},Ie),v(vj[Yi]).m(.01));0<Yi&&(Si[cj].hint=Vi);Vi=cj}Ti=800;Ui("help","viewed the main help dialog",void 0,function(){return 1==xj},v(.01));Ui("changelog","viewed the changelog",void 0,function(){return 1==yj},v(.01));
Ui("stats","viewed the player stats",void 0,function(){return 1==zj},v(.01));Ti=810;var Aj=[1,7,30],Bj=[1,5,10];for(Yi=0;Yi<Aj.length;Yi++){var Cj=Aj[Yi];bj=Cj+" "+(1==Cj?"day":"days");cj=Ui(bj,"played for "+Cj+" days",void 0,A(function(a){return(H.time-H.qb)/86400>=a},Cj),v(Bj[Yi]).m(.01))}Ti=820;Ui("higher transcension","performed transcension at exactly twice the initial transcenscion level",void 0,function(){return 20<=H.Na&&20>H.g},v(.1));Ti=900;
Ui("the bees knees","completed the bees challenge",Jc[4],function(){return!!H.P[vf].V},v(.1));Ui("on the rocks","completed the rocks challenge",Sb[1],function(){return!!H.P[Dj].V},v(.05));Ui("undeleted","completed the undeletable challenge",void 0,function(){return!!H.P[If].V},v(.25));Ui("upgraded","completed the no upgrades challenge",Fb,function(){return 1<=H.P[Ej].V},v(.25));Ui("upgradeder","completed the no upgrades challenge stage 2",Fb,function(){return 2<=H.P[Ej].V},v(.5));
Ui("withering","completed the wither challenge",void 0,function(){return 1<=H.P[Mf].V},v(.35));Ui("withered","completed the wither challenge state 2",void 0,function(){return 2<=H.P[Mf].V},v(.7));Ui("berry basic","completed the blackberry challenge",$b[4],function(){return 1<=H.P[Fj].V},v(1));Ui("B","place a beehive during the blackberry challenge",Ic[4],function(){return H.challenge==Fj&&0<H.sa[wh]},v(1.5));
function Gj(){this.description=this.name="a";this.Hb=["a"];this.Hg="a";this.index=0;this.xb=this.wc=this.te=this.Yc=!1;this.T=[0];this.oa=v(0);this.zg=function(){return!1};this.Ag=[function(){}];this.Qc=function(a){var b=H.P[this.index].V;a&&H.challenge==this.index&&b<this.T.length&&H.g>=this.T[b]&&b++;return b};this.Bb=function(a){return this.Qc(a)>=this.T.length};this.xd=function(a){return this.Bb(a)?this.T[this.T.length-1]:this.T[this.Qc(a)]};this.dh=function(){return this.T[this.T.length-1]}}
var Hj=[],Ij=[],Jj=1;function Kj(a,b,d,e,f,g,k,h,l,m){if(Ij[Jj]||0>Jj||65535<Jj)throw"challenge id already exists or is invalid!";Array.isArray(b)||(b=[b]);Array.isArray(g)||(g=[g]);Array.isArray(l)||(l=[l]);var p=new Gj;p.index=Jj++;Ij[p.index]=p;Hj.push(p.index);p.name=a;p.description=e;p.kh=f;p.Hb=g;p.Hg=k;p.T=b;p.oa=d;p.zg=h;p.Ag=l;p.Yc=!!(m&1);p.te=!!(m&2);p.wc=!!(m&4);p.xb=!!(m&8);return p.index}
var vf=Kj("bee challenge",10,v(.05),"Grow bees during this challenge! This has different gameplay than the regular game. The bee types of this challenge don't exist in the main game and the beehive in the main game works very differently than the one in this challenge.",'\n\u2022 The only types of crop available are 1 berry type, 1 mushroom type, 1 flower type and 3 types of bee/beehive. They\'re all available from the beginning, and no others unlock.<br>\n\u2022 Beehives boost neighboring queen bees<br>\n\u2022 Queen bees boost neighboring worker bees.<br>\n\u2022 Worker bees boost the global ecosystem: berries, mushrooms and flowers (so effectively cubic scaling). No neighboring require for this.<br>\n\u2022 Worker bees must be next to a flower for their boost to apply, being next to a queen for the queen boost is optional but recommended.<br>\n\u2022 "Neighbor" and "next to" mean the 4-neighborhood, so orthogonally touching.<br>\n',
"Beehives available in the regular game from now on after planting daisies. In the main game, beehives boost flowers.","having grown a daisy.",function(){return 1<=H.sa[oh]},function(){},0),Dj=Kj("rocks challenge",15,v(.03),"The field has rocks on which you can't plant. The rock pattern is determined at the start of the challenge, and is generated with a 3-hour UTC time interval as pseudorandom seed, so you can get a new pattern every 3 hours.\n","\n\u2022 All regular crops, upgrades, ... are available and work as usual<br>\n\u2022 There are randomized unremovable rocks on the field, blocking the planting of crops<br>\n",
"one extra storage slot for fruits","reaching tree level 15",function(){return 15<=H.g},function(){H.pa++},15),If=Kj("undeletable challenge",25,v(.07),"\nDuring this challenge, no crops can be removed, only added. Ensure to leave spots open for future crops!\n","\n\u2022 All regular crops, upgrades, ... are available and work as usual<br>\n\u2022 No crops can be deleted, except watercress<br>\n","get and store 50% more ethereal deletion tokens","reaching tree level 27",function(){return 27<=H.g},
function(){},15),Ej=Kj("no upgrades challenge",[21,25],v(.1),"\nDuring this challenge, crops cannot be upgraded.\n","\n\u2022 Crops cannot be upgraded, except watercress<br>\n\u2022 Ethereal upgrades, achievement boost, etc..., still apply as normal<br>\n",["unlock the auto-upgrade ability of the automaton","add more options to the auto-upgrade ability of the automaton"],"reaching ethereal tree level 2 and having automaton",function(){return 2<=H.K&&Lj()},[function(){H.S[1]=Math.max(1,H.S[1]||0);
Mj(29);W("Auto-upgrade unlocked!",Nj,1067714398)},function(){H.S[1]=Math.max(2,H.S[1]||0);for(var a=1;a<H.eb.length;a++)H.eb[a]=H.eb[0];Mj(30);W("Auto-upgrade extra options unlocked!",Nj,1067714398)}],15),Mf=Kj("wither challenge",[30,35],v(.1),"\nDuring this challenge, crops wither and must be replanted.\n","\n\u2022 Planted crops are fullgrown immediately<br>\n\u2022 Planted crops wither and disappear after 2 minutes<br>\n\u2022 Crops gradually produce less and less as they wither<br>\n\u2022 Cannot delete crops, they'll disappear over time instead, but you can replace crops immediately by more expensive crops of the same type.<br>\n",
["unlock the auto-plant ability of the automaton","add more options to the auto-plant ability of the automaton"],"reaching ethereal tree level 3 and having automaton with autoupgrade",function(){return 3<=H.K&&Lj()&&H.S[1]},[function(){H.S[2]=Math.max(1,H.S[2]||0);Mj(31);W("Auto-plant unlocked!",Nj,1067714398)},function(){H.S[2]=Math.max(2,H.S[2]||0);for(var a=1;a<H.Da.length;a++)H.Da[a]=H.Da[0];Mj(32);W("Auto-plant extra options unlocked!",Nj,1067714398)}],0);
function cg(a){return 0>a?0:1<a?1:Math.pow(a,.66)}
var Fj=Kj("blackberry challenge",[18],v(.1),"\nDuring this challenge, only the first tier of each crop type is available.\n","\n\u2022 Only blackberries, champignons, clovers, nettle, beehives, watercress and mistletoe are available, from the beginning<br>\n\u2022 Everything else works as normal<br>\n",["unlock the auto-unlock ability of the automaton"],"reaching ethereal tree level 4 and having automaton with auto-plant",function(){return 4<=H.K&&Lj()&&H.S[1]&&H.S[2]},[function(){H.S[3]=Math.max(1,
H.S[3]||0);W("Auto-unlock unlocked!",Nj,1067714398);Mj(33)}],15),Oj=[Dj,vf,If,Ej,Mf,Fj];if(Oj.length!=Hj.length)throw"challenges order not same length as challenges!";function Pj(){this.name="a";this.G=R();this.Zb=R();this.effect=v(0);this.La=this.index=0;this.Z=v(0);this.Vc="";this.image=void 0;this.K=0;this.Za=!1}c=Pj.prototype;c.D=function(a){var b=1.5;this.type==nf&&(b=2);this.type==rf&&(b=1.5);return this.G.m(Math.pow(b,H.Ec[this.index]+(a||0)))};c.de=function(){return this.D(-1).m(1)};
c.ta=function(){return this.La};c.sc=function(a,b,d){if(!b&&a&&!bg(a))return R();a=R(this.Zb);d&&d.push(["base",!0,v(0),a.clone()]);return a};function Qj(a){if(a){var b=v(0),d=0,e=function(f){return jg(f)&&bg(f)&&Rj[f.index-16].type!=kf&&(f=Rj[f.index-16].Ya(f),!L(f,0))?(b.o(f),!0):!1};0<a.x&&e(H.$[a.y][a.x-1])&&d++;0<a.y&&e(H.$[a.y-1][a.x])&&d++;a.x+1<H.ca&&e(H.$[a.y][a.x+1])&&d++;a.y+1<H.ba&&e(H.$[a.y+1][a.x])&&d++;return b}return v(0)}
c.Ya=function(a,b){a=this.Z.clone();b&&b.push(["base",!0,v(0),a.clone()]);return a};var Sj=[],Rj=[],Tj=[],Uj=-1;function Vj(a,b,d,e,f,g,k,h,l,m,p){l||(l=Zb);if(Rj[Uj]||0>Uj||65535<Uj)throw"crop2 id already exists or is invalid!";var q=new Pj;q.index=Uj++;Rj[q.index]=q;Sj.push(q.index);q.name=a;q.G=d;q.Zb=e;q.Ce=k;q.Be=h;q.La=g;q.image=l;q.Vc="";q.Z=f;q.K=b;q.H=p;q.type=m;void 0!=m&&void 0!=p&&(Tj[m]||(Tj[m]=[]),Tj[m][p]=q);return q.index}
function Wj(a,b,d,e,f,g,k,h){a=Vj(a,b,e,R({}),v(0),f,void 0,k,h,gf,d);Rj[a].effect=g;return a}function Xj(a,b,d,e,f,g,k,h){a=Vj(a,b,e,R({}),v(0),f,void 0,k,h,hf,d);Rj[a].effect=g;return a}function Yj(a,b,d,e,f,g,k,h){a=Vj(a,b,e,R({}),v(0),f,void 0,k,h,jf,d);Rj[a].effect=g;return a}function Zj(a,b,d,e,f,g,k,h){return Vj(a,b,e,R({}),v(f),g,void 0,k,h,nf,d)}Uj=0;var ak,bk=R({j:10});
ak=Vj("fern",0,bk,R({}),v(0),1.5,"gives 100 * n^3 starter seeds","gives 100 * n^3 starter seeds after every transcension and also immediately now, with n the amount of ethereal ferns. First one gives 100, with two you get 800, three gives 2700, four gives 6400, and so on.",Mc,rf,0);var ck,dk=R({j:200});
ck=Vj("fern II",2,dk,R({}),v(0),1.5,"gives 1000 * n^3 starter seeds","gives 1000 * n^3 starter seeds after every transcension and also immediately now, with n the amount of ethereal ferns. First one gives 1000, with two you get 8000, three gives 27000, four gives 64000, and so on.",Nc,rf,1);Uj=10;var ek,fk=R({j:10});
ek=Vj("automaton",1,fk,R({}),v(0),1.5,"Automates things","Automates things and unlocks crop templates. Can have max 1. The higher your ethereal tree level, the more it can automate and the more challenges it unlocks. See automaton tab.",Oc,mf,0);Uj=25;
var gk=Wj("blackberry",0,0,R({j:10}),60,v(.25),"boosts berries in the basic field (additive)",$b),hk=Wj("blueberry",1,1,R({j:100}),120,v(1),"boosts berries in the basic field (additive)",ac),ik=Wj("cranberry",4,2,R({j:1E5}),180,v(4),"boosts berries in the basic field (additive)",bc);Uj=50;
var jk=Xj("champignon",0,0,R({j:20}),120,v(.25),"boosts mushrooms spore production and consumption in the basic field (additive)",vc),kk=Xj("matsutake",3,1,R({j:2E4}),180,v(1),"boosts mushrooms spore production and consumption in the basic field (additive)",xc);Uj=75;
var lk=Yj("clover",0,0,R({j:50}),120,v(.25),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",oc),mk=Yj("cornflower",3,1,R({j:25E3}),180,v(1),"boosts the boosting effect of flowers in the basic field (additive). No effect on ethereal neighbors here, but on the basic field instead.",pc);Uj=100;
var nk=R({j:200}),ok=v(.35),pk=Vj("nettle",2,nk,R({}),v(0),60,void 0,"boosts nettles in the basic field (additive).",Cc,kf,0);Rj[pk].effect=ok;Uj=150;
var qk=Zj("white lotus",0,0,R({j:50}),.5,180,"boosts the bonus effect of ethereal neighbors of type berry, mushroom, flower and nettle. No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Fc),rk=Zj("pink lotus",4,1,R({j:25E4}),4,240,"boosts the bonus effect of ethereal neighbors of type berry, mushroom, flower and nettle. No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Gc);
function sk(a){Rj[a].Za=!0;Rj[a].G=R(0);return a}Uj=300;var tk=sk(Wj("berry template",0,-1,R(),0,v(0),"",Tc)),uk=sk(Xj("mushroom template",0,-1,R(),0,v(0),"",Vc)),vk=sk(Yj("flower template",0,-1,R(),0,v(0),"",Xc)),wk=R(),xk=v(0),yk=Vj("nettle template",0,wk,R({}),v(0),0,void 0,"",Zc,kf,-1);Rj[yk].effect=xk;var zk=sk(yk),Ak=sk(Zj("lotus template",0,-1,R(),0,0,"",fd)),Bk,Ck=R();Bk=Vj("fern template",0,Ck,R({}),v(0),0,void 0,"",hd,rf,-1);var Dk=sk(Bk),Ek,Fk=R();
Ek=Vj("automaton template",0,Fk,R({}),v(0),0,void 0,"",jd,mf,-1);var Gk=sk(Ek),Hk=[],Ik=[],Jk=-1;
function Kk(){this.name="a";this.Ia=this.description=void 0;this.index=0;this.qa=1;this.G=R();this.zc="#8cf";this.Ac="#ff0";this.qd=this.Lc=void 0;this.ze=v(1);this.Md=!1;this.K=0;this.Pb=function(){var a=this.name;1<H.N[this.index].count&&(a+=" "+z.Ib(H.N[this.index].count));return a};this.Df=function(){var a=this.name;0<H.N[this.index].count&&(a+=" "+z.Ib(H.N[this.index].count+1));return a};this.rd=function(){return 0==this.qa?!1:H.N[this.index].count>=this.qa};this.nc=function(){return H.N[this.index].c&&
!this.rd()}}Kk.prototype.D=function(a){a=Cd(this.ze,H.N[this.index].count+(a||0));return this.G.ea(a)};function Lk(a,b,d,e,f,g,k,h,l,m,p){if(Ik[Jk]||0>Jk||65535<Jk)throw"upgrades2 id already exists or is invalid!";var q=new Kk;q.index=Jk++;Ik[q.index]=q;Hk.push(q.index);q.name=a;q.G=d;q.qa=k;q.ze=v(e);l&&(q.zc=l);m&&(q.Ac=m);p&&(q.Lc=p);q.Ia=function(){H.N[this.index].count++;f()};q.ef=function(){return!H.aa||H.K<b||g&&!g()?!1:!0};q.K=b;q.description=h;return q.index}
function Mk(){var a=Lk("<deprecated>",99,R(),0,function(){},function(){return!1},1,"<deprecated>");Ik[a].Md=!0}Jk=10;Mk();Mk();Mk();Mk();Mk();Mk();Mk();Mk();Mk();Jk=20;var Nk=[.25,.25,.25,.25],Ok=[];Ok[0]=Lk("improve spring",0,R({j:10}),2,function(){},function(){return!0},0,"improve spring effect "+100*Nk[0]+"% (scales by n^1.25). Spring boosts flowers.",void 0,void 0,ld[3][1][0]);
Ok[1]=Lk("improve summer",0,R({j:10}),2,function(){},function(){return!0},0,"improve summer effect "+100*Nk[1]+"% (scales by n^1.25). Summer boosts berry production, this ethereal upgrade additionally slightly boosts mushrooms.",void 0,void 0,ld[3][1][1]);Ok[2]=Lk("improve autumn",0,R({j:10}),2,function(){},function(){return!0},0,"improve autumn effect "+100*Nk[2]+"% (scales by n^1.25). Autumn boosts mushroom production, this ethereal upgrade additionally slightly boosts berries.",void 0,void 0,ld[3][1][2]);
Ok[3]=Lk("winter hardening",0,R({j:10}),2,function(){},function(){return!0},0,"increase winter tree warmth effect "+100*Nk[3]+"% (scales by n^1.25).",void 0,void 0,ld[3][1][3]);var Pk=0,Kf=90;Jk=25;
var Jf=Lk("growth speed",Pk,R({j:25}),2,function(){},function(){return!0},0,"basic plants grow up to "+Kf+" seconds per upgrade level faster. This is soft-capped for already fast plants, a plant that already only takes "+Kf+" seconds, will not get much faster. This improves the higher level slower plants more.",void 0,void 0,$b[0]),Qk=v(.02),Rk=1.05,Sk=1.2,Tk=Lk("basic tree boost bonus",Pk,R({j:10}),1.5,function(){},function(){return!0},0,"add "+Q(Qk)+" to the basic tree production bonus per level (scales by n^"+
Sk+").",void 0,void 0,ld[10][1][1]),Uk=Lk("extra fruit slot",0,R({j:50,R:25}),2,function(){H.pa++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Mb[1]);Jk=50;var Xk=Lk("larger field 6x6",Pk,R({j:100}),1,function(){Vk(Math.max(6,H.s));Wk()},function(){return 5<=H.s&&5<=H.u},1,"increase basic field size to 6x6 tiles",void 0,void 0,zb[0]);Jk=99;
var wi=Lk("unlock mistletoe",Pk,R({j:25}),1,function(){},function(){return!0},1,"Unlock mistletoe crop in the basic field. This crop will allow leveling up the ethereal tree through a basic field mechanic giving twigs, and the ethereal tree levels then allow to get next sets of ethereal upgrades and crops. The mistletoe will become available in the basic field when mushrooms become available and then needs to then be unlocked with a regular upgrade first as usual. Then it can be planted next to the basic tree to start getting twigs. This ethereal upgrade is the first step in that process, and this is ultimately required to progress to next stages of the game.",void 0,
void 0,Hc[4]);Pk=1;Jk=100;
var Yk=v(.25),Zk=Lk("resin gain",Pk,R({j:50}),2,function(){},function(){return!0},0,"increase resin gain from tree by "+100*Yk+"% (additive).",void 0,void 0,Hb),$k=Lk("blackberry secret",Pk,R({j:100}),2,function(){U[Sh].Ia();H.h[Gi].c=!0},function(){return!0},1,"blackberry is unlocked immediately after a transcension, the upgrade to unlock it is no longer needed and given for free",void 0,void 0,$b[4]),Xf=Lk("diagonal winter warmth",Pk,R({j:150}),2,function(){},function(){return!0},1,"the winter warmth effect of the tree works also diagonally, adding 4 more possible neighbor spots for this effect.",
void 0,void 0,ld[5][1][3]);Lk("unlock automaton",Pk,R({j:100}),2,function(){al(ek);Mj(28)},function(){return!0},1,"the automaton can be placed in the ethereal field, and when placed, unlocks the automaton tab, allows to automate things, and allows to place crop templates",void 0,void 0,Oc[4]);var bl=v(.25),cl=Lk("twigs gain",Pk,R({j:100}),2,function(){},function(){return!0},0,"increase twigs gain from tree by "+100*bl+"% (additive).",void 0,void 0,Hc[1]);Pk=2;Jk=120;
Lk("ethereal field 6x6",Pk,R({j:2E3}),1,function(){for(var a=H,b=Math.max(6,H.ca),d=Math.max(6,H.ba),e=(a.ca+1>>1)-(b+1>>1),f=(a.ba>>1)-(d>>1),g=[],k=0;k<d;k++){g[k]=[];for(var h=0;h<b;h++){var l=h+e,m=k+f;g[k][h]=0<=l&&l<a.ca&&0<=m&&m<a.ba?a.$[m][l]:new dl(h,k,!0);g[k][h].x=h;g[k][h].y=k}}a.$=g;a.ca=b;a.ba=d;a.Wa-=e;a.Xa-=f;el()},function(){return 5<=H.ca&&5<=H.ba},1,"increase ethereal field size to 6x6 tiles",void 0,void 0,Cb[0]);
var fl=Lk("twigs extraction",Pk,R({j:1E4}),1,function(){},function(){return!0},1,"increase the multiplier per level for twigs, giving exponentially more twigs at higher tree levels: base of exponentiation before: 1.25, after: 1.3",void 0,void 0,Hc[1]),Th=Lk("blueberry secret",Pk,R({j:1E3}),2,function(){},function(){return H.N[$k].count},1,"blueberry's unlock is available from the start, and champignon's and mistletoe's unlock is available as soon as blueberry is unlocked, rather than after a blueberry has fullgrown",
void 0,void 0,ac[4]);Pk=3;Jk=140;
var gl=Lk("extra fruit slot",Pk,R({j:1E3,R:250}),2,function(){H.pa++},function(){return!0},1,"gain an extra storage slot for fruits",void 0,void 0,Mb[2]),hl=Lk("resin extraction",Pk,R({j:5E4}),1,function(){},function(){return!0},1,"increase the multiplier per level for resin, giving exponentially more resin at higher tree levels: base of exponentiation before: 1.2, after: 1.25",void 0,void 0,Hb),il=Lk("diagonal mistletoes",Pk,R({j:75E3}),1,function(){},function(){return!0},1,"mistletoes also work diagonally to the tree (10 instead of 6 possible spots)",
void 0,void 0,Hc[4]);Jk=145;Lk("larger field 7x6",Pk,R({j:1E5}),1,function(){Vk(Math.max(7,H.s));Wk()},function(){return 6<=H.s&&6<=H.u},1,"increase basic field size to 7x6 tiles",void 0,void 0,zb[0]);
var Vh=Lk("cranberry secret",Pk,R({j:1E4}),2,function(){},function(){return H.N[Th].count},1,"cranberry's unlock is available as soon as blueberry is unlocked, rather than after a blueberry has fullgrown, and clover's unlock is available as soon as cranberry is unlocked, rather than after a cranberry has fullgrown",void 0,void 0,bc[4]);Pk=4;Jk=160;function jl(a,b){if(0==b)return 1;a*=.57735/b;return a/Math.sqrt(a*a+1)}
var kl=0,ll=kl++,dg=kl++,fg=kl++,gg=kl++,qg=kl++,xg=kl++,Lf=kl++,Af=kl++,rg=kl++,ml=kl++,nl=kl++,ol=kl++,pl=kl++;function Bf(a,b,d){var e=.05*Math.pow(ql(d),.75);return a==dg||a==fg?v(e*b):a==gg?(a=jl(b,5),v(.4*(1+.6*d/11)*a)):a==qg?v(e*b):a==xg?v(1.5*e*b):a==Lf?(a=jl(b,5),v(.4*(1+.6*d/11)*a)):a==Af?v(1.5*e*b):a==rg?v(.33*e*b):a==ml||a==nl||a==ol||a==pl?v(.25):v(.1)}function rl(a){return a==ml||a==nl||a==ol||a==pl?!0:!1}function sl(a,b){a=Cd(v(1.5),a);a=a.m(ql(b));return R({R:a})}
function tl(a){var b=10*ql(a.H);0<a.type&&(b*=1.25);return R({R:b})}function ql(a){switch(a){case 0:return 1;case 1:return 4;case 2:return 12;case 3:return 30;case 4:return 45;case 5:return 65;case 6:return 100;case 7:return 120;case 8:return 160;case 9:return 240;case 10:return 300}return Infinity}function ul(a){var b=1;1<=a&&(b=2);3<=a&&(b=3);5<=a&&(b=4);7<=a&&(b=5);return b}function vl(a){if(0==a.type)return!1;for(var b=0;b+1<a.na.length;b++)if(2>a.na[b])return!1;return!0}
function wl(a,b,d){if(!a||!b||a==b||a.H!=b.H)return null;if(vl(a)||vl(b))return d&&(d[0]="One of the fruits reached the final form, seasonal fruit with all abilities at max, and cannot be fused any further."),null;var e=ul(a.H),f=a.O.length,g=b.O.length,k=new xl;k.H=a.H;k.type=a.type;0!=k.type&&(k.O[e]=a.O[e],k.ha[e]=a.ha[e],k.na[e]=a.na[e]);k.Yb=a.Yb+b.Yb+1;k.name=a.name||b.name;k.mark=a.mark||b.mark;for(var h=0;h<e;h++)k.O[h]=a.O[h],k.ha[h]=1,k.na[h]=a.na[h];var l={uh:!0,vh:!0,wh:!0,th:!0,xh:!0},
m={};for(h=0;h<f;h++)l[a.O[h]]||(m[a.O[h]]=a.na[h]);f={};for(h=0;h<g;h++)l[b.O[h]]||(f[b.O[h]]=b.na[h]);for(h=0;h<e;h++){var p=k.O[h];l[p]||void 0==f[p]||(p=m[p]+f[p]+1,2<p&&(p=2),k.na[h]=p)}l=[];for(h=0;h<g;h++)2==b.na[h]&&l.push([b.O[h],2]);for(h=0;h<e;h++)2!=f[k.O[h]]&&l.push([k.O[h],k.na[h]]);for(h=0;h<l.length&&!(h>=e);h++)k.O[h]=l[h][0],k.ha[h]=1,k.na[h]=l[h][1];b=!0;for(h=0;h<e;h++)if(k.O[h]!=a.O[h]||k.na[h]!=a.na[h]){b=!1;break}return b?(d&&(d[0]="No fuse done: this fuse results in the same fruit as the original. Try fusing with a different fruit, or swapping the fuse order."),
null):k}var yl=10,zl=v(.05);function mg(){var a=v(zl),b=H.N[Tk].count;b=Math.pow(b,Sk);a.o(Qk.m(b));b=H.g;b=Math.pow(b,Rk);a.Ba(b);return a}function Ii(a){var b=new R;b.v=Gd(9,v(a-1)).m(6.666666);return b}function Al(){var a=Ii(H.g+1);a.A(v(.5*H.Eb+1));return a}function lj(a){if(!a||0>a)return 0;a=10>a?a:50>a?10+Math.floor((a-10)/5):18+Math.floor((a-50)/10);a>=ld.length&&(a=ld.length-1);return a}var Bl=v(.05),Cl=v(.05);
function Dl(a,b){if(0>=a)return v(0);a--;var d=1.2;H.N[hl].count&&(d=1.25);var e=Gd(d,v(a)).m(.25).W(.5);15<a&&e.cb(2*(a-15));b&&b.push(["base (per tree level roughly x"+d+")",!0,v(0),e.clone()]);3==ig()&&(a=El(),e.A(a),b&&b.push(["winter bonus",!0,a,e.clone()]));if(a=H.N[Zk].count)a=Yk.m(a).W(1),e.A(a),b&&b.push(["ethereal upgrades",!0,a,e.clone()]);H.K&&(a=Cl.m(H.K).W(1),e.A(a),b&&b.push(["ethereal tree level",!0,a,e.clone()]));if(a=H.Eb)d=Cd(v(1).sub(Bl),a),e.A(d),b&&b.push(["mistletoe malus ("+
a+")",!0,d,e.clone()]);return e}
function Fl(a){var b=H.g+1;if(0>=b)return R({F:0});b--;var d=new R;d.F=v(.02);var e=1.25;H.N[fl].count&&(e=1.3);d.F.A(Cd(v(e),b));d.F.cb(.55);10<b&&d.F.cb(b-10);a&&a.push(["base (per tree level roughly x"+e+")",!0,v(0),d.clone()]);b=v(Math.log2(H.Eb+1));d.F.A(b);a&&1!=H.Eb&&a.push(["#mistletoes ("+H.Eb+")",!0,b,d.clone()]);2==ig()&&(b=Gl(),d.F.A(b),a&&a.push(["autumn bonus",!0,b,d.clone()]));if(b=H.N[cl].count)b=bl.m(b).W(1),d.F.A(b),a&&a.push(["ethereal upgrades",!0,b,d.clone()]);return d}
function Hl(){var a=H.K+1,b=new R;b.F=Gd(12,v(a-1)).m(144);return b}function Il(a,b){var d=H.Qd[ak];a==ak&&d++;b==ak&&d--;var e=d*d*d*100;d=H.Qd[ck];a==ck&&d++;b==ck&&d--;return R({l:e+d*d*d*1E3})}function hg(a){return v(a.W(1).log10()).m(.1).W(1)}var Jl=1.5,Kl=2.5,Ll=2.5,Ml=1.5,$f=.75,Nl=2.5,Ol=1.5,Pl=1.25,Ql=.5,Rl=.5;function Of(){var a=v(Jl),b=H.N[Ok[0]].count;b&&(b=Cd(v(b),Pl).m(Nk[0]).W(1),a=a.ea(b));b=zf(ml);0<b&&(b=v(1).add(Bf(ml,b,Cf())),a.A(b));return a}
function Pf(){var a=v(Kl),b=H.N[Ok[1]].count;0<b&&(b=Cd(v(b),Pl).m(Nk[1]).W(1),a=a.ea(b));b=zf(nl);0<b&&(b=v(1).add(Bf(nl,b,Cf())),a.A(b));return a}function Qf(){return yd(Pf(),Kl).m(Ql).W(1)}function Rf(){var a=v(Ll),b=H.N[Ok[2]].count;0<b&&(b=Cd(v(b),Pl).m(Nk[2]).W(1),a=a.ea(b));b=zf(ol);0<b&&(b=v(1).add(Bf(ol,b,Cf())),a.A(b));return a}function Sf(){return yd(Rf(),Ll).m(Rl).W(1)}function Gl(){var a=v(Ml),b=H.N[Ok[2]].count;b&&a.cb(.5*jl(b,10));return a}
function ag(){var a=v(Nl),b=H.N[Ok[3]].count;b&&(b=Cd(v(b),Pl).m(Nk[3]).W(1),a=a.ea(b));b=zf(pl);0<b&&(b=v(1).add(Bf(pl,b,Cf())),a.A(b));return a}function El(){var a=v(Ol),b=H.N[Ok[3]].count;b&&a.cb(.5*jl(b,10));return a};var Yf=1,Zf=2,Sl=3;function dl(a,b,d){this.C=this.index=0;this.x=a;this.y=b;this.td=!1;this.fh=d}function bg(a){return 16>a.index?!1:kg(a).type==lf||H.challenge==Mf?0<a.C:1<=a.C}function jg(a){return 16<=a.index}function kg(a){if(!(16>a.index))return a.fh?Rj[a.index-16]:V[a.index-16]}function Tl(a){a=kg(a);if(!a||!a.Za)return a}function Ul(a){return jg(a)&&kg(a).Za}function Vl(){this.c=!1}function Wl(){this.c=!1}function Xl(){this.c=this.ja=!1;this.count=0}function Yl(){this.c=!1;this.count=0}
function Zl(){this.Aa=this.ja=!1}function $l(){this.c=!1;this.zb=this.fb=this.Ka=this.le=this.Se=this.Fb=this.V=0}function am(){this.u=this.s=0;this.data=[];this.name=""}function bm(a){return 0==a?-1:2==a?zh:3==a?Ah:4==a?Bh:5==a?Ch:6==a?Dh:7==a?Eh:8==a?Fh:-1}function cm(a,b){b&&(a||(b.s=0,b.u=0,b.data=[]),b.s=a.s,b.u=a.u,b.data=z.clone(a.data),b.name=a.name)}function dm(a){var b=new am;cm(a,b);return b}
function em(){this.time=this.If=this.Gf=this.Re=this.jf=this.$a=this.fa=0;this.$f=-1;this.Fa=0;this.za=this.la=-1;this.i=void 0;this.j=v(0);this.F=v(0);this.Xa=this.Wa=this.ya=this.ud=this.g=0;this.Pd=R(0);this.Gc=-1;this.u=this.s=5;this.B=[];this.M=[];for(var a=0;a<yg.length;a++)this.M[yg[a]]=new Vl;this.h=[];for(a=0;a<Gh.length;a++)this.h[Gh[a]]=new Xl;this.Db=[];for(a=0;a<Ri.length;a++)this.Db[Ri[a]]=new Zl;this.P=[];for(a=0;a<Hj.length;a++)this.P[Hj[a]]=new $l;this.ba=this.ca=5;this.$=[];this.U=
[];for(a=0;a<Sj.length;a++)this.U[Sj[a]]=new Wl;this.K=0;this.N=[];for(a=0;a<Hk.length;a++)this.N[Hk[a]]=new Yl;this.Pe=this.Nc=this.Ra=this.Ta=this.Pa=0;this.Va=4;this.lb=-1;this.hd=!1;this.kb=0;this.I=[];this.pa=3;this.L=[];this.vc=0;this.ke=Nd;this.precision=3;this.Dd=!0;this.wa=!1;this.vb=1;this.Fc=!1;this.Fd=this.ac=1;this.Tb=[0,0];this.wd=[1];this.Rb={};this.Cb={};this.Qb={};this.yc=!0;this.S=[];this.Jb=0;this.nb=[];this.ec=0;this.eb=[.5,.5,.5,.5,.5,.5,.5,.5];this.cc=0;this.Da=[.5,.5,.5,.5,
.5,.5,.5,.5,.5];this.xc=0;this.dc=!1;this.yb=[.5,.5,.5,.5,.5,.5,.5,.5,.5];this.Zc=v(0);this.Me=this.Wd=this.be=this.Je=this.$d=this.Hc=this.Na=this.md=this.Td=this.Sd=this.wf=this.yf=this.zf=this.uf=this.Bf=this.aa=this.challenge=0;this.Ic=v(0);this.Zd=this.Le=this.qb=this.rc=this.nd=this.Af=this.He=this.ce=this.Rd=this.Jc=this.jd=this.Ge=0;this.ka=R();this.mb=R();this.kd=R();this.xf=this.sf=this.tf=this.vf=this.Ud=this.pb=this.ld=this.Cf=this.ae=this.Ie=this.Vd=this.Xd=this.Yd=this.Ob=0;this.od=
R();this.Ke=R();this.Rf=this.bf=this.cf=this.df=0;this.pe=R();this.oe=R();this.ne=R();this.Pf=this.Mf=this.Nf=this.Of=this.Xe=this.We=this.Ue=this.Sf=this.af=this.$e=this.Ye=this.Qf=this.Ze=this.Ve=0;this.Uf=R();this.Tf=R();this.bd=this.xa=this.Wb=0;this.Ha=R();this.ic=R();this.hc=R();this.Kd=this.Jd=this.Kb=this.Lb=this.Bc=this.ad=this.jc=this.ed=this.dd=this.cd=this.kc=this.lc=this.Vb=this.$c=0;this.Mb=R();this.mc=R();this.Cd=[];this.Xf=[];this.Ub=[];this.Uc=[];this.Tc=[];this.Yf=[];this.Bd=[];
this.Ua=[];this.Lf=this.me=this.xg=this.vg=this.Kf=this.wg=this.Te=this.ig=this.hg=0;this.Nb=[];this.Ec=[];this.Ae=[];this.sa=[];this.Qd=[];this.Xb=[];this.Dg=[];this.Cg=[];this.je=this.ie=this.kf=this.qe=this.bg=this.eg=this.dg=this.fg=this.cg=this.lf=0;this.vd=v(1);this.De=v(0);this.Nd=v(0);this.Ee=v(0);this.Od=v(0);this.Eb=this.ye=this.xe=this.we=this.fd=0;this.se=v(0);this.oc=v(0);this.ag=0;this.ee=[];this.ge=[];this.rb=[];this.Kc=[]}
function fm(a){a.B=[];for(var b=0;b<a.u;b++){a.B[b]=[];for(var d=0;d<a.s;d++)a.B[b][d]=new dl(d,b,!1)}b=Math.floor((a.s-1)/2);d=Math.floor(a.u/2);a.B[d][b].index=Zf;a.B[d-1][b].index=Yf}function gm(a){a.$=[];for(var b=0;b<a.ba;b++){a.$[b]=[];for(var d=0;d<a.ca;d++)a.$[b][d]=new dl(d,b,!0)}b=Math.floor((a.ca-1)/2);d=Math.floor(a.ba/2);a.$[d][b].index=Zf;a.$[d-1][b].index=Yf}
function Vk(a){for(var b=H,d=Math.max(6,H.u),e=(b.s+1>>1)-(a+1>>1),f=(b.u>>1)-(d>>1),g=[],k=0;k<d;k++){g[k]=[];for(var h=0;h<a;h++){var l=h+e,m=k+f;g[k][h]=0<=l&&l<b.s&&0<=m&&m<b.u?b.B[m][l]:new dl(h,k,!1);g[k][h].x=h;g[k][h].y=k}}b.B=g;b.s=a;b.u=d;b.Wa-=e;b.Xa-=f}
function hm(){var a=new em;a.i=R({});fm(a);gm(a);a.M[uh].c=!0;a.qb=z.getTime();a.Wb=a.qb;a.Sd=a.qb;a.Td=a.qb;im(a);a.$f=Math.floor(281474976710656*Math.random());a.lb=Math.floor(281474976710656*Math.random());a.Gc=Math.floor(281474976710656*Math.random());return a}
function im(a){a.Te=0;a.Kf=0;a.xg=0;a.Lf=0;a.sa=[];a.Nb=[];a.Xb=[];a.Ae=[];a.ee=[];a.ge=[];a.rb=[];a.Kc=[];for(var b=0;b<yg.length;b++)a.Nb[yg[b]]=0,a.sa[yg[b]]=0;for(b=1;16>b;b++)a.Dg[b]=0;for(b=0;b<sf;b++)a.Xb[b]=0,a.Ae[b]=0,a.ee[b]=-Infinity,a.ge[b]=Infinity,a.rb[b]=-Infinity,a.Kc[b]=-Infinity;for(b=0;b<a.u;b++)for(var d=0;d<a.s;d++){var e=a.B[b][d];if(jg(e)){var f=kg(e);a.Nb[f.index]++;bg(e)&&a.sa[f.index]++;Ul(e)||(a.Kf++,a.Ae[f.type]++,bg(e)&&(a.Xb[f.type]++,a.xg++,f.type!=lf&&a.Lf++));a.ee[f.type]=
Math.max(f.H||0,a.ee[f.type]);a.ge[f.type]=Math.min(f.H||0,a.ge[f.type])}else 0==e.index||e.index==Sl?a.Te++:a.Dg[e.index]++}a.wg=0;a.vg=0;a.me=0;a.Qd=[];a.Ec=[];for(b=0;b<Sj.length;b++)a.Ec[Sj[b]]=0,a.Qd[Sj[b]]=0;for(b=1;16>b;b++)a.Cg[b]=0;for(b=0;b<a.ba;b++)for(d=0;d<a.ca;d++)e=a.$[b][d],jg(e)?(f=Rj[e.index-16],a.Ec[f.index]++,a.vg++,1<=e.C&&(a.Qd[f.index]++,a.me++)):0==e.index?a.wg++:a.Cg[e.index]++;a.lf=0;a.qe=0;a.fg=0;a.eg=0;a.cg=0;a.kf=0;a.dg=0;for(b=a.bg=0;b<Gh.length;b++)f=U[Gh[b]],d=a.h[Gh[b]],
d.c&&(a.lf++,d.ja||d.count||a.qe++,f.rd()||(a.fg++,f.D().ua(a.i)&&a.eg++));for(b=0;b<yg.length;b++)f=V[yg[b]],d=a.M[yg[b]],d.c&&(a.rb[f.type]=Math.max(f.H||0,a.rb[f.type]));for(b=0;b<Sj.length;b++)f=Rj[Sj[b]],d=a.U[Sj[b]],d.c&&(a.Kc[f.type]=Math.max(f.H||0,a.Kc[f.type]));for(b=0;b<Hk.length;b++)f=Ik[Hk[b]],d=a.N[Hk[b]],d.c&&(a.cg++,d.ja||a.kf++,f.rd()||(a.dg++,f.D().ua(a.i)&&a.bg++));a.ie=0;a.je=0;a.vd=v(1);for(b=0;b<Ri.length;b++)f=Si[Ri[b]],d=a.Db[Ri[b]],d.Aa&&(a.ie++,d.ja||a.je++,a.vd.o(f.Ad));
a.De=v(0);a.Nd=v(0);a.Ee=v(0);a.Od=v(0);for(b=0;b<a.ba;b++)for(d=0;d<a.ca;d++)if(e=a.$[b][d],(f=kg(e))&&1<=e.C){var g=f.type;if(g==gf){var k=Qj(e);a.De.o(k.W(1).ea(f.effect))}g==hf&&(k=Qj(e),a.Nd.o(k.W(1).ea(f.effect)));g==jf&&(k=Qj(e),a.Ee.o(k.W(1).ea(f.effect)));g==kf&&(k=Qj(e),a.Od.o(k.W(1).ea(f.effect)))}for(b=0;b<a.I.length;b++)a.I[b].slot=b;for(b=0;b<a.L.length;b++)a.L[b].slot=b+100;a.fd=0;a.we=0;a.xe=0;a.ye=0;a.oc=v(0);for(b=a.ag=0;b<Hj.length;b++)e=Hj[b],f=Ij[e],d=a.P[e],d.c&&a.fd++,d.V&&
(a.we++,f.Bb()&&a.xe++,a.ye+=d.V),d.c&&0==d.Fb&&a.challenge!=f.index&&a.ag++,0<d.Ka&&a.oc.o(Ij[e].oa.m(d.Ka))}
function xl(){this.H=this.type=0;this.O=[];this.ha=[];this.na=[];this.Yb=0;this.R=v(0);this.slot=this.mark=0;this.name="";this.qh=function(){return["apple","apricot (spring)","pineapple (summer)","pear (autumn)","medlar (winter)"][this.type]};this.toString=function(){return this.name?this.name:md[this.H]+" "+this.qh()};this.bc=function(a,b,d){b=""+eg(this.O[a],b);this.O[a]!=ll&&(d||rl(this.O[a])||(b+=" "+z.Ib(this.ha[a])),d||1!=this.na[a]||(b+=" [*]"),d||2!=this.na[a]||(b+=" [**]"));return b};this.Hd=
function(a,b){for(var d="",e=0;e<this.O.length;e++)0<e&&(d+=", "),d+=this.bc(e,a,b);return d}}function jm(){if(!(H.kb>=H.I.length))return H.I[H.kb]}function zf(a){var b=jm();if(!b)return 0;for(var d=0;d<b.O.length;d++)if(b.O[d]==a)return b.ha[d];return 0}function Cf(){var a=jm();return a?a.H:0}
function km(a,b){if(100>a)if(b)a>H.I.length&&(a=H.I.length),H.I[a]=b,b.slot=a;else{for(b=a;b+1<H.I.length;b++)H.I[b]=H.I[b+1],H.I[b].slot=b;--H.I.length}else if(a-=100,b)a>H.L.length&&(a=H.L.length),H.L[a]=b,b.slot=a+100;else{for(b=a;b+1<H.L.length;b++)H.L[b]=H.L[b+1],H.L[b].slot=b+100;--H.L.length}}function lm(){for(var a=R(),b=0;b<H.L.length;b++)a.o(tl(H.L[b]));return a}
function mm(){var a=!1;H.challenge&&!Ij[H.challenge].Yc&&(a=!0);H.challenge&&H.g>H.Na&&!H.challenge.xb&&(a=!0);var b=v(H.j);if(H.g>=yl&&!a){a=H.i.v.a(Al().v);Sa(a,1)&&(a=v(1));Xa(a,0)&&(a=v(0));a=a.m(.97);var d=Dl(H.g+1,void 0);b.o(a.ea(d))}return b}function nm(){var a=!1;H.challenge&&!Ij[H.challenge].wc&&(a=!0);H.challenge&&H.g>H.Na&&!H.challenge.xb&&(a=!0);var b=v(H.F);if(H.g>=yl&&!a){a=H.i.v.a(Al().v);Sa(a,1)&&(a=v(1));Xa(a,0)&&(a=v(0));a=a.m(.97);var d=Fl(void 0).F;b.o(a.ea(d))}return b}
function om(){if(2>H.xa)return v(0);var a=H.xa/3600;return a?mm().pc(a):v(0)}function pm(){if(2>H.xa)return v(0);var a=H.xa/3600;return a?nm().pc(a):v(0)}function Lj(){return!!H.Ec[ek]}function qm(){return Lj()&&H.yc}function rm(){return qm()&&H.S[1]?!!H.ec:!1}function sm(){return qm()&&H.S[2]?!!H.cc:!1};for(var tm={},um=0;64>um;um++)tm["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[um]]=um;function vm(a){for(var b=0;b<a.length;b++)if(void 0==tm[a[b]])return!1;return!0}
function wm(a){for(var b="",d={},e="",f=0;f<a.length;f++){var g=0,k=0,h=d[a.substr(f,4)];if(h)for(var l=h.length-1;0<=l;l--){var m=h[l],p=f-m;if(4096<p)break;for(var q=0;f+q<a.length&&a[f+q]==a[m+q];)q++;m=q;if(m>g&&(g=m,k=p,63<m))break}5<g||4<g&&4096>k||3<g&&32>k||(g=1);for(l=0;l<g;l++)h=a.substr(f+l,4),d[h]||(d[h]=[]),1E3<d[h].length&&(d[h]=[]),d[h].push(f+l);f+=g-1;3<=g?(b+=xm(e.length),b+=xm(g),b+=xm(k),b+=e,e=""):e+=a[f]}e.length&&(b+=xm(e.length),b+=xm(0),b+=xm(0),b+=e);return b}
function ym(a){for(var b={ff:a,Rc:0},d="";b.Rc<a.length;){var e=zm(b),f=zm(b);if(1E5<d.length+e+f)return null;var g=zm(b);if(b.error)return null;for(var k=0;k<e;k++){if(b.Rc>=a.length)return null;d+=a[b.Rc++]}if(g>d.length)return null;for(k=0;k<f;k++)d+=d[d.length-g]}return d}
function Am(a){if(-9007199254740992>a||9007199254740992<a||isNaN(a))a=0;var b=0;0>a&&(b=1,a=-a);var d=a&15;a=Math.floor(a/16);for(b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|b<<4|(a?32:0)];a;)d=a&31,a=Math.floor(a/32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|(a?32:0)];return b}function Bm(a){a.Rc>=a.ff.length&&(a.error=!0);var b=tm[a.ff[a.Rc++]];void 0==b&&(a.error=!0);return b}
function Cm(a){for(var b=a.error,d=Bm(a),e=d&15,f=d&16?1:0,g=16;d&32;){if(9007199254740992<g){a.error=!0;break}d=Bm(a);e+=(d&31)*g;g*=32}f&&(e=-e);return a.error&&!b?NaN:e}function Dm(a){var b=Bm(a);1<b&&(a.error=!0);return 1==b}
function xm(a){if(0>a||9007199254740992<a||isNaN(a))a=0;var b=a&31;a=Math.floor(a/32);for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];a;)b=a&31,a=Math.floor(a/32),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];return d}function zm(a){for(var b=a.error,d=Bm(a),e=d&31,f=32;d&32;){if(9007199254740992<f){a.error=!0;break}d=Bm(a);e+=(d&31)*f;f*=32}return a.error&&!b?NaN:e}
function Em(a){if(0>a||66591<a||isNaN(a))a=0;if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];a-=1056;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&63]}function Fm(a){var b=a.error,d=Bm(a),e=d&31;d&32&&(e+=32,d=Bm(a),e+=(d&31)<<5);d&32&&(e+=1024,d=Bm(a),e+=(d&63)<<10);return a.error&&!b?NaN:e}function Gm(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63]}function Hm(a){var b=a.error,d=Bm(a);return a.error&&!b?NaN:d}
function Im(a){if(0>a||2130975<a||isNaN(a))a=0;if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];if(33824>a)return a-=1056,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&31];a-=33824;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>10&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>15&63]}function Jm(a){for(var b=0,d=0;52>d;d++)b+=a&1,b*=2,a=Math.floor(a/2);return b}
function Km(a){var b=Jm(a),d=!1;b<a&&(a=b,d=!0);a=2*a+(d?1:0);if(0>a||9007199254740992<a||isNaN(a))a=0;if(2199023255552<a)for(a--,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[1|(a&31)<<1],a=Math.floor(a/32),d=0;8>d;d++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63],a=Math.floor(a/64);else for(a*=2,d=a&31,a=Math.floor(a/32),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|(a?32:0)];a;)d=a&31,a=Math.floor(a/32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d|
(a?32:0)];return b}function Lm(a){var b=a.error,d=Bm(a);if(d&1){var e=(d&62)>>1;for(var f=32,g=0;8>g;g++)d=Bm(a),e+=d*f,f*=64;e++}else for(e=(d&30)>>1,f=16;d&32;){if(9007199254740992<f){a.error=!0;break}d=Bm(a);e+=(d&31)*f;f*=32}a=a.error&&!b?NaN:e;b=a&1;a=Math.floor(a/2);b&&(a=Jm(a));return a}function Mm(a){var b=a.error,d=zm(a);if(0==d)return 0;if(1==d)return 1;d-=2;var e=Lm(a),f=d&1?1:0;d>>=1;0!=d&&(d=1+(d-1+3067)%2047);return a.error&&!b?NaN:z.mg(f,d,e)}
function Nm(a){var b=z.ng(a),d=b[0],e=b[1];b=b[2];var f=e-1023,g,k="";0!=a||d?1==a?k="B":(!d&&-7<=f&&1>=f?(1==f?g=2:0==f?g=3:-1==f?g=4:-2==f?g=5:-3==f?g=6:-4==f?g=7:-5==f?g=13:-6==f?g=14:-7==f&&(g=15),k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):d&&-1<=f&&1>=f?(1==f?g=10:0==f?g=11:-1==f&&(g=12),k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):-15<=f&&16>=f?k=k+"I"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f+15|(d?32:0)]:
(k=k+"J"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&31|(d?32:0)],k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>5]),k+=Km(b)):k="A";if(!d&&-2<=f&&-0>=f&&9<k.length)for(k=""+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(0==f?16:-1==f?32:48)|b&15],b=Math.floor(b/16),a=0;8>a;a++)k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&63],b=Math.floor(b/64);return k}
function Om(a){var b=a.error,d=Bm(a);if(0==d)var e=0;else if(1==d)e=1;else{if(0==(d&48)){if(8==d){var f=Bm(a);e=f&32?1:0;f=(f&31)-15+1023}else 9==d?(f=Bm(a),e=f&32?1:0,f=(f&31)+(Bm(a)<<5)):(10==d||11==d||12==d?(e=1,10==d?f=1:11==d?f=0:12==d&&(f=-1)):(e=0,2==d?f=1:3==d?f=0:4==d?f=-1:5==d?f=-2:6==d?f=-3:7==d?f=-4:13==d?f=-5:14==d?f=-6:15==d&&(f=-7)),f+=1023);d=Lm(a)}else{f=d&48;e=0;f=(16==f?0:32==f?-1:-2)+1023;d&=15;for(var g=16,k=0;8>k;k++)d+=Bm(a)*g,g*=64}e=z.mg(e,f,d)}return a.error&&!b?NaN:e}
function Pm(a){if(L(a,0))return Am(0);if(L(a,1))return Am(1);var b=1<a.e?a.e:a.e-2;isNaN(b)&&(b=-2);return Am(b)+Nm(a.f)}function Qm(a){var b=Cm(a);if(0==b)return new v(0,0);if(1==b)return new v(1,0);var d=new v(0,0);d.e=b;d.f=Om(a);1>=d.e&&(d.e+=2);return d}
function Rm(a){for(var b=0;b<a.length;b++)97<=a[b]&&122>=a[b]?a[b]-=97:0<=a[b]&&25>=a[b]?a[b]+=97:32==a[b]?a[b]=26:26==a[b]?a[b]=32:46==a[b]?a[b]=27:27==a[b]?a[b]=46:44==a[b]?a[b]=28:28==a[b]?a[b]=44:65==a[b]?a[b]=29:29==a[b]?a[b]=65:83==a[b]?a[b]=30:30==a[b]?a[b]=83:84==a[b]?a[b]=31:31==a[b]&&(a[b]=84)}
function Sm(a){var b=zm(a);if(a.error)return"";for(var d=[],e=0;e<b;e++){var f=e,g=a,k=g.error,h=Bm(g),l=h&31;h&32&&(l+=32,h=Bm(g),l+=(h&31)<<5);h&32&&(l+=1024,h=Bm(g),l+=(h&31)<<10);h&32&&(l+=32768,h=Bm(g),l+=(h&63)<<15);d[f]=g.error&&!k?NaN:l;if(a.error)return""}Rm(d);a="";for(b=0;b<d.length;b++)e=d[b],65536>e?a+=String.fromCharCode(e):1114111>=e?(a+=String.fromCharCode((e>>10)+55232),a+=String.fromCharCode((e&1023)+56320)):a+=" ";return a}
function Tm(a){var b=[],d=Hm(a);56<=d&&(d=d&7|zm(a)<<3);if(!a.error){var e=0,f=-1;0<d&&(d--,e=Math.floor(Math.sqrt(.25+2*d)-.5),(e+1)*(e+2)/2-1<d&&e++,f=e,e=d-e*(e+1)/2);for(d=e;d<=f;d++)b[d]=Qm(a);return b}}function Um(a){a=63-Math.round(a);return 0>=a?1:63<=a?0:Math.pow(10,-Math.floor(a/3))*[1,.5,.2][a%3]}function Vm(a){return 11>=a?v(a):Hd(v(1.15),v(a+6))}var Wm=0,Xm=Wm++,Ym=Wm++,Zm=Wm++,$m=Wm++,an=Wm++,bn=Wm++,cn=Wm++,dn=Wm++,en=Wm++,fn=Wm++;Wm=12;
var gn=Wm++,hn=Wm++,jn=Wm++,kn=Wm++,ln=Wm++,mn=Wm++,nn=Wm++,on=Wm++,pn=Wm++,qn=Wm++;function rn(a,b,d){if(!(this instanceof rn))return new rn(a,b,d);this.id=d;this.value=a;this.type=b}
function sn(a,b){switch(b){case Xm:return a?"B":"A";case Ym:return Gm(a);case Zm:return Am(a);case $m:return xm(a);case an:return Em(a);case bn:b=z.ng(a);if(0!=a||b[0])if(1==a)a=xm(1);else{a=b[0];var d=b[1];b=b[2];0!=d&&(d=1+(2047+(d-1)-1020)%2047);a=""+xm((d<<1|a)+2);a+=Km(b)}else a=xm(0);return a;case cn:return Nm(a);case dn:return Pm(a);case en:b=[];for(d=0;d<a.length;d++){var e=a.charCodeAt(d);if(55296<=e&&56319>=e&&d+1<a.length){var f=a.charCodeAt(d+1);56320<=f&&57343>=f&&(e=(e<<10)+f-56613888,
d++)}b.push(e)}Rm(b);a=xm(b.length);for(d=0;d<b.length;d++)a+=Im(b[d]);return a;case fn:a=Le(a);b="";d=0;e=-1;for(f=0;f<a.length;f++)L(a[f],0)||(-1==e&&(d=f),e=f);f=0;0<=e&&(f=1+e*(e+1)/2+d);56>f?b+=Gm(f):(b+=Gm(56+(f&7)),b+=xm(f>>3));for(f=d;f<=e;f++)b+=Pm(a[f]);return b}}
function tn(a,b){var d=a.type,e=a.value,f="";if(12>d)d!=en&&0===e||d==en&&""==e||d==fn&&e.empty()||d==dn&&L(e,0)?(f+=Gm(d+0),f+=Gm(a.id&63)):(a.id==b+1?f+=Gm(d+12):(f+=Gm(d+24),f+=Gm(a.id&63)),f+=sn(a.value,d));else if(a.id==b+1?f+=Gm(d-12+36):(f+=Gm(d-12+48),f+=Gm(a.id&63)),f+=xm(a.value.length),d==gn)for(b=0;b<a.value.length;b+=6){for(e=d=0;6>e&&b+e<a.value.length;e++)a.value[b+e]&&(d|=1<<e);f+=Gm(d)}else for(b=0;b<a.value.length;b++)f+=sn(a.value[b],d-12);return f}
function un(a){for(var b={},d=0;d<a.length;d++){var e=a[d],f=e.id>>6;b[f]||(b[f]=[]);b[f].push(e)}a="";for(f in b)if(b.hasOwnProperty(f)){var g=(f<<6)-1,k=b[f];k.sort(function(l,m){return l.id-m.id});var h="";for(d=0;d<k.length;d++)e=k[d],h+=tn(k[d],g),g=e.id;a+=xm(f);a+=xm(k.length);a+=h}return a}
function vn(a){for(var b={};a.Rc!=a.ff.length;){var d=zm(a),e=zm(a);if(a.error)break;for(var f=(d<<6)-1,g=0;g<e;g++){a:{var k=a;var h=f,l=d;f=new rn(0,0,0);var m=Hm(k);12<=m&&23>=m||36<=m&&47>=m?f.id=h+1:(f.id=Hm(k),f.id+=l<<6);if(36>m)if(l=m%12,f.type=l,12>m)switch(l){case Xm:f.value=!1;break;case Ym:f.value=0;break;case Zm:f.value=0;break;case $m:f.value=0;break;case an:f.value=0;break;case bn:f.value=0;break;case cn:f.value=0;break;case dn:f.value=v(0);break;case en:f.value="";break;case fn:f.value=
R(0);break;default:k.error=!0}else switch(l){case Xm:f.value=Dm(k);break;case Ym:f.value=Hm(k);break;case Zm:f.value=Cm(k);break;case $m:f.value=zm(k);break;case an:f.value=Fm(k);break;case bn:f.value=Mm(k);break;case cn:f.value=Om(k);break;case dn:f.value=Qm(k);break;case en:f.value=Sm(k);break;case fn:f.value=wn(k);break;default:k.error=!0}else if(l=12+m%12,f.type=l,m=zm(k),f.value=[],l==gn)for(h=0;h<m;h+=6){l=Hm(k);if(k.error)break;for(var p=0;6>p&&h+p<m;p++)f.value[h+p]=l&1<<p?!0:!1}else for(h=
0;h<m;h++){switch(l){case gn:f.value[h]=Dm(k);break;case hn:f.value[h]=Hm(k);break;case jn:f.value[h]=Cm(k);break;case kn:f.value[h]=zm(k);break;case ln:f.value[h]=Fm(k);break;case mn:f.value[h]=Mm(k);break;case nn:f.value[h]=Om(k);break;case on:f.value[h]=Qm(k);break;case pn:f.value[h]=Sm(k);break;case qn:f.value[h]=wn(k);break;default:k.error=!0;k=f;break a}if(k.error)break}k=f}if(a.error)return b;f=k.id;b[k.id]=k}}return b}function xn(a){a||(a=0);return{Bg:!0,jb:a}};function yn(a){function b(K){B.push(K.type);u.push(K.H);G.push(K.O.length);for(var J=0;J<K.O.length;J++)D.push(K.O[J]),T.push(K.ha[J]),va.push(K.na[J]);I.push(K.R);Ha.push(K.mark);P.push(K.name);Wa.push(K.Yb)}function d(K){for(var J=[],S=0;S<K.length;S++){var na=S;var Da=v(K[S]);Xa(Da,.5)?Da=0:Da.Qe(11)?Da=Math.round(Da.valueOf()):(Da=Jd(Da,1.15)-6,Da=9007199254740992<Da?9007199254740992:Math.round(Da));J[na]=Da}e(J)}function e(K){for(var J=0,S=[],na=0;na<K.length;na++)S.push(K[na]-J),J=K[na];m(S,
jn)}function f(K){for(var J=[],S=0;S<K.length;S++){var na=K[S];if(0>=na)var Da=0;else 1<=na?Da=63:(Da=-Math.log(na)/2.302585092994046,Da=Math.floor(Da),na/=Math.pow(10,-Da),Da=63-(3*Da+(.15>na?3:.35>na?2:.75>na?1:0)));J[S]=Da}m(J,hn)}function g(K){m(K,kn)}function k(K){m(K,fn)}function h(K){m(K,bn)}function l(K){m(K,$m)}function m(K,J){p.push(rn(K,J,64*q+n++))}a.Bf++;var p=[],q;var n=q=0;h(a.fa);k(a.i);l(a.g);n=4;l(a.K);m(a.j,dn);l(a.ya);a.ya&&(l(a.Wa),l(a.Xa),k(a.Pd));n=10;h(a.Nc);h(a.Pe);m(a.Fa,
Zm);m(a.la,Zm);m(a.za,Zm);n=15;l(zn);m(a.$f,Zm);n=17;m(a.Gc,Zm);n=18;h(a.$a);h(a.jf);h(a.Re);h(a.Gf);n=22;m(a.F,dn);m(a.If,Zm);q=1;n=0;l(a.s);l(a.u);var x=a.s,y=a.u;var B=[];var u=[];for(var r=0;r<y;r++)for(var w=0;w<x;w++){var t=a.B[r][w];B.push(t.index);jg(t)&&u.push(t.C)}m(B,jn);m(u,nn);q=2;n=0;l(a.ca);l(a.ba);x=a.ca;y=a.ba;B=[];u=[];var G=[];for(r=0;r<y;r++)for(w=0;w<x;w++)t=a.$[r][w],B.push(t.index),jg(t)&&(u.push(t.C),G.push(t.td));m(B,jn);m(u,nn);m(G,gn);q=3;n=0;r=[];for(t=0;t<Gh.length;t++)a.h[Gh[t]].c&&
r.push(Gh[t]);B=[];u=[];G=[];for(t=w=0;t<r.length;t++){if(0>r[t]-w)throw"upgrades must be registered in increasing order";B.push(r[t]-w);w=r[t];u.push(a.h[r[t]].ja);G.push(a.h[r[t]].count)}g(B);m(u,gn);g(G);q=4;n=0;r=[];for(t=0;t<yg.length;t++)a.M[yg[t]].c&&r.push(yg[t]);B=[];for(t=w=0;t<r.length;t++){if(0>r[t]-w)throw"crops must be registered in increasing order";B.push(r[t]-w);w=r[t]}g(B);q=5;n=0;r=[];for(t=0;t<Hk.length;t++)a.N[Hk[t]].c&&r.push(Hk[t]);B=[];u=[];G=[];for(t=w=0;t<r.length;t++){if(0>
r[t]-w)throw"upgrades2 must be registered in increasing order";B.push(r[t]-w);w=r[t];u.push(a.N[r[t]].ja);G.push(a.N[r[t]].count)}g(B);m(u,gn);g(G);q=6;n=0;r=[];for(t=0;t<Sj.length;t++)a.U[Sj[t]].c&&r.push(Sj[t]);B=[];for(t=w=0;t<r.length;t++){if(0>r[t]-w)throw"crops2 must be registered in increasing order";B.push(r[t]-w);w=r[t]}g(B);q=7;n=0;r=[];for(t=0;t<Ri.length;t++)a.Db[Ri[t]].Aa&&r.push(Ri[t]);B=[];u=[];for(t=w=0;t<r.length;t++){if(0>r[t]-w)throw"medals must be registered in increasing order";
B.push(r[t]-w);w=r[t];u.push(a.Db[r[t]].ja)}g(B);m(u,gn);q=8;n=0;h(a.Pa);h(a.Ta);h(a.Ra);q=9;n=0;m(a.ke,an);m(a.precision,an);m(a.Dd,Xm);m(a.wa,Xm);m(a.vb,an);m(a.Fc,Xm);m(a.ac,an);m(a.Fd,an);m(a.Tb,ln);m(a.wd,ln);q=10;n=0;l(a.aa);l(a.Bf);l(a.uf);l(a.zf);l(a.yf);l(a.wf);h(a.Sd);h(a.Td);l(a.md);l(a.Na);l(a.Hc);l(a.$d);l(a.Je);l(a.be);l(a.df);l(a.Wd);l(a.Me);m(a.Ic,dn);l(a.Ge);h(a.jd);h(a.Jc);h(a.Rd);h(a.ce);l(a.He);l(a.rc);l(a.Af);l(a.nd);q=11;n=0;h(a.qb);h(a.Le);l(a.Zd);k(a.ka);k(a.mb);k(a.kd);l(a.Ob);
l(a.Yd);l(a.Xd);l(a.Vd);l(a.Ie);l(a.ae);l(a.Cf);l(a.ld);l(a.pb);l(a.Ud);l(a.vf);l(a.tf);l(a.sf);l(a.xf);k(a.od);k(a.Ke);q=12;n=0;h(a.Wb);h(a.xa);l(a.bd);k(a.Ha);k(a.ic);k(a.hc);l(a.$c);l(a.Vb);l(a.lc);l(a.kc);l(a.cd);l(a.dd);l(a.ed);l(a.jc);l(a.ad);l(a.Bc);l(a.Lb);l(a.Kb);l(a.Jd);l(a.Kd);k(a.Mb);k(a.mc);q=13;n=0;0<a.aa&&(h(a.cf),h(a.bf),l(a.Rf),k(a.pe),k(a.oe),k(a.ne),l(a.Ve),l(a.Ze),l(a.Qf),l(a.Ye),l(a.$e),l(a.af),l(a.Sf),l(a.Ue),l(a.We),l(a.Xe),l(a.Of),l(a.Nf),l(a.Mf),l(a.Pf),k(a.Uf),k(a.Tf));q=
14;n=0;e(a.Cd);e(a.Xf);d(a.Ub);d(a.Uc);e(a.Bd);d(a.Tc);d(a.Yf);q=15;n=0;q=16;n=0;l(a.Va);h(a.ud);q=17;n=0;m(a.lb,Zm);m(a.hd,Xm);l(a.pa);l(a.kb);l(a.I.length);l(a.L.length);n=8;B=[];u=[];G=[];var D=[];var T=[];var I=[];var Ha=[];var P=[];var va=[];var Wa=[];for(t=0;t<a.I.length;t++)b(a.I[t]);for(t=0;t<a.L.length;t++)b(a.L[t]);g(B);g(u);g(G);g(D);g(T);m(I,on);g(Ha);m(P,pn);g(va);g(Wa);n=20;l(a.vc);q=18;n=0;B=[];u=[];G=[];for(var M in a.Rb)a.Rb.hasOwnProperty(M)&&a.Rb[M]&&B.push(a.Rb[M]);B.sort(function(K,
J){return K-J});for(t=B.length-1;0<t;t--)B[t]-=B[t-1];g(B);for(M in a.Cb)a.Cb.hasOwnProperty(M)&&a.Cb[M]&&u.push(a.Cb[M]);u.sort(function(K,J){return K-J});for(t=u.length-1;0<t;t--)u[t]-=u[t-1];g(u);for(M in a.Qb)a.Qb.hasOwnProperty(M)&&a.Qb[M]&&G.push(a.Qb[M]);G.sort(function(K,J){return K-J});for(t=G.length-1;0<t;t--)G[t]-=G[t-1];g(G);q=19;n=0;r=[];for(t=0;t<Hj.length;t++)a.P[Hj[t]].c&&r.push(Hj[t]);B=[];u=[];G=[];D=[];T=[];I=[];Ha=[];P=[];for(t=w=0;t<r.length;t++){if(0>r[t]-w)throw"challenges must be registered in increasing order";
B.push(r[t]-w);w=r[t];u.push(a.P[r[t]].V);G.push(a.P[r[t]].Fb);D.push(a.P[r[t]].Ka);T.push(a.P[r[t]].fb);I.push(a.P[r[t]].zb);Ha.push(a.P[r[t]].Se);P.push(a.P[r[t]].le)}g(B);g(u);g(G);g(D);m(T,mn);l(a.challenge);m(I,mn);g(Ha);g(P);q=20;n=0;m(a.yc,Xm);g(a.S);g(a.nb);l(a.ec);f(a.eb);l(a.cc);f(a.Da);l(a.xc);m(a.dc,Xm);f(a.yb);l(a.Jb);m(a.Zc,dn);q=21;n=0;B=[];u=[];G=[];D=[];for(t=0;t<a.Ua.length;t++)for((M=a.Ua[t])||(M=new am),x=M.s,y=M.u,B[t]=x,u[t]=y,D[t]=M.name,r=0;r<y;r++)for(w=0;w<x;w++)G.push(M.data[r][w]);
g(B);g(u);g(G);m(D,pn);M=un(p);r=An(M);return"EF"+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[zn>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[zn>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[zn&63])+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Math.min(63,Math.floor(Math.log2(a.Zd/100+1)))]+wm(M)+r}
function Bn(a){function b(ka){ka=e(ka);for(var db=[],Kb=0;Kb<ka.length;Kb++)db[Kb]=Vm(ka[Kb]).valueOf();return db}function d(ka){ka=e(ka);for(var db=[],Kb=0;Kb<ka.length;Kb++)db[Kb]=Vm(ka[Kb]);return db}function e(ka){for(var db=[],Kb=0,zi=0;zi<ka.length;zi++)Kb+=ka[zi],db[zi]=Kb;return db}function f(ka){ka=p(ka,hn);if(!ka)return ka;for(var db=0;db<ka.length;db++)ka[db]=Um(ka[db]);return ka}function g(ka){return p(ka,kn)}function k(ka){return p(ka,jn)}function h(ka){return p(ka,fn)}function l(ka){return p(ka,
bn)}function m(ka){return p(ka,$m)}function p(ka,db){var Kb=x[64*B+P];P++;return void 0==Kb||Kb.type!=db?(void 0==ka&&(y=!0),ka):Kb.value}if(!vm(a))return xn(2);if(22>a.length)return xn(1);if("E"!=a[0]||"F"!=a[1])return xn(3);var q=4096*tm[a[2]]+64*tm[a[3]]+tm[a[4]];if(q>zn)return xn(7);var n=a.substr(a.length-16);a=a.substr(6,a.length-22);a=ym(a);if(!a)return xn(5);if(n!=An(a))return xn(6);n=new em;a={ff:a,Rc:0};if(4103>=q)return xn(8);var x=vn(a);if(a.error)return xn(4);var y,B,u,r,w,t,G,D,T,I,
Ha;var P=B=0;n.fa=l();n.i=h();n.g=m();P=4;n.K=m();n.j=p(void 0,dn);4160>q&&n.j.Ba(Math.floor(n.g/yl));n.ya=m();n.ya&&(n.Wa=m(),n.Xa=m(),n.Pd=h());P=10;4105>=q&&!n.ya&&(P-=3);n.Nc=l();n.Pe=l();4105<=q&&(n.Fa=p(void 0,Zm));4105<=q&&(n.la=p(void 0,Zm));4105<=q&&(n.za=p(void 0,Zm));P=15;if(4106<=q&&m()!=q)return xn(4);n.$f=4116<=q?p(void 0,Zm):Math.floor(281474976710656*Math.random());P=17;n.Gc=4121<=q?p(void 0,Zm):Math.floor(281474976710656*Math.random());if(y)return xn(4);P=18;4126<=q&&(n.$a=l(),n.jf=
l(),n.Re=l(),n.Gf=l());P=22;4132<=q&&(n.F=p(void 0,dn),4160>q&&n.F.Ba(Math.floor(n.g/yl)));4158<=q&&(n.If=p(void 0,Zm));B=1;P=0;n.s=m();n.u=m();if(y||15<n.s||15<n.u||3>n.s||3>n.u)return xn(4);var va=n.s,Wa=n.u;var M=k();var K=p(void 0,nn);if(y)return xn(4);for(u=w=r=0;u<Wa;u++){n.B[u]=[];for(var J=0;J<va;J++){n.B[u][J]=new dl(J,u,!1);var S=n.B[u][J];S.index=M[r++];50016<=S.index&&4154>=q?S.index=S.index-5E4+300:323<=S.index&&4154>=q&&(S.index=S.index-307+300);jg(S)&&(S.C=K[w++])}}if(r>M.length||w>
K.length)return xn(4);B=2;P=0;n.ca=m();n.ba=m();if(y||15<n.ca||15<n.ba||3>n.ca||3>n.ba)return xn(4);a=n.ca;va=n.ba;M=k();K=4105<=q?p(void 0,nn):null;var na=4111<=q?p(void 0,gn):null;var Da=w=r=0;if(y)return xn(4);for(u=0;u<va;u++)for(n.$[u]=[],J=0;J<a;J++)n.$[u][J]=new dl(J,u,!0),S=n.$[u][J],S.index=M[r++],jg(S)&&(4105<=q&&(S.C=K[w++]),4111<=q&&(S.td=na[Da++]));if(r>M.length||4105<=q&&w>K.length||4111<=q&&Da>na.length)return xn(4);B=3;P=0;M=g();K=p(void 0,gn);na=g();if(y||M.length!=K.length||M.length!=
na.length)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;if(!U[u])return xn(4);n.h[u].c=!0;n.h[u].ja=K[a];n.h[u].count=na[a];U[u].Md&&(n.h[u].c=!1,n.h[u].count=0,4110>=q&&(u==Ki&&na[a]&&(n.h[Ji].c=!0,n.h[Ji].count=2),u==Li&&na[a]&&(n.h[xf].c=!0,n.h[xf].count=2)))}B=4;P=0;M=g();if(y)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;5E4<=u&&4154>=q?u=u-5E4+300:307<=u&&4154>=q&&(u=u-307+300);if(!V[u])return xn(4);n.M[u].c=!0}B=5;P=0;M=g();K=p(void 0,gn);na=g();if(y||M.length!=K.length||M.length!=
na.length)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;if(!Ik[u])return xn(4);n.N[u].c=!0;n.N[u].ja=K[a];n.N[u].count=na[a];Ik[u].Md&&(n.N[u].c=!1)}B=6;P=0;M=g();if(y)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;if(!Rj[u])return xn(4);n.U[u].c=!0}B=7;P=0;M=g();K=p(void 0,gn);if(y||M.length!=K.length)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;if(!Si[u])return xn(4);n.Db[u].Aa=!0;n.Db[u].ja=K[a]}B=8;P=0;n.Pa=l();n.Ta=l();n.Ra=l();if(y)return xn(4);B=9;P=0;n.ke=p(void 0,an);n.precision=
p(void 0,an);n.Dd=p(void 0,Xm);n.wa=p(void 0,Xm);n.vb=p(void 0,an);4116<=q&&(n.Fc=p(void 0,Xm));4118<=q&&(n.ac=p(void 0,an));4128<=q&&(n.Fd=p(void 0,an));4153<=q&&(n.Tb=p(void 0,ln));4158<=q&&(n.wd=p(void 0,ln));if(y)return xn(4);B=10;P=0;n.aa=m();n.Bf=m();n.uf=m();n.zf=m();n.yf=m();n.wf=m();n.Sd=l();n.Td=l();n.md=m();n.Na=m();n.Hc=m();n.$d=m();n.Je=m();n.be=m();n.df=m();4105<=q&&(n.Wd=m());4105<=q&&(n.Me=m());4106<=q&&(n.Ic=4110<=q?p(void 0,dn):v(m()));4110<=q&&(n.Ge=m(),n.jd=l(),n.Jc=l());4123<=
q&&(n.Rd=l(),n.ce=l());4124<=q&&(n.He=m());4138<=q&&(n.rc=m());4139<=q&&(n.Af=m(),n.nd=m());if(y)return xn(4);B=11;P=0;n.qb=l();n.Le=l();n.Zd=m();n.ka=h();n.mb=h();n.kd=h();n.Ob=m();n.Yd=m();n.Xd=m();n.Vd=m();n.Ie=m();n.ae=m();n.Cf=m();4105<=q&&(n.ld=m());4113<=q&&(n.pb=m());4113<=q&&(n.Ud=m());4138<=q&&(n.vf=m());4145<=q&&(n.tf=m());4145<=q&&(n.sf=m());4156<=q&&(n.xf=m());4158<=q&&(n.od=h());4158<=q&&(n.Ke=h());if(y)return xn(4);B=12;P=0;n.Wb=l();n.xa=l();n.bd=m();n.Ha=h();n.ic=h();n.hc=h();n.$c=
m();n.Vb=m();n.lc=m();n.kc=m();n.cd=m();n.dd=m();n.ed=m();4105<=q&&(n.jc=m());4113<=q&&(n.ad=m());4113<=q&&(n.Bc=m());4138<=q&&(n.Lb=m());4145<=q&&(n.Kb=m());4145<=q&&(n.Jd=m());4156<=q&&(n.Kd=m());4158<=q&&(n.Mb=h());4158<=q&&(n.mc=h());if(y)return xn(4);B=13;P=0;if(0<n.aa&&(n.cf=l(),n.bf=l(),n.Rf=m(),n.pe=h(),n.oe=h(),n.ne=h(),n.Ve=m(),n.Ze=m(),n.Qf=m(),n.Ye=m(),n.$e=m(),n.af=m(),n.Sf=m(),4105<=q&&(n.Ue=m(0)),4113<=q&&(n.We=m()),4113<=q&&(n.Xe=m()),4138<=q&&(n.Of=m()),4145<=q&&(n.Nf=m()),4145<=
q&&(n.Mf=m()),4156<=q&&(n.Pf=m()),4158<=q&&(n.Uf=h()),4158<=q&&(n.Tf=h()),y))return xn(4);B=14;P=0;n.Cd=e(k());if(4122<=q)if(n.Xf=e(k()),4159<=q)n.Ub=b(k()),n.Uc=d(k()),n.Bd=e(k()),n.Tc=d(k()),n.Yf=d(k());else{n.Ub=e(k());for(a=0;a<n.Ub.length;a++)n.Ub[a]*=3;n.Uc=e(k());for(a=0;a<n.Uc.length;a++)n.Uc[a]=yd(Hd(v(2),v(n.Uc[a])),1);n.Bd=e(k());if(4140<=q)for(n.Tc=e(k()),a=0;a<n.Tc.length;a++)n.Tc[a]=yd(Hd(v(2),v(n.Tc[a])),1)}if(y)return xn(4);B=15;P=0;B=16;P=0;4110<=q&&(n.Va=m());4115<=q&&(n.ud=l());
B=17;P=0;if(4113<=q){n.lb=p(void 0,Zm);n.hd=p(void 0,Xm);n.pa=m();u=0;if(4153>q){u=m(0);if(1<u)return xn(4);n.pa++}else n.kb=m(0);n.I.length=m(0);n.L.length=m(0);if(n.I.length>n.pa)return xn(4);P=8;M=g();K=g();na=g();var $c=g();var nh=g();var Tf=p(void 0,on);var te=g();if(4153<=q)var ue=p(void 0,pn);else for(ue=[],a=0;a<te.length;a++)ue[a]="";if(4156<=q){var Ai=g();var Bi=g()}else{Ai=[];for(a=0;a<$c.length;a++)Ai[a]=0;Bi=[];for(a=0;a<te.length;a++)Bi[a]=0}if(y)return xn(4);var co=Ha=I=T=D=G=t=Da=
w=r=0;J=function(){var ka=new xl;ka.type=M[r++];ka.H=K[w++];if(!(Da>=na.length)){ka.O.length=na[Da++];for(var db=0;db<ka.O.length;db++)ka.O[db]=$c[t++],ka.ha[db]=nh[G++],ka.na[db]=Ai[Ha++];ka.R=Tf[D++];ka.mark=te[T++];ka.name=ue[I++];ka.Yb=Bi[co++];return ka}};if(4153>q)if(u){n.I.length+=1;S=J();if(!S)return xn(4);n.I[0]=S;n.kb=0}else n.kb=n.I.length;for(a=u;a<n.I.length;a++){S=J();if(!S)return xn(4);n.I[a]=S}for(a=0;a<n.L.length;a++){S=J();if(!S)return xn(4);n.L[a]=S}if(r!=M.length||w!=K.length||
Da!=na.length||t!=$c.length||G!=nh.length||D!=Tf.length||T!=te.length||I!=ue.length||Ha!=Ai.length||co!=Bi.length)return xn(4)}4135<=q&&(P=20,n.vc=m());0>n.lb&&(n.lb=Math.floor(n.qb)&4294967295^440006961524);B=18;P=0;if(4116<=q){M=g();K=g();na=g();if(y)return xn(4);Da=w=r=0;for(a=1;a<M.length;a++)M[a]+=M[a-1];for(a=1;a<K.length;a++)K[a]+=K[a-1];for(a=1;a<na.length;a++)na[a]+=na[a-1];for(a=0;a<M.length;a++)n.Rb[M[a]]=M[a];for(a=0;a<K.length;a++)n.Cb[K[a]]=K[a];for(a=0;a<na.length;a++)n.Qb[na[a]]=na[a]}B=
19;P=0;if(4125<=q){M=g();if(4128<=q)K=g();else for(K=p(void 0,gn),a=0;a<K.length;a++)K[a]=K[a]?1:0;na=g();$c=g();nh=p(void 0,mn);n.challenge=m();if(4139<=q)Tf=p(void 0,mn),te=g(),ue=g();else for(Tf=[],te=[],ue=[],a=0;a<K.length;a++)Tf[a]=0,te[a]=K[a],K[a]=K[a]?1:0,ue[a]=0;if(y||M.length!=K.length||M.length!=na.length||M.length!=$c.length||M.length!=nh.length)return xn(4);for(a=J=0;a<M.length;a++){J=u=M[a]+J;if(!Ij[u])return xn(4);n.P[u].c=!0;n.P[u].V=K[a];n.P[u].Fb=na[a];n.P[u].Ka=$c[a];n.P[u].fb=
nh[a];n.P[u].zb=Tf[a];n.P[u].Se=te[a];n.P[u].le=ue[a]}}if(4139>q)for(a=n.nd=0;a<Hj.length;a++)u=Hj[a],n.nd+=n.P[u].Se,n.challenge==u&&n.P[u].Fb--;for(a=0;a<Hj.length;a++)u=Ij[Hj[a]],J=n.P[Hj[a]],0!=J.zb&&J.V<u.T.length&&(J.zb=0),0!=J.le&&J.V<u.T.length&&(J.le=0);B=20;P=0;if(4136<=q){n.yc=p(void 0,Xm);if(4139<=q)n.S=g();else for(n.S=p(void 0,gn),a=0;a<n.S.length;a++)n.S[a]=n.S[a]?1:0;n.nb=g()}if(4138<=q){n.ec=m();u=[];u=4139<=q?f():[Um(p(void 0,Ym))];if(y)return xn(4);for(a=0;a<u.length;a++)n.eb[a]=
u[a];for(a=u.length;a<n.eb.length;a++)n.eb[a]=u[1]}if(4142<=q){n.cc=m();u=n.Da.length;n.Da=f();for(a=n.Da.length;a<u;a++)n.Da[a]=n.Da[0];if(y)return xn(4)}if(4146<=q&&(n.xc=m(),y))return xn(4);if(4147<=q){n.dc=p(void 0,Xm);u=n.Da.length;n.yb=f();for(a=n.yb.length;a<u;a++)n.yb[a]=n.yb[0];if(y)return xn(4)}if(4149<=q){if(n.Jb=m(),y)return xn(4)}else n.Jb=1;4153<=q&&(n.Zc=p(void 0,dn));B=21;P=0;if(4154<=q){M=g();K=g();na=g();if(4156<=q)$c=p(void 0,pn);else for($c=[],a=0;a<M.length;a++)$c[a]="";if(y||
M.length!=K.length||M.length!=$c.length)return xn(4);Da=0;n.Ua=[];for(a=0;a<M.length;a++){va=M[a];Wa=K[a];if(20<va||20<Wa)return xn(4);S=new am;n.Ua[a]=S;S.s=va;S.u=Wa;S.name=$c[a];S.data=[];for(u=0;u<Wa;u++)for(S.data[u]=[],J=0;J<va;J++){var $r=na[Da++];S.data[u][J]=$r}}if(Da!=na.length)return xn(4)}if(4104>=q){for(u=0;u<n.ba;u++)for(J=0;J<n.ca;J++)S=n.$[u][J],jg(S)&&n.i.j.cb(10);gm(n);0<n.aa&&W("Due to an update, the resin and transcension system has been reset. All your resin has been refunded so you can re-use it with the new system. The pericarps resource has been removed from the game. There are now multiple ethereal field plant types and they give direct boosts to the basic field. Unused resin also gives a small boost now. The ethereal upgrades are currently removed, but new ones, probably costing resin, may be added back in a future game update.",
Cn,0,0,!1,!0);n.i.ga=v(0);n.ka.ga=v(0);n.mb.ga=v(0);n.kd.ga=v(0);n.Ha.ga=v(0);n.ic.ga=v(0);n.hc.ga=v(0);n.pe.ga=v(0);n.oe.ga=v(0);n.ne.ga=v(0);n.U[gk].c=!0;n.U[jk].c=!0;n.U[lk].c=!0;n.U[ak].c=!0;n.Hc=0;n.$d=0;n.Je=0;n.be=0;n.ka.j=v(n.i.j);n.Ic=v(n.ka.j)}else 4105==q?(n.ka.j=v(n.mb.j),n.Ic=v(n.ka.j)):4110>q&&(a=n.Ic,u=n.ka.j,u.X(a)&&(a=v(u)),u=n.mb.j,u.X(a)&&(a=v(u)),u=v(11*n.aa),u.X(a)&&(a=v(u)),n.Ic=a);4112>q&&(n.U[qk].c=!0,n.U[lk].c=!0,n.i.v.Ba(6.666666));if(4116>q){J=v(0);for(a=0;4>a;a++)for(S=
n.N[Ok[a]].count,u=1;u<S;u++)J.o(Cd(v(10),u).m(10)),J.da(Cd(v(2),u).m(10));Sa(J,0)&&(W("ethereal season upgrades became cheaper in version v0.1.20, compensated "+J.toString()+" resin to your stacks",Cn,0,0),n.i.j.o(J))}4119>q&&(n.aa?(n.Cb[1]=1,n.Cb[9]=9):n.Cb[1]=n.Rb[1]=void 0);4126>q&&n.challenge==vf&&!n.h[Gi].c&&(n.h[Gi].c=!0);4141>q&&(n.Ha.j=v(0),n.Ha.F=v(0),n.Ha.R=v(0));n.zf++;return n}
function An(a){for(var b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],d=0;d<a.length;d++)for(var e=tm[a[d]]+1,f=0;16>f;){b[f]=65537*b[f]+e;if(63<b[f])e=b[f]>>6,b[f]&=63;else break;f++}a="";for(d=0;d<b.length;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[d]&63];return a}function Dn(a){H=a;im(H);En();$d=H.ke;ae=H.precision}function Fn(a,b,d){a.ke=$d;a.precision=ae;(a=yn(a))?b&&b(a):d&&d()}function Gn(a,b,d){(a=Bn(a))&&!a.Bg?(Dn(a),b&&b(a)):d&&d(a)}
function wn(a){var b=new Tm(a);if(null==b||void 0==b)return null;if(8<b.length)return a.error=!0,null;a=new R;Me(a,b);return a};function Hn(){var a=In,b=ya(3),d=(new E(b.content,.01,.01,.99,.1,.4)).a;la(d);d.b.innerText="Number Format help";d=new E(b.content,.01,.11,.99,1,.3);b=d.a;Ya(d);d="Change the displayed number format used for most costs, amounts, percentages, etc...<br><br><b>Latin suffixes:</b><br><br>";for(var e=36,f=1;f<e;f++){var g="",k="";if(f<e-2){var h=oe(3*f);g=Ge(3*f);k=", 1e"+3*f;if(4>=f){k+=" (1";for(var l=0;l<f;l++)k+=",000";k+=")"}}else f==e-2?(g="centillion",k=", 1e303",h="C"):h="etc...";d+="<b>"+h+"</b>"+
(g?": ":"")+g+k+"<br>"}d+="<br><br>";e=!1;for(f=0;f<a.length;f++)if(a[f]==Qd){e=!0;break}if(e)for(d+="<b>SI suffixes:</b><br><br>",e=9,f=1;f<e;f++){g=h="";k=", 1";for(l=0;l<f;l++)k+=",000";k+=" (1e"+3*f+")";1==f?(h=" K",g=" kilo"):2==f?(h=" M",g=" mega"):3==f?(h=" G",g=" giga"):4==f?(h=" T",g=" tera"):5==f?(h=" P",g=" peta"):6==f?(h=" E",g=" exa"):7==f?(h=" Z",g=" zetta"):8==f&&(h=" Y",g=" yotta");d+="<b>"+h+"</b>"+(g?": ":"")+g+k+"<br>"}d+="<br><br><b>Symbol meanings:</b><br><br>\n    <b>.</b>: decimal point, e.g. 1.5 is one and a half<br>\n    <b>*</b>: multiply, e.g. 5*5 = 25<br>\n    <b>^</b>: power, e.g. 5^3 = 5*5*5 = 125<br>\n    <b>10^</b>: exponential function for logarithm 10 notation<br>\n    <b>e^</b>: exponential function for natural log notation. Here, e = 2.71828...<br><br><b>Formats:</b><br><br>";
for(f=0;f<a.length;f++)l=a[f],d+="<b>"+ha(Ld[l])+"</b><br>",d+=Md[l]+"<br><br>";b.innerHTML=d}var In=[Nd,Sd,Od,Pd,Td,Yd,Zd],Jn=[];for(Yi=0;Yi<In.length;Yi++)Jn[In[Yi]]=Yi;
function Kn(){function a(){var B='<table border="1" style="border-collapse:collapse"><tr><td style="padding:8px"><b>Example</b></td><td style="padding:8px"><b>Notation</b></td><td width="10%" style="border:none"></td><td style="padding:8px"><b>Example</b></td><td style="padding:8px"><b>Notation</b></td></tr>';for(var u=0;2*u<y.length;u++){B+="<tr>";B+='<td style="padding:8px;">';B+=y[u].valueOf();B+='</td><td style="padding:8px">';B+=v(y[u]).toString(x,l);B+="</td>";var r=u+Math.floor(y.length/2);
B+='<td style="border:none"> </td>';B+='<td style="padding:8px;">';B+=y[r].valueOf();B+='</td><td style="padding:8px">';B+=v(y[r]).toString(x,l);B+="</td>";B+="</tr>"}k.innerHTML="<b>Notation description:</b> "+Md[l];n.innerHTML=B+"</table>";Ln();Mn();Nn();On()}var b=ya(3),d=0;var e=.05;var f=(new E(b.content,0,d,1,d+e,.5)).a;la(f);d+=e;e=.1;var g=(new E(b.content,0,d,1,d+e,.3)).a;d+=e+.02;e=.08;var k=(new E(b.content,.01,d,.99,d+e,.3)).a;d+=e;e=.05;var h=new E(b.content,0,d,1,d+e,.3);d+=e+.02;e=
.25;b=(new E(b.content,0,d,1,d+e,.3)).a;d+=e;var l=$d;f.b.innerText="Choose large number notation";d="Select which notation to use for large numbers.\n\n";for(e=0;e<In.length;e++){var m=In[e];d+=Ld[m]+":\n"+Md[m]+"\n\n"}f.b.innerText="Choose large number notation";f.b.title=d;var p=z.Oc("select","10%","0%","80%","45%",g);p.title=d;for(e=0;e<In.length;e++)m=In[e],f=z.he("option",p),f.innerText="notation: "+Ld[m],f.title=d;p.onchange=function(){$d=l=In[p.selectedIndex];a()};p.selectedIndex=Jn[$d];p.style.fontSize=
"100%";var q=z.Oc("select","10%","50%","80%","45%",g);for(e=3;6>=e;e++)f=z.he("option",q),f.innerText="precision: "+e;q.onchange=function(){ae=x=q.selectedIndex+3;a()};q.selectedIndex=Math.min(Math.max(0,ae-3),4);q.style.fontSize="100%";var n=fa("1%","0%","98%","10%",b);n.innerHTML="<b>Examples:</b>";var x=ae,y=[0,.03,1,7.123456,150,1712.29,1.43489075E7,4294967296,2.048E23,8E29,7.10915E50,2.1065E85,3E303];g=(new E(h,.01,.16,.3,.8,1)).a;qa(g);g.b.innerText="help";C(g.b,function(){Hn()});a()}
function Pn(){function a(){var g=(new E(b.content,.1,e,.9,e+.06,.5)).a;qa(g);e+=.066;return g}var b=ya(),d=new E(b.content,0,0,1,.05,.4);la(d.a);d.a.b.innerText="Preferences";d.a.b.style.fontWeight="bold";var e=.05;d=a();var f=function(g){g.b.innerText="interface theme: "+(2==H.ac?"dark":3==H.ac?"dark (alternative)":"light")};f(d);F(d,"Change the interface style");C(d,A(function(g,k){H.ac++;3<H.ac&&(H.ac=1);k(g);Qn()},d,f));d.id="preferences_theme";d=a();f=function(g){var k="?";0==H.vb&&(k="none");
1==H.vb&&(k="dark");2==H.vb&&(k="light");3==H.vb&&(k="translucent");g.b.innerText="tooltip style: "+k};f(d);F(d,"Change the tooltip style or disable them");C(d,A(function(g,k){H.vb++;4<=H.vb&&(H.vb=0);k(g);Aa()},d,f));d.id="preferences_tooltip";d=a();f=function(g){g.b.innerText=H.Fd?"side panel: auto":"side panel: off"};f(d);F(d,"Choose whether the side panel with upgrade shortcuts and stats summary may appear or not. If on, the side panel only appears if the window is wide enough.");C(d,A(function(g,
k){H.Fd=H.Fd?0:1;k(g);Aa();Rn()},d,f));d.id="preferences_sidepanel";d=a();d.b.innerText="number format";F(d,"Change the precision and display type for large numbers.");C(d,function(){Kn()});d.id="preferences_number";e+=.03;d=a();f=function(g){g.b.innerText="save on close: "+(H.Dd?"yes":"no")};f(d);F(d,"Whether to auto-save when closing the browser window or tab. If off, then still auto-saves every few minutes, but no longer on unload. Toggling this setting will also immediately cause a save.");C(d,
A(function(g,k){H.Dd=!H.Dd;k(g);Sn()},d,f));d.id="preferences_saveonclose";d=a();f=function(g){g.b.innerText="shortcuts may delete crop: "+(H.wa?"yes":"no")};f(d);F(d,'Allow deleting crop without any dialog or confirmation by ctrl+clicking it on the field or pressing "d", or replacing by shift+clicking it. Note that you can always shift+click empty fields to repeat last planted type (opposite of deleting), regardless of this setting.');C(d,A(function(g,k){H.wa=!H.wa;k(g)},d,f));d.id="preferences_shiftdelete";
e+=.03;d=a();d.b.innerText='reset "never show again" help dialogs';F(d,'Resets the "never show again" of all help dialogs, so you\'ll see them again next time until you disable them individually again.');C(d,function(){var g=ya(2,function(){H.Qb={};g.ra();za()},"reset","cancel");g.content.a.innerHTML='This resets the "never show again" setting of all individual help dialogs. You\'ll get the help dialogs again in the situations that make them appear. You can individually disable them again.'});d.id=
"preferences_resethelp";d=a();f=function(g){g.b.innerText="enable help dialogs: "+(H.Fc?"no":"yes")};f(d);F(d,'Whether to enable pop-up help dialogs. Set to no if you consider the dialogs too intrusive. However, if you leave them enabled, you can also always disable individual help dialogs with their "never show again" button, so you can still see new ones, which may be useful to get information about new game mechanics that unlock later.');C(d,A(function(g,k){H.Fc=!H.Fc;k(g);Sn()},d,f));d.id="preferences_enablehelp";
e+=.03;d=a();f=function(g){g.b.innerText="fern notification sound: "+(H.Tb[0]?"yes":"no")};f(d);F(d,'Notification "ding" sound when a fern pops up. Whether sound works at all depends on your browser and whether playing media is allowed by the settings. Browsers will only play the sound if the game is in a foreground tab. Browsers also require interaction with the page before they allow playing sounds at all, so sounds may not work after refreshing the page and not clicking anything.');C(d,A(function(g,
k){H.Tb[0]=1*!H.Tb[0];k(g)},d,f));d.id="preferences_fernsound";d=a();f=function(g){g.b.innerText="fullgrown notification sound: "+(H.Tb[1]?"yes":"no")};f(d);F(d,'Notification "ding" sound when crops get fullgrown. Whether sound works at all depends on your browser and whether playing media is allowed by the settings. Browsers will only play the sound if the game is in a foreground tab. Browsers also require interaction with the page before they allow playing sounds at all, so sounds may not work after refreshing the page and not clicking anything.');
C(d,A(function(g,k){H.Tb[1]=1*!H.Tb[1];k(g)},d,f));d.id="preferences_growsound";e+=.03;d=a();f=function(g){g.b.innerText="auto save message log: "+(H.wd[0]?"yes":"no")};f(d);F(d,"Show auto save message in the message log. This setting does not stop auto-save from working, it just does so silently.");C(d,A(function(g,k){H.wd[0]=1*!H.wd[0];k(g)},d,f));d.id="preferences_savemessages"}var zj=!1;
function Tn(){zj=!0;var a=ya(void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){zj=!1}),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Player Statistics";b=new E(a.content,.01,.11,.99,1,.35);a=b.a;Ya(b);b="";0<H.aa&&(b+="<b>Current Run</b><br>");if(0<H.aa||0<H.g)b+='\u2022 tree level: <font color="#fff">'+H.g+"</font><br>";b+='\u2022 start time: <font color="#fff">'+z.qc(H.Wb)+"</font><br>";b+='\u2022 duration: <font color="#fff">'+z.J(z.getTime()-H.Wb)+"</font><br>";var d=
R(H.Ha);d.R.o(lm().R);b+='\u2022 total earned: <font color="#fff">'+d.toString(!0)+"</font><br>";b+='\u2022 highest resources: <font color="#fff">'+H.ic.toString(!0)+"</font><br>";b+='\u2022 highest production/s: <font color="#fff">'+H.hc.toString(!0)+"</font><br>";b+='\u2022 ferns: <font color="#fff">'+H.$c+"</font><br>";b+='\u2022 planted (permanent): <font color="#fff">'+H.kc+"</font><br>";b+='\u2022 planted (watercress): <font color="#fff">'+H.Vb+"</font><br>";b+='\u2022 deleted: <font color="#fff">'+
H.cd+"</font><br>";b+='\u2022 upgrades: <font color="#fff">'+H.dd+"</font><br>";0<H.pb&&(b+='\u2022 fruits: <font color="#fff">'+H.ad+"</font><br>",b+='\u2022 fruit upgrades: <font color="#fff">'+H.Bc+"</font><br>");if(0<H.aa||0<H.g)b+='\u2022 weather abilities activated: <font color="#fff">'+H.jc+"</font><br>";0<H.h[Vf].count&&(b+='\u2022 sun ability run time, cooldown time, total cycle: <font color="#fff">'+z.J(Df(),!0)+'</font>, <font color="#fff">'+z.J(wf(720)-Df(),!0)+'</font>, <font color="#fff">'+
z.J(wf(720),!0)+"</font><br>");0<H.h[Uf].count&&(b+='\u2022 mist ability run time, cooldown time, total cycle: <font color="#fff">'+z.J(Ef(),!0)+'</font>, <font color="#fff">'+z.J(wf(1080)-Ef(),!0)+'</font>, <font color="#fff">'+z.J(wf(1080),!0)+"</font><br>");0<H.h[Wf].count&&(b+='\u2022 rainbow ability run time, cooldown time, total cycle: <font color="#fff">'+z.J(Ff(),!0)+'</font>, <font color="#fff">'+z.J(wf(1440)-Ff(),!0)+'</font>, <font color="#fff">'+z.J(wf(1440),!0)+"</font><br>");0<H.aa&&
(b=b+'<br><b>Total</b><br>\u2022 highest tree level: <font color="#fff">'+(H.Na+" (before: "+H.rc+")</font><br>"),b+='\u2022 achievements: <font color="#fff">'+H.md+"</font><br>",b+='\u2022 start time: <font color="#fff">'+z.qc(H.qb)+"</font><br>",b+='\u2022 duration: <font color="#fff">'+z.J(z.getTime()-H.qb)+"</font><br>",b+='\u2022 total earned: <font color="#fff">'+H.ka.toString(!0)+"</font><br>",b+='\u2022 highest resources: <font color="#fff">'+H.mb.toString(!0)+"</font><br>",b+='\u2022 highest production/s: <font color="#fff">'+
H.kd.toString(!0)+"</font><br>",b+='\u2022 ferns: <font color="#fff">'+H.Ob+"</font><br>",b+='\u2022 planted (permanent): <font color="#fff">'+H.Vd+"</font><br>",b+='\u2022 planted (watercress): <font color="#fff">'+H.Yd+"</font><br>",b+='\u2022 deleted: <font color="#fff">'+H.Ie+"</font><br>",b+='\u2022 upgrades: <font color="#fff">'+H.ae+"</font><br>",0<H.pb&&(b+='\u2022 fruits: <font color="#fff">'+H.pb+"</font><br>",b+='\u2022 fruit upgrades: <font color="#fff">'+H.Ud+"</font><br>"),b+='\u2022 weather abilities activated: <font color="#fff">'+
H.ld+"</font><br>",b+='\u2022 season changes seen: <font color="#fff">'+H.Me+"</font><br>",b+='\u2022 fastest run: <font color="#fff">'+z.J(H.jd)+"</font><br>",b+='\u2022 longest run: <font color="#fff">'+z.J(H.Jc)+"</font><br>");b+='\u2022 achievements: <font color="#fff">'+H.ie+"</font><br>";b+='\u2022 achievements production bonus: <font color="#fff">+'+Q(yd(H.vd,1))+"</font><br>";b+="<br>";if(0<H.aa){b=b+'<b>Ethereal</b><br>\u2022 ethereal tree level: <font color="#fff">'+(H.K+"</font><br>");
b+='\u2022 total resin: <font color="#fff">'+H.ka.j.toString()+"</font><br>";b+='\u2022 transcensions: <font color="#fff">'+H.aa+"</font><br>";d=Math.min(Math.min(15,H.Ub.length),H.Cd.length);if(0<d){b=1==d?b+'\u2022 last transcension level: <font color="#fff">':b+'\u2022 last transcension levels (recent first): <font color="#fff">';for(var e=0;e<d;e++){var f=5*H.Ub[H.Ub.length-1-e],g="";g=60>f?v(f).toString(1)+"m":300>f?v(f/60).toString(2)+"h":2880>f?v(f/60).toString(1)+"h":v(f/1440).toString(1)+
"d";b+=(0==e?" ":", ")+H.Cd[H.Cd.length-1-e]+" ("+g+(H.Bd[H.Bd.length-1-e]?", C":"")+")"}b+="</font><br>"}b+='\u2022 ethereal planted: <font color="#fff">'+H.Wd+"</font><br>";b+='\u2022 ethereal deleted: <font color="#fff">'+H.$d+"</font><br>";b+='\u2022 ethereal delete tokens: <font color="#fff">'+H.Va+" / "+4*Hf()+"</font><br>";b+="<br>"}0<H.aa&&H.fd&&(b+="<b>Challenges</b><br>",b=H.challenge?b+('\u2022 current challenge: <font color="#fff">'+ha(Ij[H.challenge].name)+"</font><br>"):b+'\u2022 current challenge: <font color="#fff">None</font><br>',
b+='\u2022 challenges attempted: <font color="#fff">'+(H.He+(H.challenge?1:0))+"</font><br>",b+='\u2022 challenges unlocked: <font color="#fff">'+H.fd+"</font><br>",b+='\u2022 challenges completed: <font color="#fff">'+H.we+"</font><br>",H.we!=H.xe&&(b+='\u2022 challenge stages completed: <font color="#fff">'+H.ye+"</font><br>",b+='\u2022 challenge fully completed: <font color="#fff">'+H.xe+"</font><br>"),b+='\u2022 total challenge production bonus: <font color="#fff">'+Q(H.oc)+"</font><br>",b+="<br>");
0<H.aa&&(b=H.challenge?b+"<b>Previous Run (Non-challenge)</b><br>":b+"<b>Previous Run</b><br>",b+='\u2022 tree level: <font color="#fff">'+H.df+"</font><br>",b+='\u2022 start time: <font color="#fff">'+z.qc(H.cf)+"</font><br>",b+='\u2022 duration: <font color="#fff">'+z.J(H.bf)+"</font><br>",b+='\u2022 total earned: <font color="#fff">'+H.pe.toString(!0)+"</font><br>",b+='\u2022 highest resources: <font color="#fff">'+H.oe.toString(!0)+"</font><br>",b+='\u2022 highest production/s: <font color="#fff">'+
H.ne.toString(!0)+"</font><br>",b+='\u2022 ferns: <font color="#fff">'+H.Ve+"</font><br>",b+='\u2022 planted (permanent): <font color="#fff">'+H.Ye+"</font><br>",b+='\u2022 planted (watercress): <font color="#fff">'+H.Ze+"</font><br>",b+='\u2022 deleted: <font color="#fff">'+H.$e+"</font><br>",b+='\u2022 upgrades: <font color="#fff">'+H.af+"</font><br>",0<H.pb&&(b+='\u2022 fruits: <font color="#fff">'+H.We+"</font><br>",b+='\u2022 fruit upgrades: <font color="#fff">'+H.Xe+"</font><br>"),b+='\u2022 weather abilities activated: <font color="#fff">'+
H.Ue+"</font><br>",b+="<br>");a.innerHTML=b}var yj=!1;
function Un(){yj=!0;var a=ya(void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){yj=!1}),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="About";b=new E(a.content,.01,.11,.99,1,.3);a=b.a;Ya(b);b='Ethereal Farm<br/><br/>Reddit: <a target="_blank" href="https://www.reddit.com/r/etherealfarm/">https://www.reddit.com/r/etherealfarm/</a><br/>Discord: <a target="_blank" href="https://discord.gg/9eaTxXvMT2">https://discord.gg/9eaTxXvMT2</a><br/>Github: <a target="_blank" href="https://github.com/lvandeve/etherealfarm">https://github.com/lvandeve/etherealfarm</a><br/><br/>Game version: Ethereal Farm v'+Vn();
a.innerHTML=b+'<br/><br/>Changelog:<br/><br/>0.1.64 (2021-04-18):<br/>\u2022 Removed the Transcension II, Transcension III, etc... system (which multiplied resin and twigs by floor(tree level / 10)).<br/>\u2022 Instead, increased the base of exponentiation of resin and twigs per tree level to compensate the above. The curves have been kept as similar as possible, for levels above 45 this starts being an exponentially increasing buff<br/>\u2022 Added an alternative dark theme<br/><br/>0.1.63 (2021-04-17):<br/>\u2022 Templates now also supported in ethereal field, but not blueprints<br/>\u2022 Upgrade-crop actions and shortcuts now also work in the ethereal field<br/>\u2022 Fixed autumn increasing mushroom seed consumption while its description says it shouldn\'t<br/>\u2022 You can now ctrl+shift+click a blueprint to transcend and plant that blueprint in one go<br/>\u2022 Other small tweaks and fixes<br/><br/>0.1.62 (2021-04-13):<br/>\u2022 Mistletoe now already works while it\'s growing. This prevents issues where tree levels up before mistletoes ready when automaton plants mushrooms<br/>\u2022 The wither challenge was made of comparable difficulty as before 0.1.61 again: the production curve of withering crops tweaked to lose a bit less production initially<br/>\u2022 Resin and twigs per hour, and best per hour, stats in the top info panel.<br/>\u2022 Pressing ctrl or shift now hides tooltips.<br/>\u2022 New shortcuts: "p" picks (selects) crop under mouse cursor, or plants it on empty tile, "u" upgrades crop or blueprint template under mouse cursor, "d" deletes crop under mouse cursor. None of these requires clicking mouse button itself, and key can be held down to keep repeating the action while mouse is moved.<br/>\u2022 Added setting to disable "auto-saved" message in the log.<br/>\u2022 Now, shift+click on top-bar watercress button plants entire field full of watercress, and ctrl+click on it deletes all watercress.<br/><br/>0.1.61 (2021-04-11):<br/>\u2022 Added new ethereal upgrades for ethereal tree levels 1-3: twigs gain, blueberry secret, cranberry secret.<br/>\u2022 Berries, flowers, mushrooms, etc... now already give partial production or boost while growing.<br/>\u2022 The wither challenge got more challenging: withering now also reduces boost of flowers, nettles and beehives.<br/>\u2022 Small UI fixes and tweaks.<br/><br/>0.1.60 (2021-04-10):<br/>\u2022 Added the ability to fuse fruits, this allows adding an ability of choice to a fruit if you can collect 3 fruits with that ability. Full explanation is in fruit help.<br/>\u2022 Added ability to name blueprints<br/><br/>0.1.59 (2021-04-05):<br/>\u2022 Made blueprint watercress work and added placeable template for watercress<br/>\u2022 Added "upgrade crop" button to crop dialog, which does roughly the same as ctrl+shift+clicking it<br/>\u2022 Fruits can now be drag and dropped between slots<br/>\u2022 When no crops fullgrown yet, automaton will now upgrade blueprint to berry if can afford it even if cost limit % option is enabled (except if at 0%), to allow fast startup, as those cost limiting settings are normally used for later in a run only<br/><br/>0.1.58 (2021-04-04):<br/>\u2022 Added blueprint library, available as soon as automaton and templates are available.<br/>\u2022 Blueprint screen is accessed by clicking the tree, or pressing the "b" shortcut.<br/>\u2022 Decreased probability of two-tier lower fruits at higher tree levels.<br/>\u2022 Added shortcut keys for selecting next/previous active fruit using [ and ] (and a few alternatives).<br/>\u2022 Added shortcut key for transcend (t).<br/>\u2022 Added a "delete entire field" button to automaton that deletes all crops.<br/>\u2022 No longer uses up ethereal token when using "replace crop" in ethereal field to replace a crop with the same type.<br/><br/>0.1.57 (2021-04-03):<br/>\u2022 Added cost limit to the advanced automaton auto-unlock settings. Allows stopping auto-unlock when a crop of choice is reached.<br/>\u2022 Added 0.01%, 0.02% and 0.05% options to all percentage automaton settings.<br/>\u2022 Fruits can now be given a custom name.<br/>\u2022 Active fruit selection now works with arrows rather than a separate slot.<br/>\u2022 Added optional notification sounds in the preferences. This feature is experimental and may be removed again, because web browsers are restrictive about sound: it doesn\'t work in background tabs due to background tab pausing, doesn\'t work unless interaction with page happened, and may not work depending on other permissions.<br/><br/>0.1.56 (2021-04-02):<br/>\u2022 Added templates, which are placeholders for crop types. They do nothing but allow planning the field layout.<br/>\u2022 Templates are a new early automaton feature, unlocked immediately along with the existing automation of choice upgrades<br/>\u2022 Templates can be turned into an actual crop using ctrl+shift+click once a crop of that type is unlocked<br/>\u2022 Templates can be auto-planted by the automaton once auto-plant is available, this allows full run automation from the start<br/>\u2022 Templates are placed individually. Full-field blueprint collections are a planned feature for later<br/>\u2022 Templates are disabled during certain challenges<br/>\u2022 Lowered target level for the blackberry challenge<br/><br/>0.1.55 (2021-04-01):<br/>\u2022 Made the balancing changes of 0.1.54 milder. Depending on which state in the game, this means less extreme nerfs or less extreme buffs<br/>\u2022 Increases the effect of the resin extraction and trigs extraction upgrades, giving more resin and twigs at earlier tree level when at high enough stage of the game, to compensate for nerfs from the balance change<br/><br/>0.1.54 (2021-04-01):<br/>\u2022 Balancing of berries and mushrooms to fix issue where higher tier ones became less worth the resources<br/>\u2022 Berry and mushroom upgrades prices get a very gradual additional more-than-exponential cost increase, a soft cap to solve the above problem<br/>\u2022 To compensate, a few other stats were buffed: beehive upgrades, nettle upgrades, treelevel production bonus, and ethereal upgrade for treelevel production bonus all became slightly better than linear<br/>\u2022 Added new large number display options: hybrid with scientific instead of engineering notation<br/><br/>0.1.53 (2021-03-28):<br/>\u2022 Ethereal season upgrades now also give some mushroom benefit to summer and some berry benefit to autumn<br/>\u2022 Winter tweaks: more winter warmth base, winter warmth increases mushroom consumption, beehives affected by cold<br/>\u2022 Transcenscion now gives an additional percentage of resin and twigs, based on how many spores towards next level collected<br/>\u2022 Time countdowns now show ceil of time rather than floor and fractional seconds, and other UI tweaks<br/><br/>0.1.51 (2021-03-27):<br/>\u2022 Allow separate configuration for auto-unlock prices and auto-plant prices<br/>\u2022 Various tweaks<br/><br/>0.1.50 (2021-03-26):<br/>\u2022 Added auto-unlock for automaton, requires high enough ethereal tree and another new challenge<br/>\u2022 Added the blackberry challenge<br/>\u2022 Added ctrl+shift+click plant actions, see shortcut help dialog for info<br/>\u2022 UI tweaks<br/><br/>0.1.49 (2021-03-20):<br/>\u2022 Bugfixes<br/><br/>0.1.48 (2021-03-20):<br/>\u2022 Added auto-plant for automaton, which auto-replaces crops with better versions. Requires high enough ethereal tree and completing a new challenge to unlock<br/>\u2022 Added wither challenge<br/>\u2022 There is no auto-unlock yet (which is needed to fully automate a run), that is planned for a future version but it\'s useful to already release auto-plant now even without auto-unlock.<br/>\u2022 Fixed issue that made upgrade buttons sometimes unresponsive while automaton is doing upgrades even when having more than enough resources<br/><br/>0.1.47 (2021-03-16):<br/>\u2022 Challenge production bonus now also applies to mushrooms, significantly boosting spores output<br/>\u2022 Ethereal mushroom boost also boosts consumption now, ethereal nettles buffed a bit to compensate<br/>\u2022 Season effect rebalancing to fix the winter imbalance: before, winter scaled quadratically while other seasons only linearly with ethereal upgrades. After, all scale by n^1.25 instead.<br/>\u2022 Winter warmth now only boosts berries and mushrooms (since boosting flowers too is what made it quadratic)<br/>\u2022 Clarified in tooltip that lotus also boosts ethereal nettles<br/>\u2022 Various small UI improvements<br/><br/>0.1.46 (2021-03-14):<br/>\u2022 Bugfixes related to update timing and automaton computation.<br/>\u2022 Internal changes in preparation for future auto-plant feature (not yet finished).<br/>\u2022 Buttons to start challenges now show max reached level.<br/><br/>0.1.45 (2021-03-11):<br/>\u2022 It\'s now possible to replace crops with shift+click. Deleting is now done with ctrl+click on a crop instead.<br/>\u2022 Last unlocked crop is now also set for shift+plant.<br/>\u2022 Automatic upgrades are now only done for best type of a crop in the field. This prevents spending resources on obsolete upgrades.<br/><br/>0.1.44 (2021-03-08):<br/>\u2022 Added more ethereal crops<br/>\u2022 Added next tiers of basic crops<br/>\u2022 Re-ordered some crop names. This has no effect on stats of current games, only visual/naming. This to keep the alphabetical tier ordering after inserting new ones, noting that amanita is sorted as "muscaria"<br/>\u2022 Some crop graphics redrawn, e.g. daisy for visible contrast in winter<br/>\u2022 Auto-upgrades no longer store undo<br/>\u2022 Various fixes<br/><br/>0.1.43 (2021-03-07):<br/>\u2022 Added a second stage to the no-upgrades challenge<br/>\u2022 Added more finetuning settings for auto-upgrades, unlocked by the new stage<br/>\u2022 Many other small tweaks<br/><br/>0.1.42 (2021-03-06):<br/>\u2022 Added auto-upgrade to the automaton, requires high enough ethereal tree level and a challenge to become available<br/>\u2022 Added the no-upgrades challenge<br/>\u2022 New fruits now appear in sacrificial slots rather than storage or active slots, except the first one ever<br/>\u2022 Fix tree level-up computation during long time intervals<br/>\u2022 Other tweaks and fixes<br/><br/>0.1.41 (2021-03-01):<br/>\u2022 Added the undeletable challenge<br/>\u2022 Increased rocks challenge reward target level from 12 to 15 (nothing changes if you already got it)<br/>\u2022 Crops that depend on planting a specific crop (nettle, mistletoe and beehive) now also unlock when next higher berry is unlocked<br/>\u2022 Clicking the text "stored fruits" in fruit tab now shows where you got each slot from<br/><br/>0.1.40 (2021-02-27):<br/>\u2022 Added automaton. Can automate the choice upgrades. More features planned for later game versions<br/>\u2022 Fixed high level flower boost accidently set too low<br/>\u2022 Various tweaks and fixes<br/><br/>0.1.39 (2021-02-25):<br/>\u2022 Added two more obtainable fruit storage slots, when seeing 1 or all seasonal fruits dropped for the first time (for existing saves, this starts from 0)<br/>\u2022 Various tweaks and fixes<br/><br/>0.1.38 (2021-02-22):<br/>\u2022 Increased twigs tree level multiplier, decreased starting value to compensate: higher tree levels now give more twigs.<br/>\u2022 Season effect balancing: spring and summer should be competitive now.<br/>\u2022 Ethereal season upgrades improved and should now have same relative strength for each season.<br/>\u2022 Other minor tweaks & fixes.<br/><br/>0.1.37 (2021-02-20):<br/>\u2022 Added new high level ethereal upgrades.<br/>\u2022 Added a new high level ethereal crop.<br/>\u2022 Other balance changes.<br/>\u2022 Added icons indicating what shift/ctrl click on field will do.<br/>\u2022 Changed spring leaves color into blossom color.<br/>\u2022 Other UI tweaks<br/><br/>0.1.36 (2021-02-16):<br/>\u2022 Twigs now receive the 2x, 3x, ... higher transcenscion bonus like resin does.<br/>\u2022 Twigs gain reduced for lower tree levels, but when reaching tree level 20+ this update is a net win.<br/>\u2022 Twigs are now given at transcension rather than immediately.<br/>\u2022 Rocks challenge now also gives twigs.<br/><br/>0.1.35 (2021-02-14):<br/>\u2022 Added electrum and gold tier fruits. Electrum starts having a chance to drop at level 35.<br/>\u2022 Added seasonal fruits with extra inherent seasonal ability, can drop with lower probability then regular fruits.<br/><br/>0.1.34 (2021-02-13):<br/>\u2022 Added next higher level crop types for berry, mushroom and flower.<br/>\u2022 Autumn mushroom boost increased, and now also boosts mistletoe twigs.<br/>\u2022 Buffed the ethereal grow speed upgrade.<br/>\u2022 Made more clearly defined colors for the metal tiers (used in medals, fruits, ...).<br/>\u2022 HTML ARIA annotation improvements.<br/><br/>0.1.33 (2021-02-08):<br/>\u2022 Some challenges can have tree resin, fruit and/or twigs drop now.<br/>\u2022 Side panel upgrade tooltips now also show cost and growtime of the related plant itself.<br/>\u2022 Other UI tweaks.<br/><br/>0.1.32 (2021-02-07):<br/>\u2022 Added the "rocks" challenge, available at tree level 15.<br/>\u2022 Added ethereal upgrades for fruit slots.<br/>\u2022 Other balancing.<br/><br/>0.1.31 (2021-02-07):<br/>\u2022 Changed fern boost fruit ability into nettle boost.<br/>\u2022 Brought back the "refund for still growing plant" and made achievements based on fullgrown plants again: it turns out the QoL of this feature was more important.<br/>\u2022 Added a side panel with extra info and shortcut upgrade buttons. This only appears if the screen is wide enough.<br/>\u2022 Other UI tweaks.<br/><br/>0.1.30 (2021-02-06):<br/>\u2022 Removed the "refund still growing plant" feature since it allowed some achievement related abuse. Use the undo button instead.<br/>\u2022 Tweaked the undo button: min time between saving undo now 10 seconds instead of 1 minute (lose less work when using undo, use export save for longer term things).<br/>\u2022 Balancing changes (mostly slight buffs).<br/>\u2022 Fix issues related to playing on multiple computers with different UTC time set.<br/>\u2022 Various bee challenge bugfixes and tweaks.<br/>\u2022 Mushrooms now try to consume all resources of private berry before berries shared with other mushrooms.<br/><br/>0.1.29 "Bee update" (2021-02-06):<br/>\u2022 Added the bee challenge, which unlocks when planting a daisy (third tier flower, so it requires significant progress in the game to reach).<br/>\u2022 Added beehives, only available after successfully completing the bee challenge.<br/>\u2022 Since the necessary logic for challenges in general is added to the game for this, more will be added later.<br/><br/>0.1.28 (2021-02-03):<br/>\u2022 Fixed a bug with the previous runs level/time statistics.<br/>\u2022 Various other UI tweaks and fixes.<br/>\u2022 A larger update (bees) is coming soon, still work in progress.<br/><br/>0.1.27 (2021-01-29):<br/>\u2022 Changed fruit weather cooldown ability into weather boost.<br/>\u2022 Fixed issue with ethreal grow speed upgrade soft capping, now it should no longer accidently increase some times.<br/>\u2022 Various UI fixes.<br/><br/>0.1.26 (2021-01-28):<br/>\u2022 Minor numerical and UI fixes.<br/><br/>0.1.25 (2021-01-27):<br/>\u2022 Fixed a minor exploit with ferns.<br/>\u2022 Removed support for savegames before 0.1.7, a very old version that normally isn\'t in use anywhere anymore but added complexity to the codebase to support.<br/><br/>0.1.24 (2021-01-26):<br/>\u2022 Renamed watercress "leech" to "copy". It\'s still the exact same effect, but the name copy is more clear, since it is a strictly positive effect.<br/>\u2022 Increased weather cooldown, growth speed and mushroom economy effects of fruits.<br/>\u2022 "w" keyboard shortcut now also replants existing watercress.<br/>\u2022 More UI tweaks and fixes.<br/><br/>0.1.23 (2021-01-24):<br/>\u2022 UI tweaks and fixes.<br/><br/>0.1.22 (2021-01-24):<br/>\u2022 Added dark mode UI. Option available under preferences.<br/>\u2022 Added support for CSS stylesheets for this.<br/>\u2022 Made all unlocked dynamic in-game help dialogs available in the main help from the settings. More appear as more get unlocked during the game progression.<br/><br/>0.1.21 (2021-01-24):<br/>\u2022 Added achievements chips when new achievement unlocked.<br/>\u2022 Other related UI tweaks: latin number tweaks, tooltip infos<br/><br/>0.1.20 (2021-01-23):<br/>\u2022 New mechanic: mistletoes, twigs resource and ethereal tree leveling.<br/>\u2022 Added new ethereal upgrades and crops, both first-tier and higher ethereal-tree-level-tier ones.<br/>\u2022 Made ethereal season upgrades cheaper (2x instead of 10x cost scaling).<br/>\u2022 Increased ethereal blackberry and champignon boosts from 20% to 25%.<br/>\u2022 Other balance tweaks: more medal bonuses, higher level plants tweaked, ...<br/>\u2022 Renamed "fog ability" to "mist ability".<br/>\u2022 Added help dialog system plus preferences for this<br/><br/>0.1.19 (2021-01-17):<br/>\u2022 Improved winter: still has the harsh effect, but also has positive effect for crops next to tree ("winter tree warmth"), and makes the tree produce more resin when it levels up.<br/>\u2022 Ethereal winter upgrade now more useful: also upgrades those positive winter effects.<br/>\u2022 Added more info about season effects to the dialog gotten from clicking the time/season indicator.<br/><br/>0.1.18 (2021-01-17):<br/>\u2022 Increased starter resources of ethereal fern.<br/>\u2022 Fixed bugs related to leeching and transcension II.<br/><br/>0.1.17 "Fruit update" (2021-01-16):<br/>\u2022 Added fruits.<br/>\u2022 Only one weather ability can be active at the same time now.<br/><br/>0.1.16 (2021-01-09):<br/>\u2022 Added ethereal lotus. Lotus now boosts ethereal neighbors, while clover boosts basic flowers.<br/>\u2022 Added more ethereal upgrades<br/>\u2022 Added more achievements<br/>\u2022 Ethereal mushroom bonus improved: no longer increases consumption.<br/>\u2022 Leeching watercress now leaves a "ghost" remainder when it disappears. No effect, visual reminder of leech spot only.<br/>\u2022 Spore costs and production inflated times 6.66666, no actual consequence other than display, to avoid values with very small exponent with first mushroom.<br/><br/>0.1.15 (2021-01-08):<br/>\u2022 Swapped fog and sun ability (sun is now unlocked first).<br/>\u2022 Improve UI of "choice" upgrades to be single upgrade with a choice dialog<br/>\u2022 Increased unused resin bonus 10x<br/>\u2022 Increased amount of starter resources from ethereal fern and made it scale quadratically<br/>\u2022 Can now only delete new ethereal crops after next transcension<br/>\u2022 Bugfixes<br/><br/>0.1.14 (2020-12-30):<br/>\u2022 Ethereal crops now give 100% resin back on delete, but require ethereal deletion tokens.<br/>\u2022 Buffed watercress to have a more meaningful upgrade for the early game experience.<br/>\u2022 Added a few more achievements.<br/><br/>0.1.13 (2020-12-30):<br/>\u2022 Mushrooms now only get seeds from neighbors, so they can\'t produce spores if they don\'t have berries as neighbors in the field.<br/>\u2022 The global overconsumption system has been removed since this now takes place locally amongst groups of mushroom/berry neighbors.<br/>\u2022 Nettles now also negatively affect neighboring flowers, instead of only berries.<br/>\u2022 Leech effect takes the extra seeds consumption through the mushrooms neighboring producers.<br/>\u2022 Internal field production algorithm updated to support the neighbor-based consumption/production effects.<br/>\u2022 Trees still consume spores globally, mushrooms are not required to be next to the tree. Maybe this makes sense in a future update but it may cause an issue of discoverability when one doesn\'t yet know you want to upgrade the tree.<br/>\u2022 The goal of this is to add more crop interaction and positional elements to the game<br/><br/>0.1.12 (2020-12-28):<br/>\u2022 Fix accidental 7x7 field bug, 6x6 is currently the maximum if the relevant upgrade is purchased.<br/><br/>0.1.11 (2020-12-27):<br/>\u2022 Added back ethereal upgrades (2 for now), now costing resin. The 6x6 field size upgrade is now actually reachable.<br/><br/>0.1.10 (2020-12-26):<br/>\u2022 Internal fixes.<br/><br/>0.1.9 (2020-12-26):<br/>\u2022 The resin and transcension system has been redesigned. There are now multiple ethereal field plant types and they give direct boosts to the basic field. All resin has been refunded and can be re-used with the new system.<br/>\u2022 The pericarps resource has been removed from the game. Nothing is lost from this since only its production per second ("ethereal field power") was used and this was determined by resin which has been refunded.<br/>\u2022 Unused resin also gives a small boost now.<br/>\u2022 The ethereal upgrades (which used to cost ethereal field power) are currently removed (and replaced by ethereal plant effects instead), but new ones, probably costing resin, may be added back in a future game update.<br/>\u2022 A few other minor tweaks, e.g. the savegame now remembers which tab you had open and the assigned shift key plant.<br/><br/>0.1.8 (2020-12-24):<br/>\u2022 Changed the savegame format internally to be more compatible with future updates.<br/>\u2022 Minor tweaks and fixes.<br/><br/>0.1.7 (2020-12-23):<br/>\u2022 Added new plant type: watercress, and made it the starter plant. Also remains important as non-idle (active) plant throughout the game.<br/>\u2022 Nerfed costs and production of other plants to compensate the watercress power.<br/>\u2022 Added "a" keyboard shortcut for abilities.<br/><br/>0.1.6 (2020-12-22):<br/>\u2022 Added undo button.<br/>\u2022 Removed the free replant of same plant type at same spot since undo can be used instead now.<br/>\u2022 Weather abilities unlock immediately rather than through extra upgrade step, and merged their choice upgrades.<br/><br/>0.1.5 (2020-12-21):<br/>\u2022 Added new plant type: nettle<br/>\u2022 Added estimated time counters to several cost tooltips<br/>\u2022 Balancing tweaks<br/>\u2022 Increased ethereal upgrades but still very conservative for now as first run can still get balanced more<br/><br/>0.1.4 (2020-12-20):<br/>\u2022 Added "choice" upgrades<br/>\u2022 Added a third weather ability<br/>\u2022 Made higher level mushrooms produce more spores<br/><br/>0.1.3 (2020-12-19):<br/>\u2022 Added weather abilities<br/>\u2022 Balancing: slightly cheaper 3rth and higher tier plants<br/><br/>0.1.2 (2020-12-19):<br/>\u2022 Slightly boosted fern and it can now also give spores<br/>\u2022 Tweaked the upgrade-button UI<br/><br/>0.1.1 (2020-12-18):<br/>\u2022 Balance changes: fixed too slow beginning of game, but also the too powerful long term upgrade scaling<br/><br/>0.1.0 (2020-12-18):<br/>\u2022 Initial test release, no patches applied yet<br/>\u2022 Since this is a first alpha release, balancing and mechanics can still change quite bit!<br/><br/>Copyright (c) 2020-2021 by Lode Vandevenne'}
function Wn(a){var b=a?'<font color="red"><b>Loading failed</b></font>. Read this carefully to help recover your savegame if you don\'t have backups. Copypaste all the recovery savegame(s) below and save them in a text file. Once they\'re stored safely by you, try some of them in the "import save" dialog under settings. One of them may be recent enough and work. Even if the recovery saves don\'t work now, a future version of the game may fix it. Apologies for this.':"Recovery saves. These may be older saves, some from previous game versions. Use at your own risk, but if your current save has an issue, save all of these to a text file as soon as possible so that if there's one good one it doesn't risk being overwritten by more issues. Try importing each of them, hopefully at least one will be good and recent enough.";
for(var d=Xn(),e="",f=0;f<d.length;f++)e+=d[f][0]+"\n"+d[f][1]+"\n\n";0==d.length&&(e='No recovery saves found. Ethereal farm savegames are stored in local storage of your web browser for the current website. If you expected to see savegames here, there may be several possible reasons:\n\n \u2022 Your browser deleted (or doesn\'t save) local storage for this website\n\n \u2022 After manually performing a hard reset all data is erased\n\n \u2022 Never played the game on this device or in this browser.\n\n \u2022 Played the game on a different website (URL). If you played on a different website before and want to continue here, you can export the save there and import it here in the settings.\n\n \u2022 Other modifications to the URL: for example, ensure no "www" in front and "https", not "http" in front.\n\n');
!a&&0<d.length&&!Yn?Fn(H,function(g){e+="current\n"+g+"\n\n";Zn(b,e,"ethereal-farm-recovery-"+z.qc(z.getTime(),!0)+".txt",!a)}):Zn(b,e,"ethereal-farm-recovery-"+z.qc(z.getTime(),!0)+".txt",!a)}
function Zn(a,b,d,e){var f=400<a.length||1E3<b.length,g=void 0,k=void 0;document.queryCommandSupported&&document.queryCommandSupported("copy")&&document.execCommand&&(g=function(){l.select();l.focus();try{document.execCommand("copy")}catch(m){W("failed to copy to clipboard",$n,0,0);h.a.innerText="failed to copy to clipboard, copy it manually with ctrl+c instead";h.a.style.color="red";return}e&&za();W("save copied to clipboard")},k="to clipboard");f=ya(f?2:1,function(){var m=document.createElement("a");
m.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(l.value+"\n"));m.setAttribute("download",d);m.style.display="none";document.body.appendChild(m);m.click();document.body.removeChild(m);e&&za();W("save exported to file")},"download","back",g,k);var h=new E(f.content,.02,.01,.98,.15,.3);h.a.innerHTML=a;a=new E(f.content,.02,.2,.98,1,.3);var l=z.Oc("textarea","0","0","100%","100%",a.a);l.value=b;l.select()}
function ao(a){function b(){var f=(new E(a.content,.1,d,.9,d+.06,.5)).a;qa(f);d+=.066;return f}var d=.05,e=new E(a.content,0,0,1,.05,.4);la(e.a);e.a.b.innerText="Settings";e.a.b.style.fontWeight="bold";e=b();e.b.innerText="save now";F(e,"Save to local storage now. The game also autosaves every few minutes so you don't need this button often.");C(e,function(){Sn(function(f){W("Manually saved state locally");z.ub(f,Ze);za()})});e.id="settings_save";e=b();e.b.innerText="export save";F(e,"Export an encoded savegame, for backups.");
C(e,function(){H.wf++;H.Sd=z.getTime();Fn(H,function(f){Zn("Export a savegame backup: copy or download the encoded savegame below, and store it somewhere safe. Do this regularly: even though the game autosaves in the web browser, browsers can easily lose this data. This contains all your progress!",f,"ethereal-farm-"+z.qc(z.getTime(),!0)+".txt",!0)})});e.id="settings_export";e=b();e.b.innerText="import save";F(e,'Import a save, which you created with "export save"');C(e,function(){var f=ya(!1,function(h){var l=
h.shiftKey;h=k.value;h=h.trim();""!=h&&Gn(h,function(m){l&&(m.fa=m.time=z.getTime(),Dn(m),W("Held shift key while importing this save, so no resources added for the time between exporting and importing now (loaded as if the time was back then). To get those resources, don't hold shift while loading."));f.ra();m.yf++;m.Td=z.getTime();za();bo();eo();fo();go="";ho=0;io();X();z.hb(Ve);Yn=!1},function(m){var p="invalid savegame";m&&1==m.jb&&(p+="\nLoading fail reason: the string is too short to be a savegame");
m&&2==m.jb&&(p+="\nLoading fail reason: not base64");m&&3==m.jb&&(p+="\nLoading fail reason: invalid signature");m&&4==m.jb&&(p+="\nLoading fail reason: parsing format");m&&5==m.jb&&(p+="\nLoading fail reason: decompression");m&&6==m.jb&&(p+="\nLoading fail reason: checksum mismatch");m&&7==m.jb&&(p+="\nLoading fail reason: savegame is from later version than current game version");m&&8==m.jb&&(p+="\nLoading fail reason: savegame is from an early preview version of the game and no longer supported");
g.a.innerText=p;g.a.style.color="black"})},"import","cancel"),g=new E(f.content,.01,.01,.99,.1,.4);g.a.innerHTML='Import a savegame backup. You can create a backup with "export save". Paste in here and press "import".<br/><font color="red">Warning: this overwrites your current game!</font>';var k=z.Oc("textarea","1%","15%","98%","70%",f.content.a);k.select();k.focus()});e.id="settings_import";e=b();e.b.innerText="hard reset";F(e,"Perform a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?");
C(e,function(){var f=ya(!1,function(){f.ra();W("Hard reset performed, everything reset",Cn,0,0);z.hb(Ue);z.hb(Ve);z.hb(We);z.hb(Xe);z.hb(Ye);z.hb($e);z.hb(Ze);z.hb(af);z.hb(bf);z.hb(cf);z.hb(df);Dn(hm());go="";ho=0;Yn=!1;lg=[];bo();eo();fo();io();X();za()},"reset"),g=new E(f.content,.01,.01,.99,.1,.4);g.a.innerText="Perform a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?";
g.a.style.color="red"});e.id="settings_hardreset";d+=.025;e=b();e.b.innerText="preferences";F(e,"Various UI, saving, gameplay and other settings.");C(e,function(){Pn()});e.id="settings_preferences";e=b();e.b.innerText="number format";F(e,"Change the precision and display type for large numbers.");C(e,function(){Kn()});e.id="settings_number";d+=.025;e=b();e.b.innerText="player stats";C(e,function(){Tn()});e.id="settings_player_stats";H.fd&&(e=b(),e.b.innerText="challenge stats",C(e,function(){var f=
ya(3),g=(new E(f.content,.01,.01,.99,.1,.4)).a;la(g);g.b.innerText="Challenge Stats";g=new E(f.content,.01,.11,.99,1,.3);f=g.a;Ya(g);g="total challenge production bonus: +"+Q(H.oc)+"<br><br>";for(var k=0;k<Oj.length;k++){var h=Ij[Oj[k]],l=H.P[Oj[k]];if(l.c){g+="<b>"+ha(h.name)+"</b>";g+="<br>";g=1!=h.T.length&&l.V?g+("completed: stage "+l.V+" of "+h.T.length):g+("completed: "+(l.V?"yes":"no"));g+="<br>";if(1<h.T.length){g+="multiple target level stages: ";for(var m=0;m<h.T.length;m++)g+=(m?", ":"")+
h.T[m]}else g+="target level: "+h.T[0];g+="<br>";g+="runs: "+(l.Fb+1);g+="<br>";g+="highest level: "+l.Ka;g+="<br>";1<h.T.length&&h.Bb()?(g+="fastest first stage target level time: "+(l.fb?z.J(l.fb):"--")+"<br>",g+="fastest final stage target level time: "+(l.zb?z.J(l.zb):"--")+"<br>"):g+="fastest target level time: "+(l.fb?z.J(l.fb):"--")+"<br>";g+="bonus per level: "+Q(h.oa);g+="<br>";g+="production bonus: "+Q(h.oa.m(l.Ka));g+="<br>";if(1<h.T.length){for(m=0;m<l.V;m++)g+="reward gotten: "+h.Hb[m],
g+="<br>";h.Bb||(g+="(next unclaimed reward: "+h.Hb[l.V]+")",g+="<br>")}else g=l.V?g+("reward gotten: "+h.Hb[0]):g+("(unclaimed reward: "+h.Hb[0]+")"),g+="<br>";g+="<br>"}}f.innerHTML=g}),e.id="settings_challenge_stats");d+=.025;e=b();e.b.innerText="help";C(e,function(){jo()});e.id="settings_help";e=b();e.b.innerText="about & changelog";C(e,function(){Un()});e.id="settings_about"};var ko=void 0,lo=void 0,mo=void 0,no=void 0,oo=void 0,po=void 0,qo=void 0;function ro(a,b,d,e){e-=d;return a+": "+b+"<br>Run time: "+z.J(d)+". Cooldown time: "+z.J(e)}
function so(){mo&&!H.h[Vf].count&&(Ea(mo),Ea(no),mo=void 0);if(!mo&&H.h[Vf].count){mo=new E(to,[0,4],[0,.1],[0,4.8],[0,.9]);pa(mo.a,!0);no=new E(to,[0,4],[0,.1],[0,5.5],[0,.9],2);no.a.className="efWeatherOff";no.a.style.userSelect="none";no.a.style.pointerEvents="none";var a=new E(mo,0,0,1,1);a=sb("0%","0%","100%","100%",a.a);tb(Jb,a);C(mo.a,function(){Y.push({type:uo,Xc:1});X()},"sun ability");mo.a.id="sun_button";F(mo.a,function(){return ro("sun ability","berries get a production bonus and aren't negatively affected by winter",
Df(),wf(720))})}H.h[Vf].count&&(a=z.getTime()-H.Ta,a>wf(720)?no.a.innerHTML="":a>Df()?(no.a.className="efWeatherOff",no.a.innerHTML="ready in:<br>"+z.J(wf(720)-a,!0)):(no.a.className="efWeatherOn",no.a.innerHTML="active:<br>"+z.J(Df()-a,!0)));ko&&!H.h[Uf].count&&(Ea(ko),Ea(lo),ko=void 0);!ko&&H.h[Uf].count&&(ko=new E(to,[0,5.5],[0,.1],[0,6.3],[0,.9]),pa(ko.a,!0),lo=new E(to,[0,5.5],[0,.1],[0,7],[0,.9],2),lo.a.style.userSelect="none",lo.a.style.pointerEvents="none",a=new E(ko,0,0,1,1),a=sb("0%","0%",
"100%","100%",a.a),tb(Ib,a),C(ko.a,function(){Y.push({type:uo,Xc:0});X()},"mist ability"),ko.a.id="mist_button",F(ko.a,function(){return ro("mist ability","mushrooms produce more spores, consume less seeds, and aren't negatively affected by winter",Ef(),wf(1080))}));H.h[Uf].count&&(a=z.getTime()-H.Pa,a>wf(1080)?lo.a.innerHTML="":a>Ef()?(lo.a.className="efWeatherOff",lo.a.innerHTML="ready in:<br>"+z.J(wf(1080)-a,!0)):(lo.a.className="efWeatherOn",lo.a.innerHTML="active:<br>"+z.J(Ef()-a,!0)));oo&&!H.h[Wf].count&&
(Ea(oo),Ea(po),oo=void 0);!oo&&H.h[Wf].count&&(oo=new E(to,[0,7],[0,.1],[0,7.8],[0,.9]),pa(oo.a,!0),po=new E(to,[0,7],[0,.1],[0,8.5],[0,.9],2),po.a.style.userSelect="none",po.a.style.pointerEvents="none",a=new E(oo,0,0,1,1),a=sb("0%","0%","100%","100%",a.a),tb(Lb,a),C(oo.a,function(){Y.push({type:uo,Xc:2});X()},"rainbow ability"),oo.a.id="rainbow_button",F(oo.a,function(){return ro("rainbow ability","rainbow ability: flowers get a boost and aren't negatively affected by winter",Ff(),wf(1440))}));
H.h[Wf].count&&(a=z.getTime()-H.Ra,a>wf(1440)?po.a.innerHTML="":a>Ff()?(po.a.className="efWeatherOff",po.a.innerHTML="ready in:<br>"+z.J(wf(1440)-a,!0)):(po.a.className="efWeatherOn",po.a.innerHTML="active:<br>"+z.J(Ff()-a,!0)));Sa(H.ka.l,1E3)?qo||(qo=new E(to,[1,-2.1],[0,.1],[1,-1.3],[0,.9]),qo.a.title="Refresh watercress: active watercress and remainders only. Hotkey: w. With ctrl, deletes all watercress. With shift, plants watercress everywhere it can",pa(qo.a,!0),a=new E(qo,0,0,1,1),a=sb("0%",
"0%","100%","100%",a.a),tb(Dc[4],a),C(qo.a,function(b){vo(z.Fe(b),b.shiftKey)},"refresh watercress. with shift: deletes all watercress"),qo.a.id="watercress_button"):qo&&(qo.clear(),Ea(qo),qo=void 0)}
function vo(a,b){if(!a||!b){for(var d=!1,e=!1,f=!1,g=!1,k=V[uh].G.l,h=v(H.i.l),l=0;l<H.u;l++)for(var m=0;m<H.s;m++){var p=h.Oa(k),q=H.B[l][m];b?!p||0!=q.index&&q.index!=Sl&&q.index!=16+zh||(q.index==16+zh&&Y.push({type:wo,x:m,y:l,silent:!0}),h.da(k),Y.push({type:xo,x:m,y:l,Y:V[uh],Ld:!0,silent:!0}),g=!0):q.index==Sl?a?(Y.push({type:wo,x:m,y:l,silent:!0}),f=!0):p&&(h.da(k),Y.push({type:xo,x:m,y:l,Y:V[uh],Ld:!0,silent:!0}),d=!0):q.index==16+uh&&(p||a)?(Y.push({type:wo,x:m,y:l,silent:!0}),a||(h.da(k),
Y.push({type:xo,x:m,y:l,Y:V[uh],Ld:!0,silent:!0})),e=!0):q.index==16+zh&&p&&!a&&(h.da(k),Y.push({type:yo,x:m,y:l,Y:V[uh],Ld:!0,silent:!0}),e=!0)}g?W("planting watercress"):d?W("replanting watercress"):e?W(a?"deleting watercress":"refreshing watercress"):f?W("cleared watercress remainders"):h.ia(k)?W("nothing done: only refreshes existing watercress or remainders of watercress, and requires enough resources available to plant the watercress"):W("nothing done: only refreshes existing watercress or remainders of watercress");
X()}}
document.addEventListener("keydown",function(a){var b=z.og(a),d=z.Fe(a);0<ua||("1"!=a.key||b||d||(Y.push({type:uo,Xc:1}),X()),"2"!=a.key||b||d||(Y.push({type:uo,Xc:0}),X()),"3"!=a.key||b||d||(Y.push({type:uo,Xc:2}),X()),"t"!=a.key||b||d||(H.challenge?zo():H.g>=yl&&Ao()),"w"!=a.key||b||d||vo(),"b"!=a.key||b||d||Bo(),"u"==a.key&&H.Fa==Co&&(b=0|Do(Eo,Fo),H.ya&&Eo==H.Wa&&Fo==H.Xa&&(Y.push({type:Go,x:Eo,y:Fo}),b=!0),H.B[Fo]&&((b=H.B[Fo][Eo])&&b.index==Sl&&Y.push({type:xo,x:Eo,y:Fo,Y:V[uh],Ld:!0}),b=!0),
b&&X()),"u"==a.key&&H.Fa==Ho&&(b=0|Io(Jo,Ko))&&X(),"p"==a.key&&H.Fa==Co&&H.B[Fo]&&(b=H.B[Fo][Eo])&&(jg(b)?H.la=kg(b).index:0<=H.la&&V[H.la]&&(Y.push({type:xo,x:Eo,y:Fo,Y:V[H.la],bb:!0}),X())),"p"==a.key&&H.Fa==Ho&&H.$[Ko]&&(b=H.$[Ko][Jo])&&(jg(b)?H.za=kg(b).index:0<=H.za&&Rj[H.za]&&(Y.push({type:Lo,x:Jo,y:Ko,Y:Rj[H.za],bb:!0}),X())),"d"==a.key&&H.Fa==Co&&(H.wa?H.B[Fo]&&(b=H.B[Fo][Eo])&&jg(b)&&(Y.push({type:wo,x:Eo,y:Fo}),X()):W('"shortcuts may delete crop" must be enabled in the settings before deleting crops with "d" is allowed',
Mo,0,0)),"d"==a.key&&H.Fa==Ho&&(H.wa?H.$[Ko]&&(b=H.$[Ko][Jo])&&jg(b)&&(Y.push({type:No,x:Jo,y:Ko}),X()):W('"shortcuts may delete crop" must be enabled in the settings before deleting crops with "d" is allowed',Mo,0,0)),("]"==a.key||"}"==a.key||")"==a.key)&&!d&&H.kb+1<H.I.length&&(H.kb++,Oo(),Rn(),b=(b=jm())?b.toString()+": "+b.Hd(!0,!0):"none",W("Set active fruit: "+b)),("["==a.key||"{"==a.key||"("==a.key)&&!d&&0<H.kb&&(H.kb--,Oo(),Rn(),b=(b=jm())?b.toString()+": "+b.Hd(!0,!0):"none",W("Set active fruit: "+
b)))});function Po(a){var b=ya().content;Ya(b);var d=0,e=.06,f=0,g=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001,5E-4,2E-4,1E-4,0];if(0==a){var k="berry mushroom flower nettle beehive watercress challenge".split(" ");var h=[3,4,5,6,7,2,1];var l=H.eb}else if(1==a||2==a)k="berry mushroom flower nettle beehive mistletoe".split(" "),h=[3,4,5,6,7,8],1==a?(k.push("watercress"),h.push(2),l=H.Da):l=H.yb;var m=0==a?"upgrades":1==a?"planting":"unlock";d=.15;var p=new E(b,.01,f,1,f+.07,.45);p.a.innerText="Select max resource amount for "+
m+" of each crop type:";d=f+=d;if(2==a){var q=function(){var P=new E(b,.01,f,.4,f+.06,.66);f+=.072;return P}();f+=.5*e;q.a.className="efButton";var n=function(){q.a.b.innerText=H.dc?"shared with auto-plant":"customized below"};pa(q.a);la(q.a);n();C(q.a,function(){H.dc=!H.dc;n();Fa();Po(a)},"share auto-unlock resource fraction settings with auto-plant")}if(2!=a||!H.dc){for(var x=0;x<k.length;x++){var y=h[x];p=new E(b,.01,f,.4,f+e,.75);f+=1.2*e;pa(p.a);la(p.a);var B=[];var u=0;for(var r=1,w=0;w<g.length;w++){B[w]=
Q(v(g[w]),3,Xd);var t=Math.abs(g[w]-l[y]);t<r&&(u=w,r=t)}l[y]=g[u];Za(p,k[x],u,B,A(function(P,va){l[P]=g[va]},y));F(p.a,"max fraction of current amount of resources that the automaton is allowed to spend on this type of auto "+m)}f+=e/2;p=new E(b,.01,f,.4,f+e,.75);f+=1.2*e;pa(p.a);la(p.a);Za(p,"set all to",u,B,function(P){for(var va=0;va<k.length;va++)l[h[va]]=g[P];Fa();Po(a)});if(2==a){f=d;e=.06;var G=new E(b,.5,f,.9,f+e,.66);f+=1.2*e;var D=H.Zc,T=function(){var P="Cost limit: "+D.toString();P=L(D,
0)?P+" (unlimited)":P+" seeds";G.a.innerText=P};T();e=.06;u=new E(b,.5,f,.9,f+e,.66);var I=z.Oc("textarea","0","0","100%","100%",u.a),Ha=function(){var P=se(I.value);if(!P||isNaN(P.f)||isNaN(P.e)||Xa(P,0))P=v(0);D=P;T()};I.onchange=function(){Ha();H.Zc=D};I.onkeyup=Ha;f+=1.2*e;f+=.03;e=.06;(new E(b,.5,f,.9,f+e,.66)).a.innerHTML="Change cost limit in the text box above. Automaton will not buy unlocks more expensive than this value.<br><br>Use 0 to indicate unlimited (default). For example, set to 1001 to prevent auto-unlocking anything higher than blackberry.";
f+=1.2*e}}}
function Qo(){function a(l,m){var p=l.a.b,q=U[h[m]];m=H.nb[m];var n=ha(q.name)+": ";l.Ma=1;2==m?n+=ha(q.Cc):3==m?n+=ha(q.Dc):(n+="Manual",l.Ma=0);p.innerText=n;void 0!=l.Ma&&(l.a.className=l.Ma?"efAutomatonAuto":"efAutomatonManual")}function b(){var l=new E(e,.01,g,.4,g+.08,.66);g+=.096;return l}var d=H.Jb;H.Jb=0;var e=ya(void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){H.Jb=d}).content;Ya(e);var f=0,g=0;f=.15;var k=new E(e,.01,g,1,g+.07,.45);k.a.innerText="Choose the action for each choice upgrade dropped by the tree";g+=
f;var h=[Ji,xf];for(f=0;f<h.length;f++)k=b(),pa(k.a),la(k.a),a(k,f),C(k.a,A(function(l,m){H.nb[m]||(H.nb[m]=1);H.nb[m]++;3<H.nb[m]&&(H.nb[m]=1);a(l,m)},k,f))}
function On(){function a(D){var T=D.a.b;H.yc?(T.innerText="Automation on",D.Ma=1):(T.innerText="All automation off",D.Ma=0);d()}function b(){g+=.02;var D=new E(Ro,.01,g,1,g+.01,.66);D.a.innerHTML="<hr>";g+=.02;return D}function d(){for(var D=0;D<k.length;D++)e(k[D])}function e(D){void 0!=D.Ma&&(D.a.className=!H.yc&&!D.eh||D.pg&&!D.pg()?"efAutomatonGlobalOff":D.Ma?"efAutomatonAuto":"efAutomatonManual")}function f(D){var T=new E(Ro,.01,g,.4,g+.08,.66);g+=.096;D||k.push(T);return T}Ro.clear();Ya(Ro);
var g=0,k=[];if(Lj()){var h=new E(Ro,[1,-.25],[0,.01],[1,-.06],[0,.2],.3);h=sb("0%","0%","100%","100%",h.a);tb(Oc[4],h);var l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Toggle on or off all automation:";g+=l;h=f();pa(h.a);la(h.a);a(h);C(h.a,A(function(D){Y.push({type:So,wb:0,sb:!H.yc,Ia:function(){a(D)}});X()},h));h.eh=!0;h.Ma=!0;l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Special actions:";g+=l;h=f();qa(h.a);la(h.a);h.a.b.innerText="Delete entire field";C(h.a,A(function(){To(0);window.setTimeout(function(){for(var D=
0;D<H.u;D++)for(var T=0;T<H.s;T++)jg(H.B[D][T])&&Y.push({type:wo,x:T,y:D,silent:!0});X()},333)}));F(h.a,"Immediately delete all crops from the entire field");b();l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Automate choice upgrades:";F(h.a,"Automate the choice upgrades that the tree drops at certain levels.\nThe choice is automatically made at the moment the corresponding upgrade unlocks, but not after the fact.");g+=l;var m=function(D){var T=D.a.b;H.Jb?(T.innerText="Auto-choice on",D.Ma=1):(T.innerText=
"Auto-choice off",D.Ma=0);e(D)};h=f();pa(h.a);la(h.a);m(h);C(h.a,A(function(D){Y.push({type:So,wb:4,sb:H.Jb?0:1,Ia:function(){m(D)}});X()},h));h=f();qa(h.a);la(h.a);h.a.b.innerText="Configure...";C(h.a,function(){Qo()});b();if(H.S[1]){l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Automate crop upgrades:";F(h.a,"Automatically upgrade crops. Only performs upgrades that boost crops for crops planted in the field, and up to the max cost that you can choose.");g+=l;var p=function(D){var T=D.a.b;H.ec?
(T.innerText="Auto-upgrades on",D.Ma=1):(T.innerText="Auto-upgrades off",D.Ma=0);e(D)};h=f();pa(h.a);la(h.a);p(h);C(h.a,A(function(D){Y.push({type:So,wb:1,sb:H.ec?0:1,Ia:function(){p(D)}});X()},h));var q=2<=H.S[1];if(q)h=f(),qa(h.a),la(h.a),h.a.b.innerText="Configure...",C(h.a,function(){Po(0)});else{h=f();pa(h.a);la(h.a);var n=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001];l=[];for(var x=0,y=1,B=0;B<n.length;B++){l[B]=Q(v(n[B]),3,Xd);var u=Math.abs(n[B]-H.eb[0]);u<y&&(x=B,y=u)}H.eb[0]=n[x];Za(h,"max cost",
x,l,function(D){H.eb[0]=n[D]});F(h.a,"max fraction of current amount of resources that the automaton is allowed to spend on autoupgrades")}l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Auto-upgrades done: "+H.Lb;g+=l;var r=h,w=H.Lb;Uo(function(){if(!r||!document.body.contains(r.a))return!1;w!=H.Lb&&(r.a.innerText="Auto-upgrades done: "+H.Lb,w=H.Lb);return!0});q||(l=.1,h=new E(Ro,.01,g,1,g+.07,.7),h.a.innerText="Start the no-upgrades challenge again and beat its next stage to unlock more finetuning options for auto-upgrade",
g+=1.2*l)}else l=.15,h=new E(Ro,.01,g,1,g+.07,.7),h.a.innerText="Reach ethereal tree level 2 and beat the no upgrades challenge to unlock auto-upgrades",g+=l;b();if(H.S[2]){l=.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Auto-plant:";F(h.a,"Automatically plants crops. Only replaces existing crops to higher tiers of the same type (e.g. berries stay berries), does not plant anything on empty field cells.");g+=l;var t=function(D){var T=D.a.b;H.cc?(T.innerText="Auto-plant on",D.Ma=1):(T.innerText="Auto-plant off",
D.Ma=0);e(D)};h=f();pa(h.a);la(h.a);t(h);C(h.a,A(function(D){Y.push({type:So,wb:2,sb:H.cc?0:1,Ia:function(){t(D);d()}});X()},h));if(q=2<=H.S[2])h=f(),qa(h.a),la(h.a),h.a.b.innerText="Configure...",C(h.a,function(){Po(1)});else{h=f();pa(h.a);la(h.a);n=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001];l=[];x=0;y=1;for(B=0;B<n.length;B++)l[B]=Q(v(n[B]),3,Xd),u=Math.abs(n[B]-H.Da[0]),u<y&&(x=B,y=u);H.Da[0]=n[x];Za(h,"max cost",x,l,function(D){H.Da[0]=n[D]});F(h.a,"max fraction of current amount of resources that the automaton is allowed to spend on autoplanting")}l=
.1;h=new E(Ro,.01,g,1,g+.07,.7);h.a.innerText="Auto-plants done: "+H.Kb;g+=l;r=h;w=H.Kb;Uo(function(){if(!r||!document.body.contains(r.a))return!1;w!=H.Kb&&(r.a.innerText="Auto-plants done: "+H.Kb,w=H.Kb);return!0});var G=function(D){var T=D.a.b;H.xc?(T.innerText="Auto-unlock on",D.Ma=1):(T.innerText="Auto-unlock off",D.Ma=0);e(D)};if(H.S[3])if(h=f(),h.pg=function(){return!!H.cc},pa(h.a),la(h.a),G(h),C(h.a,A(function(D){Y.push({type:So,wb:3,sb:H.xc?0:1,Ia:function(){G(D)}});X()},h)),q=2<=H.S[2])h=
f(),qa(h.a),la(h.a),h.a.b.innerText="Configure...",C(h.a,function(){Po(2)});else{h=f();pa(h.a);la(h.a);n=[1,.5,.2,.1,.05,.02,.01,.005,.002,.001];l=[];x=0;y=1;for(B=0;B<n.length;B++)l[B]=Q(v(n[B]),3,Xd),u=Math.abs(n[B]-H.yb[0]),u<y&&(x=B,y=u);H.yb[0]=n[x];Za(h,"max cost",x,l,function(D){H.yb[0]=n[D]});F(h.a,"max fraction of current amount of resources that the automaton is allowed to spend on auto unlocking")}q||(l=.1,h=new E(Ro,.01,g,1,g+.07,.7),h.a.innerText="Start the withering challenge again and beat its next stage to unlock more finetuning options for auto-plant",
g+=1.2*l);H.S[3]||(l=.15,h=new E(Ro,.01,g,1,g+.07,.7),h.a.innerText="Reach ethereal tree level 4 and beat the blackberry challenge to unlock auto-unlock of next-tier plants",g+=l)}else H.S[1]&&(l=.15,h=new E(Ro,.01,g,1,g+.07,.7),h.a.innerText="Reach ethereal tree level 3 and beat the withering challenge to unlock auto-plant",g+=l)}else l=.1,h=new E(Ro,.01,g,1,g+.07,.6),h.a.innerText="Place automaton in ethereal field to enable automation options and crop templates. Reach higher ethereal tree level and beat new challenges to unlock more automaton features.",
g+=l};function Vo(a){var b=!1,d="",e=mm();a&&L(e,0)||(b=!0,d+="\u2022 "+e.toString()+" resin from tree level "+H.g,d+="<br>",d=L(H.i.j,0)?d+("\u2022  Unused resin boost: "+Q(yd(hg(e),1))+"<br/>"):d+("\u2022  Unused resin boost (including existing): "+Q(yd(hg(e.add(H.i.j)),1))+"<br/>"));e=nm();a&&L(e,0)||(b=!0,d+="\u2022 "+e.toString()+" twigs from mistletoes",d+="<br>");if(H.g>=yl){b=!0;d+="\u2022 "+lm().R+" fruit essence from "+H.L.length+" fruits in the sacrificial pool<br/>";0==H.L.length&&0<H.I.length&&
(d+="\u2192 You have fruits in storage, if you would like to sacrifice them for essence, take a look at your fruit tab before transcending<br/>");for(var f=e=a=0;f<H.I.length;f++)a=Math.max(a,H.I[f].H);for(f=0;f<H.L.length;f++)e=Math.max(e,H.L[f].H);e>a&&(d+='<span class="efWarningOnDialogText">\u2192 Warning: you have a fruit in sacrificial pool of higher tier than any stored fruit, check the fruit tab if you want to keep it</span><br/>')}b||(d+="\u2022 Nothing. But, see current challenge rules for challenge specific results.<br/>");
return d}
function Ao(a){var b=ya(2,function(){Y.push({type:Wo,challenge:0});za();X()},"transcend","cancel");b.a.className="efDialogEthereal";b=b.content;var d="";d=(a?d+"<b>New regular run</b><br/>":d+"<b>Transcension</b><br/><br/>Transcension starts a new basic field. Your first transcension also unlocks an ethereal field. On this field you can plant ethereal crops with resin. These crops give bonuses to the basic field in various ways. Resin can also be used for other ethereal upgrades. Unused resin also gives a slight boost. <br/>")+"<br/>You will get:<br/>"+
Vo(a);b.a.innerHTML=d+"<br/>What will be reset:<br/>\u2022 Basic field with all crops<br/>\u2022 Basic upgrades<br/>\u2022 Basic resources: seeds, spores<br/>\u2022 Tree level<br/>\u2022 Fruits in the sacrificial pool<br/><br/>What will be kept:<br/>\u2022 Achievements<br/>\u2022 Resin, twigs and fruit essence<br/>\u2022 Ethereal field and ethereal crops<br/>\u2022 Ethereal upgrades<br/>\u2022 Fruits in the storage slots<br/>\u2022 Current season<br/><br/><br/>"}
function Xo(a,b,d){var e=Ij[a];a=H.P[a];b=(b?ya():ya(void 0,function(){Y.push({type:Wo,challenge:e.index});za();X()},"start")).content;var f=new E(b,.01,.01,.99,.1,.5);la(f.a);f.a.b.innerText=ha(e.name);b=new E(b,.01,.11,.99,1,.3);Ya(b);f=""+e.description;f=f+"<br><br><b>Challenge rules:</b><br>"+e.kh;1<e.T.length?(f+="\u2022 Reach tree level "+e.xd(d)+" to successfully complete the next stage of the challenge, or reach any other max level to increase challenge production bonus.",f=f+"<br>\u2022 This challenge has "+
(e.T.length+" stages in total, each gives 1 reward, you can complete only 1 stage at the time")):f+="\u2022 Reach tree level "+e.T[0]+" to successfully complete the challenge, or reach any other max level to increase challenge production bonus.";f=f+"<br>\u2022 Max level reached with this challenge gives "+(Q(e.oa)+" production bonus per level to the game, whether successfully completed or not.");f+="<br>";f=e.Yc?e.xb?f+"\u2022 Tree gains resin as usual, but it's only available when reaching at least level 10":
f+"\u2022 Tree gains resin as usual, but it's only available when reaching at least level 10 and not when reaching higher level than highest regular run":f+"\u2022 Tree does not gain any resin";f+="<br>";f=e.te?e.xb?f+"\u2022 Tree drops fruits as usual, but the level 5 fruit is dropped at level 10 instead":f+"\u2022 Tree drops fruits as usual, but the level 5 fruit is dropped at level 10 instead, and no fruits are dropped above highest level ever reached with a regular run":f+"\u2022 Tree does not drop any fruits";
f+="<br>";f=e.wc?e.xb?f+"\u2022 Twigs can be gained from mistletoes as usual, but they're only available when reaching at least level 10":f+"\u2022 Twigs can be gained from mistletoes as usual, but they're only available when reaching at least level 10 and not when reaching higher level than highest regular run":f+"\u2022 No twigs can be gained from mistletoes";f+="<br><br><br>";e.Bb(d)?f+="You already got all rewards for this challenge":1<e.T.length?(f+="<b>Next target level:</b> "+e.xd(d)+"<br>",
f+="<b>Next completion reward:</b> "+e.Hb[e.Qc(d)]):(f+="<b>Target level:</b> "+e.xd(d)+"<br>",f+="<b>Reward:</b> "+e.Hb[0]);if(1<e.T.length){f+="<br><br>All reward target level stages (can only complete one per run): ";for(var g=0;g<e.T.length;g++)f+=(g?", ":"")+e.T[g]}f=f+"<br><br><b>This challenge was unlocked by:</b> "+e.Hg;g=Math.max(a.Ka,H.challenge==e.index?H.g:0);f=f+"<br><br><b>Current stats:</b><br>\u2022 Production bonus per max level reached: "+(Q(e.oa)+"<br>");f=f+("\u2022 Max level reached: "+
g+"<br>\u2022 Production bonus: ")+(Q(e.oa.m(g))+"<br>");f+="\u2022 Times ran: "+a.Fb+"<br>";1<e.T.length&&e.Bb(d)?(f+="\u2022 Fastest first stage target level time: "+(a.fb?z.J(a.fb):"--")+"<br>",f+="\u2022 Fastest final stage target level time: "+(a.zb?z.J(a.zb):"--")+"<br>"):f+="\u2022 Fastest target level time: "+(a.fb?z.J(a.fb):"--")+"<br>";f+="\u2022 Completed: "+(1!=e.T.length&&e.Qc(d)?""+e.Qc(d)+" of "+e.T.length:e.Qc(d)?"yes":"no")+"<br>";b.a.innerHTML=f}
function Yo(a){var b=ya();b.a.className="efDialogEthereal";var d=b.content,e=new E(d,[0,.01],[0,.01],[1,-.01],.3,.3);b="";b=(a?b+"You end a challenge as usual, but start another new challenge rather than a regular run. Choose a challenge below to view its description.<br/><br/>Regular transcension resources gotten...:<br/>":b+"You transcend as usual, but start a challenge rather than a regular run. Choose a challenge below to view its description.<br/><br/>You get the usual transcension resources:<br/>")+
Vo(a);e.a.innerHTML=b;a=new E(d,0,.4,1,.9,.3);for(e=d=0;e<Oj.length;e++){var f=Ij[Oj[e]],g=H.P[Oj[e]];if(g.c){var k=!f.Qc(!0),h=!f.Bb(!0),l=new E(a,.2,d,.8,d+.1);d+=.1*1.05;qa(l.a);b=ha(f.name);b=k?b+" (New!)":h?b+" (New stage!)":b+(" ("+Math.max(g.Ka,H.challenge==f.index?H.g:0)+")");l.a.b.innerText=b;l.a.onclick=A(function(m){Xo(m.index,!1,!0)},f)}}}
function zo(){var a=ya();a.a.className="efDialogEthereal";a=a.content;var b=new E(a,[0,.01],[0,.01],[1,-.01],.3,.3),d=Ij[H.challenge],e=H.P[H.challenge],f=H.g>=d.xd(),g="";d.Bb()||(g=1<d.T.length?f?g+"You successfully completed the next stage of challenge for the first time!<br><br>Reward: "+d.Hb[e.V]:g+"You didn't successfully complete the next stage of the challenge, but can still get the challenge bonus for highest tree level reached.":f?g+"You successfully completed the challenge for the first time!<br><br>Reward: "+
d.Hb[0]:g+"You didn't successfully complete the challenge, but can still get the challenge bonus for highest tree level reached.");0<e.Fb&&(g=g+"<br><br>Previous highest level: "+e.Ka,g=g+"<br>Current level: "+H.g);d=Math.max(H.g,e.Ka);f=H.oc.sub(Ij[H.challenge].oa.m(e.Ka)).add(Ij[H.challenge].oa.m(d));g=g+"<br><br>Production bonus from max reached level<br>\u2022 Before (level "+(e.Ka+"): "+Q(Ij[H.challenge].oa.m(e.Ka))+" ("+Q(H.oc)+" total for all challenges)<br>");g=H.g>e.Ka?g+("\u2022 After (level "+
d+"): "+Q(Ij[H.challenge].oa.m(d))+" ("+Q(f)+" total for all challenges)<br>"):g+"\u2022 After stays the same, max level not beaten";b.a.innerHTML=g+"<br><br>You can now choose to start a new regular run, or any challenge of your choice, from the beginning.";a=new E(a,.25,.6,.75,.8,.3);b=(new E(a,0,0,1,.3,.7)).a;qa(b);b.b.innerText="Start regular run";b.b.style.boxShadow="0px 0px 5px #ff0";b.b.style.textShadow="0px 0px 5px #ff0";F(b,"Show the transcension dialog");C(b,function(){Ao(!0)});b=(new E(a,
0,.32,1,.6,.7)).a;qa(b);b.b.innerText="Start a new challenge";b.b.style.boxShadow="0px 0px 5px #f60";b.b.style.textShadow="0px 0px 5px #f60";F(b,"Transcend and start a challenge");C(b,function(){Yo(!0)})}var Zo=void 0;function bo(){Zo&&(Ea(Zo),Zo=void 0)}
function $o(){var a=H.challenge;bo();var b=Ij[a];a=H.P[a];Zo=new E(Ca,.2,.85,.8,.95,.35);Zo.a.style.backgroundColor="#fcce";Zo.a.style.zIndex=15;var d=new E(Zo,.01,[.5,-.35],.99,[.5,.35]);d.a.style.color="#000";la(d.a);var e="Challenge Completed!";0<b.T.length&&(0<a.V&&a.V+1<b.T.length?e="Next challenge stage completed!":a.V+1>=b.T.length&&(e="Final challenge stage completed!"));d.a.b.innerHTML=e+'<br><br>"'+ha(b.name)+'"';C(Zo.a,bo)};var ap;function bp(a,b,d){d="<br/>"+d+":<br/>";for(var e=0;e<a.length;e++)d+="\u2022 "+a[e][0],a[e][1]?void 0!=a[e][2]&&0<e&&(d+=": "+Q(yd(a[e][2],1))):void 0!=a[e][2]&&0<e&&(d+=": "+a[e][2].toString()),void 0!=a[e][3]&&(d+=0==e?": ":" \u21d2 ",d=b?d+Q(a[e][3]):d+a[e][3].toString()),d+="<br/>";return d}
function cp(a,b,d){var e=ha(b.name),f=lg[a.y][a.x];if(b.Za)return e+="<br/><br/>This template represents all crops of type "+tf(b.type),e+'<br/><br/>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click, or press "u", on a template to turn it into a crop of highest available tier of this type';e=e+"<br/>Crop type: "+(tf(b.type)+(b.H?" (tier "+(b.H+1)+")":""));var g=uf(b.type);g&&(e+="<br/>"+g);b.Vc&&
(e+="<br/><br/>"+ha(b.Vc));e+="<br/><br/>";b.type!=of||f.Gg||(e+='<font color="#f88">This mistletoe is not planted next to the tree and therefore does nothing at all. Plant next to tree to be able to get twigs.</font><br/><br/>');b.index!=tg||f.rf||(e+='<font color="#f88">This worker bee is not next to a flower and therefore does nothing at all. Plant next to a flower to get worker bee boost.</font><br/><br/>');if(1>a.C&&b.type!=lf&&H.challenge!=Mf){H.challenge==Mf?e+="Withering. Time left: "+z.J(120*
a.C):d?(e+="Growing. Total growing time: "+z.J(b.ta()),b.ta()!=b.La&&(e+=" (base: "+z.J(b.La)+")")):e+="Growing. Time to grow left: "+z.J((1-a.C)*b.ta(),!0,4,!0);e+="<br/>";var k=b.sc(a,!0);f=b.Ya(a,!0);g=sg(b,a,!0);k.empty()||(e+="Current production/sec: "+b.sc(a,!1).toString()+"<br>",e+="Expected production/sec: "+k.toString());L(f,0)||(k=b.Ya(a,!1),!L(k,0)&&(e+="Current boost: "+Q(k)+"<br>"),e+="Expected boost: "+Q(f));L(g,0)||(k=sg(b,a,!1),!L(k,0)&&(e+="Current boost: "+Q(k)+"<br>"),e+="Expected boost: "+
Q(g));e+="<br/><br/>"}else b.type==lf?(d?(e+="Short-lived plant. Total lifetime: "+b.ta()+"s<br/><br/>",e+="Copy ability: if this plant has resource-producing long-lived neighbors (orthogonal, not diagonal) of type berry or mushroom, the watercress will duplicate all their production (but also consumption), no matter how high their tier! This has diminishing returns if there are multiple watercress plants in the entire field, max 1 or 2 watercress makes sense. A badly placed watercress can even negatively affect the copying of all others. If you have no other crop types this is not yet relevant, plant as many watercress as you want then!<br/>"):
(e+="Short-lived plant. Time left: "+z.J(a.C*b.ta(),!0,4,!0)+"<br/>",H.h[Sh].count&&(e+='<br/><span class="efWatercressHighlight">Copies neighbors: to duplicate full production of long-lived berry and mushroom neighbors for free (mushroom copy also consumes more seeds)</span><br/>')),e+="<br/>"):H.challenge==Mf?e+="Withering. Time left: "+z.J(120*a.C,!0,4,!0)+"<br/><br/>":(e+="Growth time: "+z.J(b.ta()),b.ta()!=b.La&&(e+=" (base: "+z.J(b.La)+")"),e+="<br/><br/>"),g=f.tb,g.empty()&&b.type!=hf&&b.type!=
gf||(e+="Production per second: "+g.toString()+"<br/>",Pe(g)||b.type==hf?f.Gb.Pc(f.tb)?b.type==hf?(e+="Needs more seeds, requires berries as neighbors.<br>Potential max production: "+f.Gb.toString()+"<br/>",e+="Satisfied: "+Q(g.l.a(f.Gb.l))+"<br/>"):b.type!=lf&&(e+="Needs more input resources, potential max production: "+f.Gb.toString()+"<br/>"):e+="Satisfied: >= 100%.<br/>Tip: flowers next to mushrooms give them a large boost.<br/>":f.tb.Pc(f.Qa)&&(Xa(f.Qa.l,0)&&Sa(f.Qa.l,-1E-6)||(e+="After consumption: "+
f.Qa.toString()+"<br/>")),e+="<br/>"),b.type==hf&&(e+="Efficiency: "+f.Gb.v.a(zd(f.Gb.l)).toString()+" spores/seed, "+f.Gb.l.a(zd(f.Gb.v)).toString()+" seeds/spore<br/>"),b.index==tg&&(e+="Global field-wide boost to berries, flowers and mushrooms: "+Q(f.Z)+" (base: "+Q(b.Z)+")<br/>",e+="All worker bees together: "+Q(H.se)+"<br/>",e+="<br/>"),b.index==ug&&(e+="Boost to neighbor worker bees: "+Q(f.Z)+" (base: "+Q(b.Z)+")<br/>",e+="<br/>"),b.index==vg&&(e+="Boost to neighbor queen bees: "+Q(sg(b,a))+
" (base: "+Q(b.Z)+")<br/>",e+="<br/>"),L(b.Z,0)||b.type!=jf&&b.type!=kf||(e=b.type==kf?e+("Boosting spores: "+Q(b.Ya(a))+". Nerfing neighbor berries and flowers<br/>"):e+("Boosting neighbors: "+Q(b.Ya(a))+"<br/>"),e+="<br/>"),L(b.Z,0)||b.type!=pf||(e+="Boosting flowers: "+Q(sg(b,a))+"<br/>",e+="<br/>");a=b.type==lf?R():b.D(-1).m(.33);d?(e+="Num planted of this type: "+H.Nb[b.index]+"<br>",e=e+"<br/>Cost: <br> \u2022 Base planting cost: "+(b.G.toString()+"<br>"),e+=" \u2022 Last planting cost: "+b.D(-1).toString()+
"<br>",e+=" \u2022 Next planting cost: "+b.D().toString()+"<br>",e+=" \u2022 Recoup on delete: "+a.toString()):(e+="Next planting cost: "+b.D().toString()+" ("+Ra(b.D())+")<br>",e+="Recoup on delete: "+a.toString());return e}
function dp(){function a(){var p=!H.challenge||Ij[H.challenge].Yc,q=!H.challenge||Ij[H.challenge].wc,n=[],x=[];var y="<b>"+ha(ld[lj(H.g)][0])+"</b><br/>";y+="Tree level: "+H.g+"<br/>";0==H.g&&(y+="This tree needs to be rejuvenated first. Requires spores.<br/>");if(H.challenge){var B=Ij[H.challenge],u=H.P[H.challenge];y=y+"<br><b>Challenge active</b>: "+ha(B.name);1<B.T.length?B.Bb()||(y+="<br>Current challenge target level: "+B.T[u.V]):u.V||(y+="<br>Challenge target level: "+B.T[0]);y+="<br>"}if(0<
H.g){y=y+"<br/>Next level requires: "+(Al().toString()+"<br/>");0<H.Eb&&(y+="This requirement was increased "+Q(yd(v(.5*H.Eb+1),1))+" by "+H.Eb+" mistletoes<br/>");y+="<br>";p?(H.challenge&&H.g>H.Na&&!H.challenge.xb?y+="No further resin gained during this challenge, higher level than max regular level reached":(p=H.i.v.a(Al().v),y+="Resin added at next tree level: "+Dl(H.g+1,n).toString()+" (getting "+Q(p)+" of this so far)"),y=y+"<br/>Total resin ready: "+mm().toString(),y+="<br/>"):y+="The tree doesn't produce resin during this challenge.<br/>";
y+="<br/>";0<H.Eb&&(q?(H.challenge&&H.g>H.Na&&!H.challenge.xb?y+="No further twigs gained during this challenge, higher level than max regular level reached":(p=H.i.v.a(Al().v),y+="Twigs added at next tree level: "+Fl(x).F.toString()+" (getting "+Q(p)+" of this so far)"),y=y+"<br>Total twigs ready: "+nm().toString(),y+="<br/>"):y+="The tree doesn't produce twigs during this challenge.<br/>",y+="<br/>");y+="Tree level production boost to crops: "+Q(mg())+"<br>";3==ig()&&(y=y+"<br/>During winter, the tree provides winter warmth: +"+
(Q(yd(ag(),1))+" berry / mushroom stats and no negative winter effect for any crop next to the tree<br>"));H.ag&&(y+='<br/><span class="efWarningOnDialogText">New challenge available!</span><br>');if(H.h[Uf].c||H.h[Vf].c||H.h[Wf].c)y+="<br/>Abilities discovered:<br>",H.h[Vf].c&&(y+="\u2022 Sun: benefits berries when active<br>"),H.h[Uf].c&&(y+="\u2022 Mist: benefits mushrooms when active<br>"),H.h[Wf].c&&(y+="\u2022 Rainbow: benefits flowers when active<br>");n&&1<=n.length&&(y+=bp(n,!1,"Resin gain breakdown"));
x&&1<=x.length&&(y+=bp(x,!1,"Twigs gain breakdown"))}return y}var b=ya();b.a.className="efDialogTranslucent";b=b.content;var d=new E(b,[0,.01],[0,.01],[0,.2],[0,.2],.3),e=sb("0%","0%","100%","100%",d.a);tb(ld[lj(H.g)][1][ig()],e);d=new E(b,[0,.01],[0,.199],[0,.2],[0,.4],.3);e=sb("0%","0%","100%","100%",d.a);tb(ld[lj(H.g)][2][ig()],e);var f=new E(b,[.01,.2],[0,.01],.98,.65,.3);Ya(f);b=new E(b,[.01,.2],.7,1,.9,.3);e=a();f.a.innerHTML=e;var g=H.g;Uo(function(){if(!d||!document.body.contains(d.a))return!1;
if(g!=H.g){g=H.g;var p=a();f.a.innerHTML=p}return!0});if(H.challenge){e=Ij[H.challenge];var k=H.P[H.challenge],h=e.Bb(),l=H.g>=e.xd(),m=(new E(b,0,0,.5,.3,.8)).a;qa(m);h&&l?(m.b.innerText="Finish challenge",F(m,"Finish the challenge. If you broke the max level record, your challenge production bonus will increase.")):h&&!l?(m.b.innerText="End challenge",F(m,"End the challenge.")):l?(m.b.innerText="Complete challenge"+(k.V?" "+z.Ib(k.V+1):""),F(m,"Successfully finish the challenge for the first time.")):
(m.b.innerText="Abort challenge",1<e.T.length?F(m,"Open the dialog to abort the challenge, you don't get its next reward, but if you broke the max level record, your challenge production bonus will still increase. The dialog will show the amounts."):F(m,"Open the dialog to abort the challenge, you don't get its one-time reward, but if you broke the max level record, your challenge production bonus will still increase. The dialog will show the amounts."));m.b.style.boxShadow="0px 0px 5px #f40";m.b.style.textShadow=
"0px 0px 5px #f40";C(m,function(){zo()});m=(new E(b,0,.32,.5,.6,.8)).a;qa(m);m.b.innerText="Current challenge info";F(m,"Description and statistics for the current challenge");C(m,function(){Xo(H.challenge,!0,!1)})}else H.g<yl?1<=H.g&&(b.a.innerText="Reach tree level "+yl+" to unlock transcension"):(m=(new E(b,0,0,.5,.3,.8)).a,qa(m),m.b.innerText="Transcension",m.b.style.boxShadow="0px 0px 5px #ff0",m.b.style.textShadow="0px 0px 5px #ff0",F(m,"Show the transcension dialog"),C(m,function(){Ao()}),
H.fd&&(m=(new E(b,0,.32,.5,.6,.8)).a,qa(m),m.b.innerText="Challenges",m.b.style.boxShadow="0px 0px 5px #f60",m.b.style.textShadow="0px 0px 5px #f60",F(m,"Transcend and start a challenge"),C(m,function(){Yo()})));Lj()&&(m=(new E(b,0,.62,.5,.9,.8)).a,qa(m),m.b.innerText="Blueprints",m.b.style.boxShadow="0px 0px 5px #44f",m.b.style.textShadow="0px 0px 5px #008",C(m,function(){Bo()}))}
function Do(a,b){if(H.B[b]){var d=H.B[b][a];if(d&&(d=kg(d))&&d.type!=qf){for(var e=H.rb[d.type],f=null;!(e<=d.H||0>e);){var g=zg[d.type][e];if(!g||!H.M[g.index].c)break;if(g.D().ua(H.i)){f=g;break}e--}if(f)return Y.push({type:yo,x:a,y:b,Y:f,bb:!0}),!0;W("Crop not upgraded, no higher tier that you can afford available");return!1}}}
function ep(a,b){var d=H.B[b][a];if(jg(d)){var e=kg(d),f=ya();f.a.className="efDialogTranslucent";var g=f.content,k=new E(g,[0,.01],[0,.01],[0,.2],[0,.2],.3);k=sb("0%","0%","100%","100%",k.a);tb(e.image[4],k);var h=0;e.type==lf&&(h+=.2);var l=new E(g,[.01,.2],[0,.01],1,.5,.29);k=(new E(g,[.01,.2],[.5+h,.01],.5,.55+h,.8)).a;var m=(new E(g,[.01,.2],[.55+h,.01],.5,.6+h,.8)).a,p=(new E(g,[.01,.2],[.6+h,.01],.5,.65+h,.8)).a;g=(new E(g,[.01,.2],[.65+h,.01],.5,.7+h,.8)).a;var q=void 0;Ya(l);qa(k);k.b.innerText=
"Upgrade crop";F(k,"Upgrade crop to the highest tier of this type you can afford, or turn template into real crop. This deletes the original crop, (with cost recoup if applicable), and then plants the new higher tier crop.");C(k,function(){Do(a,b)&&X();f.ra()});qa(m);m.b.innerText="Replace crop";F(m,"Replace the crop with a new one, same as delete then plant. Shows the list of unlocked crops.");C(m,function(){fp(a,b,!0,e.de())});qa(p);p.b.innerText="Delete crop";p.b.style.color="#c00";F(p,"Delete crop and get some of its cost back.");
C(p,function(){Y.push({type:wo,x:a,y:b});f.ra();X()});qa(g);g.b.innerText="Detailed stats / bonuses";F(g,"Show breakdown of multipliers and bonuses and other detailed stats.");C(g,function(){var n=ya(3);n.a.className="efDialogTranslucent";n=n.content;var x="";Ya(n);x+=cp(d,e,!0);x+="<br/>";var y="",B=bg(d)?"Breakdown":"Preliminary breakdown",u=lg[d.y][d.x];if(!e.sc(d).empty()||e.type==gf||e.type==hf){var r=u.fc;y+=bp(r,!1,B+" (production/s)")}L(e.Z,0)||e.type!=jf&&e.type!=kf||(r=u.fc,y+=bp(r,!0,B+
" (neighboor boost +%)"));L(e.Z,0)||e.type!=pf||(r=u.fc,y+=bp(r,!0,B+" (flower boost +%)"));u.ue&&0<u.ue.length&&(r=u.ue,y+=bp(r,!0,B+" (copy)"));n.a.innerHTML=x+y});ta=A(function(n,x){n=cp(n,x);n!=q&&(q=l.a.innerHTML=n)},d,e);ta(d,e)}else d.index==Yf||d.index==Zf?dp():fp(a,b,!1)}
function Wk(){gp.clear();ap=[];for(var a=0;a<H.u;a++){ap[a]=[];for(var b=0;b<H.s;b++)ap[a][b]=new hp}var d=H.s/H.u;d=new E(gp,[.5,-.5,d],[.5,-.5,1/d],[.5,.5,d],[.5,.5,1/d]);a=gp.a;var e=a.clientWidth;a=a.clientHeight;oa(d.a,"grid");ma(d.a,"basic field");b=Math.floor(e/H.s)-1;e=Math.floor(a/H.u)-1;b=e=Math.min(b,e);for(a=0;a<H.u;a++){var f=fa("0",a/H.u*100+"%","100%",101/H.u+"%",d.a);oa(f,"row");for(b=0;b<H.s;b++){var g=fa(b/H.s*100+"%","0",101/H.s+"%","100%",f),k=sb("0%","0%","100%","100%",g),h=sb("0%",
"0%","100%","100%",g),l=fa("0","0","100%","100%",g);oa(g,"cell");l.style.boxSizing="border-box";ja(l);ap[a][b].a=l;ap[a][b].canvas=h;ap[a][b].mf=k;z.Sa(l,"onmouseover","fieldover",A(function(m,p){Eo=m;Fo=p;ip&&jp(kp)},b,a));z.Sa(l,"onmouseout","fieldout",A(function(m,p){m==Eo&&p==Fo&&(Fo=Eo=-1,ip&&jp(kp))},b,a));z.Sa(l,"onmouseup","fieldclick",A(function(m,p){window.setTimeout(function(){Eo=m;Fo=p;ip&&jp(kp)})},b,a));F(l,A(function(m,p){var q=H.B[p][m],n=void 0;if(H.ya&&m==H.Wa&&p==H.Xa)return"fern: provides some resource when activated.<br><br> The amount is based on production at time when the fern appears,<br>or starter resources when there is no production yet.<br>Once a fern has appeared, letting it sit longer does not change the amount it gives.";
if(0!=q.index){if(q.index==Sl)n='Remains of a watercress that was copying from multiple plants. Visual reminder of good copying-spot only, this is an empty field spot and does nothing. Allows replanting this watercress with "w" key.';else if(jg(q))n=cp(q,kg(q));else if(q.index==Yf||q.index==Zf)if(m=Al().v.sub(H.i.v).a(Ta.v),Xa(m,0)&&(m=v(0)),0>=H.g)n="a weathered tree",Sa(H.i.v,0)&&(n+="<br>("+z.J(m.valueOf(),!0)+")");else return ha(ld[lj(H.g)][0])+" level "+H.g+".<br>Next level requires: "+Al().toString()+
"<br>("+z.J(m.valueOf(),!0)+")";return n}},b,a,l),!0);l.style.cursor="pointer";C(l,A(function(m,p,q,n){q=H.B[p][m];var x=H.ya&&m==H.Wa&&p==H.Xa;H.ya&&m==H.Wa&&p==H.Xa&&(Y.push({type:Go,x:m,y:p}),X());if(x||q.index!=Yf&&q.index!=Zf)if(0==q.index||q.index==Sl){var y=n.shiftKey;n=ia(n);y&&n?0<=H.la&&V[H.la]&&(n=V[H.la],x=H.rb[n.type],q=zg[n.type][x],n.type==qf&&(q=n),q&&H.M[q.index].c||(q=n),q.D().X(H.i)&&0<x&&(x--,(y=zg[n.type][x])&&H.M[y.index].c&&(q=y)),q.D().X(H.i)&&0<x&&(x--,(y=zg[n.type][x])&&
H.M[y.index].c&&(q=y)),q.D().X(H.i)&&(y=zg[n.type][-1])&&H.M[y.index].c&&(q=y),Y.push({type:xo,x:m,y:p,Y:q,bb:!0}),X()):y&&!n?0<=H.la&&V[H.la]?(n=V[H.la],Y.push({type:xo,x:m,y:p,Y:n,bb:!0}),X()):W("shift+click repeats last planted plant, but no last plant is set, plant the regular way first",Mo,0,0):n&&!y?(Y.push({type:xo,x:m,y:p,Y:V[uh],Ld:!0}),X()):x||ep(m,p)}else jg(q)&&(y=n.shiftKey,n=ia(n),y&&n?(x=kg(q),(q=zg[x.type][H.rb[x.type]])&&H.M[q.index].c||(q=x),x.type==qf&&(q=x),H.la=q.index,q.D().X(H.i)&&
(H.la=x.index),(H.wa||x.Za)&&q.H>x.H&&(Y.push({type:yo,x:m,y:p,Y:q,bb:!0}),X())):y&&!n?0<=H.la&&V[H.la]&&(n=V[H.la],x=kg(q),y=!1,H.wa&&(y=!0),n.G.X(x.G)&&n.type==x.type&&(y=!0),y?(x.index==H.la&&(x.type!=lf&&!bg(q)||Ul(q))?Y.push({type:wo,x:m,y:p}):Y.push({type:yo,x:m,y:p,Y:n,bb:!0}),X()):W('"shortcuts may delete crop" must be enabled in the settings before replacing crops with shift is allowed',Mo,0,0)):n&&!y?(y=!1,H.wa&&(y=!0),.25>q.C&&(y=!0),y?(Y.push({type:wo,x:m,y:p}),X()):W('"shortcuts may delete crop" must be enabled in the settings before it is allowed',
Mo,0,0)):x||ep(m,p));else ep(m,p)},b,a,l));g=Math.round(e/16);4>g&&(g=4);g=fa((b+.2)/H.s*100+"%",(a+.9)/H.u*100+"%",100/H.s*.6+"%",100/H.u*.05+"%",d.a);ra(g);ap[a][b].progress=g}}}var lp=[0,1,0,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1,0,0,1,0,1,0,1,1,1,0,0,0,1,0,0,1,1,0,1,1,0,0,1,0,0,0,0,1,1,0,1,1,0,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,0,1,0,0,1,0,0,1,9,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,1,1,0];
function mp(a,b,d,e){a.fillStyle="#840";b*=3;for(var f=0;5>f;f++){f>=5-e&&(a.fillStyle="#f80");for(var g=30*f+b,k=0;3>k;k++)lp[g+k]&&a.fillRect(d+k,11+f,1,1)}}function np(a,b,d){a=a.getContext("2d");10>b?mp(a,b,6,d):100>b?(mp(a,Math.floor(b/10),4,d),mp(a,b%10,8,d)):1E3>b?(mp(a,Math.floor(b/100),2,d),mp(a,Math.floor(b/10)%10,6,d),mp(a,b%10,10,d)):1E4>b&&(mp(a,Math.floor(b/1E3),0,d),mp(a,Math.floor(b/100)%10,4,d),mp(a,Math.floor(b/10)%10,8,d),mp(a,b%10,12,d))}
function op(a,b){var d=H.B[b][a],e=ap[b][a],f=1<=d.C?4:Math.min(Math.floor(4*d.C),3);0<=f&&4>=f||(f=0);H.challenge==Mf&&jg(d)&&kg(d).type!=lf&&(f=4);var g=ig(),k=-1;if(d.index==Zf&&(0<H.g||Sa(H.i.v,0))){var h=Math.min(.99,H.i.v.a(Al().v).valueOf());k=Math.round(5*h)}h=H.Wa+H.Xa*H.s<<3|H.ya;var l=a==H.hg&&b==H.ig&&.5>H.time-H.Wg;if(e.index!=d.index||e.Ef!=f||g!=e.Zf||H.g!=e.g||h!=e.qf||k!=e.jh||l!=e.Vg){var m=z.Vf(a,b,77777777),p=Db[g];m=.25>m?p[0]:.5>m?p[1]:.75>m?p[2]:p[3];if(d.index==Zf||d.index==
Yf)m=p[4];tb(m,e.mf);e.Zf=g;e.g=H.g;e.qf=h;e.jh=k;e.Vg=l;h="field tile "+a+", "+b;e.index=d.index;e.Ef=f;l?tb(Oc[4],e.canvas):jg(d)?(k=kg(d),tb(k.image[f],e.canvas),1<=d.C&&sa(e.progress,-1,void 0),h=k.name+". "+h):d.index==Yf?(tb(ld[lj(H.g)][1][g],e.canvas),h="tree level "+H.g+". "+h):d.index==Zf?(tb(ld[lj(H.g)][2][g],e.canvas),h="tree level "+H.g+". "+h,(0<H.g||Sa(H.i.v,0))&&np(e.canvas,H.g,k)):d.index==Sl?(tb(Ec,e.canvas),sa(e.progress,-1,void 0)):4==d.index?(f=Math.floor(4*z.Vf(a,b,245643)),tb(Sb[f],
e.canvas),h="rock. "+h,sa(e.progress,-1,void 0)):(sa(e.progress,-1,void 0),e.a.innerText="",vb(e.canvas));H.ya&&a==H.Wa&&b==H.Xa?(f=(2==H.ya?xb:wb)[g],g=e.canvas,a=f[0],b=f[1],f=f[2],g.width!=b&&(g.width=b),g.height!=b&&(g.height=f),g=g.getContext("2d"),ub.width=b,ub.height=f,ub.getContext("2d").putImageData(a,0,0),g.drawImage(ub,0,0),h="fern. "+h):0==d.index&&(h="empty "+h);ma(e.a,h)}jg(d)&&1>d.C&&(k=kg(d),sa(e.progress,d.C,k.type==lf?"#0c0":"#f00"))};var pp;
function qp(a,b,d){var e="Ethereal "+ha(b.name);e+="<br/>Crop type: "+tf(b.type);e+="<br/>";if(b.Za)return e+="<br/><br/>This template represents all crops of type "+tf(b.type),e+'<br/><br/>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click, or press "u", on a template to turn it into a crop of highest available tier of this type';1>a.C&&(e+="Growing. Time to grow left: "+z.J((1-a.C)*b.ta(),!0,
4,!0),e+="<br/><br/>");b.Be?e+="Effect: "+b.Be+"<br/>":b.Ce&&(e+="Effect: "+b.Ce+"<br/>");if(b.type==gf||b.type==hf||b.type==jf||b.type==kf){var f=b.effect,g=Qj(a),k=f.ea(g.W(1));e=e+"<br/>Boost: "+(Q(k)+"<br/>");L(g,0)||(e=e+"<br/>Breakdown:<br/> \u2022 Base: "+(Q(f)+"<br/>"),e+=" \u2022 Lotuses: +"+Q(g)+": "+Q(k)+"<br/>")}1<=a.C&&(f=b.sc(a),f.empty()||(e+="Production per second: "+f.toString()+"<br/>",Pe(f)&&(e+="Consumes a resource produced by other crops<br/>")),!L(b.Z,0)&&(e+="<br/>Boosting neighbors: "+
Q(b.Ya(a))+"<br/>"));d&&(e=e+"<br/>Num planted of this type: "+H.Ec[b.index],e+="<br/>");e+="<br/>Cost: ";d&&(e+="<br/>\u2022 Base planting cost: "+b.G.toString());e+="<br/>\u2022 Next planting cost: "+b.D().toString();e+="<br/>\u2022 Last planting cost: "+b.D(-1).toString();e+="<br/>\u2022 Recoup on delete (100%): "+b.D(-1).m(1).toString();e+="<br><br>Ethereal tree level that unlocked this crop: "+b.K;d&&(e=e+"<br><br>Deleting ethereal crops refunds all resin, but can only be done after at least one more transcend and requires ethereal deletion tokens. You get "+
(Hf()+" new such tokens per season (a season lasts 1 real-life day)"),e=e+"<br><br>Deletion tokens available: "+(H.Va+" (max: "+4*Hf()+")"),e+="<br><br>");return e}function Io(a,b){if(H.$[b]){var d=H.$[b][a];if(d&&(d=kg(d))&&d.type!=qf){for(var e=H.Kc[d.type],f=null;!(e<=d.H||0>e);){var g=Tj[d.type][e];if(!g||!H.U[g.index].c)break;if(g.D().ua(H.i)){f=g;break}e--}if(f)return Y.push({type:rp,x:a,y:b,Y:f,bb:!0}),!0;W("Crop not upgraded, no higher tier that you can afford available");return!1}}}
function sp(a,b){var d=H.$[b][a];if(jg(d)){var e=Rj[d.index-16],f=ya();f.a.className="efDialogTranslucent";var g=new E(f.content,[0,.01],[0,.01],[0,.2],[0,.2],.3);g=sb("0%","0%","100%","100%",g.a);tb(e.image[4],g);var k=new E(f.content,[.01,.2],[0,.01],1,.17,.29);g=(new E(f.content,[.01,.2],[.7,.01],.5,.76,.8)).a;var h=(new E(f.content,[.01,.2],[.77,.01],.5,.83,.8)).a,l=(new E(f.content,[.01,.2],[.84,.01],.5,.9,.8)).a,m=void 0;qa(g);g.b.innerText="Upgrade crop";F(g,"Upgrade crop to the highest tier of this type you can afford, or turn template into real crop. This deletes the original crop, (with cost recoup if applicable), and then plants the new higher tier crop.");
C(g,function(){Io(a,b)&&X();f.ra()});qa(h);h.b.innerText="Replace crop";F(h,"Replace the crop with a new one, same as delete then plant. Requires deletion token as usual. Shows the list of unlocked ethereal crops.");C(h,function(){tp(a,b,!0,e.de())});qa(l);l.b.innerText="Delete crop";l.b.style.color="#c00";d.td&&(2>=e.La||1<=d.C)&&(l.b.style.color="#888");H.Va||(l.b.style.color="#888");F(l,"Delete crop, get 100% of the original resin cost back, but pay one ethereal deletion token.");C(l,function(){Y.push({type:No,
x:a,y:b});f.ra();X()});ta=A(function(p,q){p=qp(p,q,!0);p!=m&&(m=k.a.innerHTML=p)},d,e);ta(d,e)}else d.index==Yf||d.index==Zf?(e=Rj[d.index-16],f=ya(),f.a.className="efDialogTranslucent",g=f.content,d="",d=0<H.K?d+("<b>Ethereal tree level "+H.K+"</b>"):d+"<b>Ethereal tree</b>",d+="<br><br>",h=Hl(),d+="<b>Twigs required for next level: </b>"+h.F.sub(H.i.F).toString()+" (total: "+h.toString()+")",d+="<br><br>",0<H.K&&(d+="<b>Resin production bonus to basic tree: </b>"+Q(Cl.m(H.K)),d+="<br><br>"),d+=
"<b>Total resin earned entire game: </b>"+H.ka.j.toString(),d=d+"<br/><br/><b>Ethereal boosts from crops on this field to basic field:</b><br>\u2022 starter resources: "+(Il().toString()+"<br>"),d+="\u2022 berry boost: "+Q(H.De)+"<br>",d+="\u2022 mushroom boost: "+Q(H.Nd)+"<br>",d+="\u2022 flower boost: "+Q(H.Ee)+"<br>",!L(H.Od,0)&&(d+="\u2022 nettle boost: "+Q(H.Od)+"<br>"),g.a.innerHTML=d+"<br><br>"):tp(a,b)}
function el(){pp=[];for(var a=0;a<H.ba;a++){pp[a]=[];for(var b=0;b<H.ca;b++)pp[a][b]=new hp}var d=H.ca/H.ba;d=new E(up,[.5,-.5,d],[.5,-.5,1/d],[.5,.5,d],[.5,.5,1/d]);a=up.a;var e=a.clientWidth;a=a.clientHeight;oa(d.a,"grid");ma(d.a,"ethereal field");b=Math.floor(e/H.ca)-1;e=Math.floor(a/H.ba)-1;b=e=Math.min(b,e);for(a=0;a<H.ba;a++){var f=fa("0",a/H.ba*100+"%","100%",101/H.ba+"%",d.a);oa(f,"row");for(b=0;b<H.ca;b++){var g=fa(b/H.ca*100+"%","0",101/H.ca+"%","101%",f),k=sb("0%","0%","100%","100%",g),
h=sb("0%","0%","100%","100%",g),l=fa("0","0","100%","100%",g);oa(g,"cell");l.style.boxSizing="border-box";ja(l);pp[a][b].a=l;pp[a][b].canvas=h;pp[a][b].mf=k;z.Sa(l,"onmouseover","fieldover",A(function(m,p){Jo=m;Ko=p;vp&&wp(xp)},b,a));z.Sa(l,"onmouseout","fieldout",A(function(m,p){m==Jo&&p==Ko&&(Ko=Jo=-1,vp&&wp(xp))},b,a));z.Sa(l,"onmouseup","fieldclick",A(function(m,p){window.setTimeout(function(){Jo=m;Ko=p;vp&&wp(xp)})},b,a));F(l,A(function(m,p){p=H.$[p][m];m=void 0;if(0!=p.index){if(jg(p))m=qp(p,
Rj[p.index-16],!1);else if(p.index==Yf||p.index==Zf)m=0<H.K?"Ethereal tree level "+H.K:"Ethereal tree",p=Hl(),m+="<br><br>Twigs required for next level: </b>"+p.F.sub(H.i.F).toString()+" (total: "+p.toString()+")";return m}},b,a,l),!0);C(l,A(function(m,p,q,n){q=H.$[p][m];if(q.index==Yf||q.index==Zf)sp(m,p);else if(0==q.index){var x=n.shiftKey;n=ia(n);if(x&&n){if(0<=H.za&&Rj[H.za]){n=Rj[H.za];x=H.Kc[n.type];q=Tj[n.type][x];n.type==qf&&(q=n);q&&H.U[q.index].c||(q=n);if(q.D().X(H.i)&&0<x){x--;var y=
Tj[n.type][x];y&&H.U[y.index].c&&(q=y)}q.D().X(H.i)&&0<x&&(x--,(y=Tj[n.type][x])&&H.U[y.index].c&&(q=y));q.D().X(H.i)&&(y=Tj[n.type][-1])&&H.U[y.index].c&&(q=y);Y.push({type:Lo,x:m,y:p,Y:q,bb:!0});X()}}else x&&!n?0<=H.za&&Rj[H.za]?(n=Rj[H.za],Y.push({type:Lo,x:m,y:p,Y:n,bb:!0}),X()):W("shift+click repeats last planted plant, but no last plant is set, plant the regular way first",Mo,0,0):sp(m,p)}else jg(q)&&(x=n.shiftKey,n=ia(n),x&&n?(x=kg(q),(q=Tj[x.type][H.Kc[x.type]])&&H.U[q.index].c||(q=x),x.type==
qf&&(q=x),H.za=q.index,q.D().X(H.i)&&(H.za=x.index),(H.wa||x.Za)&&q.H>x.H&&(Y.push({type:rp,x:m,y:p,Y:q,bb:!0}),X())):x&&!n?H.wa?(n=Rj[H.za],x=kg(q),x.index!=H.za||bg(q)?Y.push({type:rp,x:m,y:p,Y:n,bb:!0}):Y.push({type:No,x:m,y:p}),X()):W("ctrl+click to delete must be enabled in the settings before replacing crops with shift is allowed",Mo,0,0):n&&!x?H.wa?(Y.push({type:No,x:m,y:p}),X()):W("ctrl+click to delete must be enabled in the settings before it is allowed",Mo,0,0):sp(m,p))},b,a,l));g=Math.round(e/
16);4>g&&(g=4);g=fa((b+.2)/H.ca*100+"%",(a+.9)/H.ba*100+"%",100/H.ca*.6+"%",100/H.ba*.05+"%",d.a);ra(g);pp[a][b].progress=g}}}
function yp(a,b){var d=H.$[b][a],e=pp[b][a],f=1<=d.C?4:Math.min(Math.floor(4*d.C),3),g=-1;d.index==Zf&&(0<H.K||Sa(H.i.F,0))&&(g=Math.min(.99,H.i.F.a(Hl().F).valueOf()),g=Math.round(5*g));if(e.index!=d.index||e.Ef!=f||4!=e.Zf||H.K!=e.K||0!=e.qf){var k=z.Vf(a,b,55555),h=Db[4];k=.25>k?h[0]:.5>k?h[1]:.75>k?h[2]:h[3];if(d.index==Zf||d.index==Yf)k=h[4];tb(k,e.mf);e.Zf=4;e.K=H.K;e.qf=0;a="ethereal field tile "+a+", "+b;e.index=d.index;e.Ef=f;jg(d)?(b=Rj[d.index-16],tb(b.image[f],e.canvas),1<=d.C&&sa(e.progress,
-1,void 0),a=b.name+". "+a):d.index==Yf?(tb(ld[lj(H.K)][1][4],e.canvas),a="ethereal tree level "+H.K+". "+a):d.index==Zf?(tb(ld[lj(H.K)][2][4],e.canvas),(0<H.K||Sa(H.i.F,0))&&np(e.canvas,H.K,g),a="ethereal tree level "+H.K+". "+a):(sa(e.progress,-1,void 0),e.a.innerText="",vb(e.canvas));0==d.index&&(a="empty "+a);ma(e.a,a)}jg(d)&&1>d.C&&sa(e.progress,d.C,"#f00")};function zp(a,b,d,e,f,g,k,h,l){var m=new E(e,.33*b+.01,[0,.33*d*.9+.01,.5],[.33*(b+1)-.01],[0,.33*(d+1)*.9-.01,.5],.75);m.a.className="efPlantChip";b=new E(m,0,[.5,-.33],[0,.66],[.5,.33]);d=sb("0%","0%","100%","100%",b.a);tb(a.image[4],d);d=new E(m,[0,.7],0,1,[0,.5]);e="<b>"+a.name+"</b><br>";var p=a.D();l&&(p=p.sub(l));f||(e+="<b>cost:</b>"+p.toString()+"<br>");e+="type: "+tf(a.type);d.a.innerHTML=e;var q=void 0;g&&(pa(b.a,!0),C(b.a,g,ha(a.name)+" info"));f&&(q=new E(m,[0,.7],[0,.4],[1,-.02],[0,
.98]),qa(q.a),q.a.b.innerHTML="<b>plant: </b>"+p.toString(),C(q.a,f,(h?"Replace with ":"Plant ")+a.name));k?(g&&F(b.a,function(){return"Show "+a.name+" info<br><br>"+k()},!0),f&&F(q.a,function(){return(h?"Replace with ":"Plant ")+a.name+"<br><br>"+k()},!0),F(d.a,function(){return ha(a.name)+"<br><br>"+k()},!0)):(g&&F(b.a,"Show "+a.name+" info"),f&&F(b.a,(h?"Replace with ":"Plant ")+a.name));f&&H.i.ia(p)&&(q.a.className="efButtonCantAfford",Uo(function(){if(!m||!document.body.contains(q.a))return!1;
var n=a.D();l&&(n=n.sub(l));return H.i.Ff(n)?(q.a.className="efButton",!1):!0}))}
function Ap(){for(var a=[],b=0;b<yg.length;b++)H.M[yg[b]].c&&a.push(yg[b]);var d=[],e={};for(b=0;b<a.length;b++)if(!e[a[b]]){var f=V[a[b]];f.type==qf&&(d.push(f.index),e[f.index]=!0)}var g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=gf||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=hf||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=jf||g&&!f.G.X(g.G)||
(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=pf||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=kf||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=lf||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),e[g.index]=!0);g=void 0;for(b=0;b<a.length;b++)e[a[b]]||(f=V[a[b]],f.type!=of||g&&!f.G.X(g.G)||(g=f));g&&(d.push(g.index),
e[g.index]=!0);f=[];for(b=0;b<a.length;b++)e[a[b]]||f.push(a[b]);f.sort(function(k,h){return V[k].G.l.ia(V[h].G.l)?1:-1});for(b=0;b<f.length;b++)d.push(f[b]),e[f[b]]=!0;return d}
function fp(a,b,d,e){for(var f=0,g=0;g<yg.length;g++)H.M[yg[g]].c&&f++;for(g=f=0;g<yg.length;g++)H.M[yg[g]].c&&f++;g=1;9<f&&(g=2);12<f&&(g=3);var k=ya(g);k.a.className="efDialogTranslucent";var h=f=0,l=new E(k.content,.01,.01,.99,.05,.7);d?(la(l.a),l.a.b.innerHTML="Replace crop with..."):l.a.innerHTML="Choose a crop to plant, or click its icon for info.<br>Tip: use SHIFT key on the field to plant last plant type, or CTRL for watercress.";l=new E(k.content,0,.12,1,1);Ya(l);var m=Ap();for(g=0;g<m.length;g++){var p=
m[g],q=V[p],n=A(function(y){var B="";y=V[y];if(y.Za)B+="This template represents all crops of type "+tf(y.type),B+="<br/><br/>It is a placeholder for planning the field layout and does nothing.<br><br>Templates are a feature provided by the automaton.<br><br>Tip: ctrl+shift+click a template to turn it into a crop of highest available tier of this type.";else{B+="Crop type: "+tf(y.type)+(y.H?" (tier "+(y.H+1)+")":"");var u=uf(y.type);u&&(B+=".<br>"+u);y.Vc&&(B+="<br/><br/>"+ha(y.Vc));y.type==lf&&(B+=
".<br><br>Copy ability: if this plant has resource-producing long-lived neighbors (orthogonal, not diagonal) of type berry or mushroom, the watercress will duplicate all their production (but also consumption), no matter how high their tier! This has diminishing returns if there are multiple watercress plants in the entire field, max 1 or 2 watercress makes sense. A badly placed watercress can even negatively affect the copying of all others. If you have no other crop types this is not yet relevant, plant as many watercress as you want then!");
u=y.D();B+="<br><br>Planting cost: "+u.toString()+" ("+Ra(u)+")";y.type==lf?B+=".<br><br>Living time: "+z.J(y.ta()):(B+=".<br><br>Growth time: "+z.J(y.ta()),y.ta()!=y.La&&(B+=" (base: "+z.J(y.La)+")"));B=y.type==jf?B+(".<br><br>Neighbor boost: "+Q(y.Ya(H.B[b][a]))):y.type==pf?B+(".<br><br>Flower boost: "+Q(sg(y,H.B[b][a]))):B+(".<br><br>Production/sec: "+y.sc(H.B[b][a],!0).toString());B+="."}return B},p);p=A(function(y){H.la=y;y=V[y];d?Y.push({type:yo,x:a,y:b,Y:y}):Y.push({type:xo,x:a,y:b,Y:y});k.ra();
za();X()},p);var x=A(function(y){y=y();ya(350>y.length?1:2).content.a.innerHTML=y},n);zp(q,f,h,l,p,x,n,d,e);f++;3<=f&&(f=0,h++)}l.update()};function Bp(a,b,d,e,f,g,k,h,l){b=new E(e,.33*b+.01,[0,.33*d+.01,.5],[.33*(b+1)-.01],[0,.33*(d+1)-.01,.5],.8);b.a.className="efEtherealPlantChip";d=new E(b,0,[.5,-.35],[0,.7],[.5,.35]);e=sb("0%","0%","100%","100%",d.a);tb(a.image[4],e);e=new E(b,[0,.7],0,1,[0,1]);var m="<b>"+a.name+"</b><br>";var p=a.D();l&&(p=p.sub(l));m+="type: "+tf(a.type);l=void 0;g&&(pa(d.a,!0),C(d.a,g,ha(a.name)+" info"));f?(l=new E(b,[0,.7],[0,.4],[1,-.02],[0,.98]),qa(l.a),l.a.b.innerHTML="<b>plant: </b>"+p.toString(),C(l.a,
f,(h?"Replace with ":"Plant ")+a.name)):m=H.i.ia(p)?m+('<br><font color="#666">cost: '+p.toString()+"</font>"):m+("<br>cost: "+p.toString());k?(g&&F(d.a,function(){return"Show ethereal "+a.name+" info<br><br>"+k()},!0),f&&F(l.a,function(){return(h?"Replace with ethereal ":"Plant ethereal ")+a.name+"<br><br>"+k()},!0),F(e.a,function(){return"Ethereal "+a.name+"<br><br>"+k()},!0)):(g&&F(d.a,"Show "+a.name+" info"),f&&F(d.a,(h?"Replace with ethereal ":"Plant ethereal ")+a.name));f&&H.i.ia(p)&&(l.a.className=
"efButtonCantAfford");e.a.innerHTML=m}
function tp(a,b,d,e){for(var f=0,g=0;g<Sj.length;g++)H.U[Sj[g]].c&&f++;var k=ya();k.a.className="efDialogEthereal";var h=f=0;g=k.content;var l=new E(g,0,0,1,.05,.5);la(l.a);d?(la(l.a),l.a.b.innerHTML="Replace crop with..."):l.a.b.innerHTML="Choose an ethereal crop to plant.<br>They cost resin, so choose wisely.<br>Ethereal crops give various bonuses to the basic field";l=new E(g,0,.1,1,1);Ya(l);for(g=0;g<Sj.length;g++)if(H.U[Sj[g]].c){var m=Sj[g],p=Rj[m],q=A(function(x){var y=Rj[x];x="Cost: "+y.D().toString();
x+="<br><br>Growth time: "+z.J(y.La);y.Be?x+="<br><br>Effect: "+y.Be:y.Ce&&(x+="<br><br>Effect: "+y.Ce);x+="<br><br>Ethereal tree level that unlocked this crop: "+y.K;!L(y.effect,0)&&(x+=".<br><br>Boost (base): "+Q(y.effect));!L(y.Z,0)&&(x+=".<br><br>Boost here: "+Q(y.Ya(H.$[b][a])));return x},m);m=A(function(x){var y=Rj[x];d?Y.push({type:rp,x:a,y:b,Y:y}):Y.push({type:Lo,x:a,y:b,Y:y});H.za=x;k.ra();za();X()},m);var n=A(function(x){x=x();ya(350>x.length?1:2).content.a.innerHTML=x},q);Bp(p,f,h,l,m,
n,q,d,e);f++;3<=f&&(f=0,h++)}l.update()};var Z,Cp,Dp="",Ep="",Fp="",Gp="",Hp="",Ip="",Jp="";function To(a,b){if(H.Fa==Kp&&H.Fa!=a&&H.je)for(var d=0;d<Ri.length;d++){var e=H.Db[Ri[d]];e.Aa&&(e.ja=!0)}b||(H.Fa=a);for(d=0;d<Cp.length;d++)Cp[d].a.style.visibility=a==d?"visible":"hidden";for(d=0;d<Z.length;d++)Z[d]&&(Z[d].className=a==d?"efButtonHighlighted":"efButton");a==Lp&&Ln();a==Mp&&(H.hd=!0,Np=null,Oo());a==Op&&On();a==Kp&&(Pp(),eo());a==Qp&&Nn();Ba();Mn()}
function Rp(){if(H.Fa==Lp&&H.qe){for(var a=0;a<Gh.length;a++){var b=H.h[Gh[a]];b.c&&!b.ja&&(b.ja=!0)}im(H)}if(H.Fa==Kp&&H.je){for(a=0;a<Ri.length;a++);im(H)}if(H.Fa==Qp&&H.kf){for(a=0;a<Hk.length;a++)b=H.N[Hk[a]],b.c&&!b.ja&&(b.ja=!0);im(H)}a=Co;Z[a]&&(b="field",0<H.g&&(b+="<br/>("+H.g+")"),H.ya&&(b='<b><font color="#2d0">'+b+"</font></b>"),b!=Hp&&(Z[a].style.lineHeight="",Hp=Z[a].b.innerHTML=b));a=Lp;Z[a]&&(b="upgrades<br/>("+H.eg+"/"+H.fg+")",H.qe&&(b='<b><font color="red">'+b+"</font></b>"),b!=
Dp&&(Z[a].style.lineHeight="",Dp=Z[a].b.innerHTML=b));a=Mp;Z[a]&&(b="fruit<br/>("+(H.I.length+H.L.length)+")",H.hd||(b='<b><font color="red">'+b+"</font></b>"),b!=Ep&&(Z[a].style.lineHeight="",Ep=Z[a].b.innerHTML=b));a=Ho;Z[a]&&(b="ethereal field",0<H.K&&(b+="<br/>("+H.K+")"),b!=Ip&&(Z[a].style.lineHeight="",Ip=Z[a].b.innerHTML=b));a=Qp;Z[a]&&(b="ethereal upgrades<br/>("+H.bg+"/"+H.dg+")",H.kf&&(b='<b><font color="red">'+b+"</font></b>"),b!=Fp&&(Z[a].style.lineHeight="",Fp=Z[a].b.innerHTML=b));a=
Op;Z[a]&&(b="automaton",qm()||(b+="<br>(off)"),b!=Jp&&(Z[a].style.lineHeight="",Jp=Z[a].b.innerHTML=b));a=Kp;Z[a]&&(b="achievements<br/>("+H.ie+")",H.je&&(b='<b><font color="red">'+b+"</font></b>"),b!=Gp&&(Gp=Z[a].b.innerHTML=b,Z[a].style.lineHeight=""))}
function Mn(){var a=[];a[Co]=!0;a[Lp]=0<H.lf;a[Mp]=0<H.pb;a[Ho]=0<H.aa;a[Qp]=0<H.cg;a[Op]=Lj()||2<=H.K;a[Kp]=0<H.ie;for(var b=0,d=0;d<a.length;d++)a[d]&&b++;if(1==b)for(d=0;d<a.length;d++)a[d]&&(a[d]=!1);var e=!0;for(d=0;d<a.length;d++)if(a[d]!=!!Z[d]){e=!1;break}e?Rp():(Z=[],Sp.a.innerHTML="",d=0,e=Co,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: field tab"),Z[e].b.innerText="field",Z[e].id="field_tab",Hp="",d++),e=Lp,a[e]&&(Z[e]=fa(100/
b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: upgrades tab"),Z[e].b.innerText="upgrades",Z[e].id="upgrades_tab",Dp="",d++),e=Mp,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: fruit tab"),Z[e].b.innerText="fruit",Z[e].id="fruit_tab",Ep="",d++),e=Ho,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: ethereal field tab"),Z[e].b.innerText="ethereal field",
Z[e].id="ethereal_field_tab",Z[e].b.style.textShadow="0px 0px 5px #ff8",Ip="",d++),e=Qp,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: ethereal upgrades tab"),Z[e].b.innerText="ethereal upgrades",Z[e].id="ethereal_upgrades_tab",Z[e].b.style.textShadow="0px 0px 5px #ff8",Fp="",d++),e=Op,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: ethereal field tab"),Z[e].b.innerText="automaton",
Z[e].id="achievements_tab",Jp="",d++),e=Kp,a[e]&&(Z[e]=fa(100/b*d+"%","0%",100/b+"%","100%",Sp.a),qa(Z[e]),C(Z[e],A(function(f){To(f)},e),"tab button: achievements tab"),Z[e].id="achievements_tab",Z[e].b.innerText="achievements",Gp="",d++),Rp(),To(H.Fa,!0))};var Tp=100,Up="",Vp=1,Wp=void 0,Xp=[],Yp=[],Zp=0,$n=1,Mo=2,$p=3,aq=4,Cn=5,Lh=6,bq=7,cq=8,dq=9,eq=10,Nj=11;
function W(a,b,d,e,f,g){if(g)Yp.push([a,b,d,e,f]);else{var k=b,h=e;void 0==k&&(k=Zp);void 0==h&&(h=.5);var l="#fff";e="#000";if(0!=k)if(k==$n)l="#f00",e="#ff0";else if(k==Mo)l="#f00";else if(k==$p)l="#888";else{if(k==dq)l=Math.min(Math.max(0,h+.5),1),l=mb([255*l,255*l,0]),g=Math.min(Math.max(0,h-.5),1),e=.16-.05*z.$b(0,d)*h,b=1;else{var m=0;e=0;var p=1;l=b=1;g=0;var q=.05,n=!1;k==Mo?m=e=0:k==Cn?(m=e=.16,b=0,g=.5):k==aq?m=e=0:k==Lh?(m=e=.5,q=0):k==bq?m=e=.3:k==cq?(m=.16,e=.66,q=0):k==eq?(m=e=.9,q=
0):k==Nj&&(p=b=0);if(0<h||k==aq)m+=z.$b(0,d)*q*h,0>m&&(m+=1),1<m&&--m,e+=z.$b(1,d)*q*h,0>e&&(e+=1),1<e&&--e,k==aq&&(m=z.$b(0,d),e=z.$b(1,d)),p+=.1*z.$b(2,d)*h,0>p&&(p=0),1<p&&(p=1),b+=.1*z.$b(3,d)*h,0>b&&(b=0),1<b&&(b=1),g=Math.min(Math.max(0,h*h+.25*(z.$b(4,d)-.5)),1),l=z.$b(5,d)*h*.2,d=kb([255*e,255*b,255*g,255]),d=(.2126*d[0]+.7152*d[1]+.0722*d[2])/255,.5>d&&(l=1-l),k=kb([255*m,255*p,255*l,255]),.25>Math.abs(d-(.2126*k[0]+.7152*k[1]+.0722*k[2])/255)&&(l=.5<d?.1:.9,n=!0);l=mb((n?ib:kb)([255*m,255*
p,255*l,255]))}e=mb(kb([255*e,255*b,255*g,255]))}e=[l,e];d=e[0];e=e[1];b=z.qc(H&&H.fa?H.fa:z.getTime());g=fq.a;a=ha(a);!f&&a==Up&&Wp?(Vp++,a=Up+" ("+Vp+"x)",Wp.innerHTML=a,Wp.title=b):(Up=a,Vp=1,f=z.he("span",g),Xp.push(f),f.style.display="block",f.innerHTML=a,f.style.color=d||"white",e&&(f.style.backgroundColor=e),f.style.margin="4px",Wp=f,Wp.title=b,100<g.childNodes.length&&z.ab(g.childNodes[0]),g.scrollTop=g.scrollHeight,Xp.length>Tp&&(z.ab(Xp[0]),Xp.shift(0)))}}
function gq(){for(var a=0;a<Yp.length;a++){var b=Yp[a];W(b[0],b[1],b[2],b[3],b[4])}Yp=[]};var Ta=R(),hq=R(),iq=R(),jq=R(),kq=R(),lq=R(),mq,nq=-1;function oq(a){for(var b={},d=0;d<H.u;d++)for(var e=0;e<H.s;e++){var f=H.B[d][e],g=lg[d][e];jg(f)&&(f=kg(f).index,b[f]||(b[f]=v(0)),b[f].o(Le(g.zd)[a]))}a=[];for(var k in b)a.push(k);a.sort(function(h,l){return h<l});d="";for(e=0;e<a.length;e++)k=a[e],L(b[k],0)||(d+="\u2022 "+V[k].name+": "+b[k].toString()+"/s<br/>");return d}
function pq(){Ta=R();hq=R();iq=R();jq=R();kq=R();lq=R();for(var a=0;a<H.u;a++)for(var b=0;b<H.s;b++){var d=lg[a][b];jg(H.B[a][b])&&(Ta.o(d.Qa),hq.o(Se(d.tb,new R)),iq.o(Qe(d.tb)),jq.o(d.zd),kq.o(Se(d.zd,new R)),lq.o(Qe(d.zd)))}}var qq=["efSeasonBgSpring","efSeasonBgSummer","efSeasonBgAutumn","efSeasonBgWinter"];
function rq(){function a(l,m,p,q,n,x,y){var B=Je[m];p=p[m];var u;l&&(2==m&&(u=mm()),3==m&&(u=nm()),7==m&&(u=lm().R));var r=mq[f];f++;var w=!1;var t="";if(l)2==m||3==m?(q=2==m?om():pm(),t=B+"<br>"+p.toString()+"<br>(+"+u.toString()+", "+q.toString()+"/hr)"):(t=B+"<br>"+p.toString(),u&&(t+="<br>(\u2192 +"+u.toString()+")"));else{var G=q[m];var D=n[m];var T=x[m];var I=y[m];w=!Kd(G,T);t=B+"<br>"+p.toString()+"<br>"+G.toString()+"/s";w&&(t+=' <font color="#888">('+T.toString()+"/s)</font>")}r.b.innerHTML=
t;t="";l?(2==m&&(t="<b>"+ha(B)+"</b><br/><br/>",t+="Total resin earned ever: "+H.ka.j.toString(),t=t+"<br/><br/>Unspent resin: "+(p.toString()+"<br/>"),t+="\u2192 Production boost for unspent resin: "+Q(yd(hg(H.i.j),1)),t=t+"<br><br>Collected upcoming resin: "+(u.toString()+"<br>"),!L(u,0)&&(t+="\u2192 Upcoming boost for unspent resin: "+Q(yd(hg(u.add(H.i.j)),1))+"<br>"),t=t+"<br>Resin/hour: "+(om().toString()+"<br>"),t+="Best/hour: "+H.Mb.j.toString()+" at level "+H.mc.j.valueOf()+"<br>",t+="<br>",
G=H.i.v.a(Al().v),t+="Resin added next tree level: "+Dl(H.g+1,void 0).toString()+" (getting "+Q(G)+" of this so far)<br>"),3==m&&(t="<b>"+ha(B)+"</b><br/><br/>",t+="Total twigs earned entire game: "+H.ka.F.toString(),t=t+"<br><br>Collected upcoming twigs: "+(u.toString()+"<br>"),t=t+"<br>Twigs/hour: "+(pm().toString()+"<br>"),t+="Best/hour: "+H.Mb.F.toString()+" at level "+H.mc.F.valueOf()+"<br>",t+="<br>",G=H.i.v.a(Al().v),t+="Twigs added next tree level: "+Fl(void 0).toString()+" (getting "+Q(G)+
" of this so far)<br>"),7==m&&(t="<b>Fruit essence</b><br/><br/>Current amount: "+(p.toString()+"<br/><br/>"),t+="Amount from next sacrificed fruits: "+u.toString()+"<br/><br/>",t+="Using this to level up fruit abilities does not consume the global essence. Every fruit can use all the essence.<br/><br/>")):(t="<b>"+ha(B)+"</b><br/><br/>",t+="Current amount: "+p.toString()+"<br/><br/>",1==m&&(t+="Spores aren't used for crops but will automatically level up the tree, which increases the tree progress<br><br>"),
G.Pc(D)?(t=t+("Production ("+B+"/s):<br/>\u2022 Total: ")+(D.toString()+"/s<br/>"),t+="\u2022 To stacks: "+G.toString()+"/s<br/>",t+="\u2022 To consumers: "+D.sub(G).toString()+"/s<br/>"):(t+="\u2022 Production: "+G.toString()+"/s<br/>",t+="\u2022 Consumption: 0/s<br/>"),t+="<br/>",w&&(t=t+("Potential production ("+B+"/s):<br/>\u2022 Total: ")+(I.toString()+"/s<br/>"),t+="\u2022 To stacks: "+T.toString()+"/s<br/>",t+="\u2022 To consumers: "+I.sub(T).toString()+"/s<br/>",t+="<br/>Potential production means: if mushrooms could consume as many seed as it needs, even if this is more than neighbor berries can produce<br/><br/>"));
r.hf=t;r.oh||(r.oh=!0,F(r,function(){return r.hf},!0,!0),r.style.cursor="pointer",C(r,function(){var Ha=ya(l?1:2);Ha.a.className="efDialogTranslucent";var P=oq(m),va=void 0;ta=A(function(Wa,M){if(Wa.hf!=va){var K=Wa.hf;l||(K+="Breakdown per crop type (as potential production/s): <br/>"+P);var J=void 0;2==m&&(J=[],Dl(H.g+1,J),J=bp(J,!1,"Resin gain breakdown"));3==m&&(J=[],Fl(J),J=bp(J,!1,"Twigs gain breakdown"));J&&(K+=J);M.a.innerHTML=K;va=Wa.hf}},r,Ha.content);ta()},"info box: "+B+" resource"))}
var b=sq.a;if(!mq.length){nq=-1;for(var d=0;2>d;d++)for(var e=0;4>e;e++){var f=4*d+e,g=fa(25*e+"%",50*d+"%","25%","50%",b);g.className="efInfo";la(g);g.style.textOverflow="hidden";g.style.whiteSpace="nowrap";mq[f]=g;g.style.lineHeight="90%"}}if(ig()!=nq)for(nq=ig(),f=0;f<mq.length;f++)mq[f].className="efInfo "+qq[ig()];b=["\ud83c\udf31 spring \ud83c\udf31","\u2600\ufe0f summer \u2600\ufe0f","\ud83c\udf42 autumn \ud83c\udf42","\u2744\ufe0f winter \u2744\ufe0f"][ig()];d=0<H.g?"level "+H.g:"time";var k=
Math.min(1,H.i.v.a(Al().v).valueOf());0<H.g&&(d+=" ("+Math.floor(100*k)+"%)");H.g>=yl&&(d='<span style="text-shadow:0px 0px 5px #ff0">'+d+"</span>");mq[0].b.innerHTML=d+"<br>"+z.J(H.xa,!0,4,!0)+"<br>"+b;mq[0].style.cursor="pointer";C(mq[0],function(){function l(){var p="";if(0<H.g){p+="<b>Level:</b> "+H.g;H.g>=yl&&(p+=". Transcension available, click the tree.");p+="<br><br>";var q=Al().v.sub(H.i.v).a(Ta.v);p+="<b>Next tree level requires:</b> "+Al().toString()+" ("+z.J(q.valueOf(),!0)+")<br><br>";
p+="<b>Progress to next level:</b> "+Math.floor(100*k).toString()+"%<br><br>"}p+="<b>Time in this field:</b> "+z.J(H.xa,!0,4,!0)+"<br><br>";p+="<b>Current season:</b> "+ha(ef[ig()])+"<br><br>";p+="<b>"+ha(ef[ig()])+" Effects:</b><br>";q=ig();0==q&&(p+="\u2022 +"+Q(yd(Of(),1))+" bonus to flower boost<br>");if(1==q){p+="\u2022 +"+Q(yd(Pf(),1))+" bonus to berry seed production<br>";var n=Qf();!L(n,1)&&(p+="\u2022 +"+Q(yd(Qf(),1))+" bonus to mushroom spore production (but also consumption)<br>")}2==q&&
(p+="\u2022 +"+Q(yd(Rf(),1))+" bonus to mushroom spores production, without increasing consumption<br>",n=Sf(),!L(n,1)&&(p+="\u2022 +"+Q(yd(Sf(),1))+" bonus to berry seed production<br>"),H.N[wi].count&&(p+="\u2022 Twigs bonus: "+Q(yd(Gl(),1))+" more twigs added when tree levels with mistletoes<br>"));3==q&&(p+="\u2022 Harsh conditions: -"+Q(v(1).sub(v($f)))+" berry / mushroom / flower stats when not next to the tree<br>",q=H.N[Xf].count?" (orthogonal or diagonal: 10 spots)":" (current reach: orthogonal, 6 spots)",
p+="\u2022 Winter tree warmth: +"+Q(yd(ag(),1))+" berry / mushroom stats (also consumption) and no harsh conditions for any crop when next to the tree "+q+"<br>",p+="\u2022 Resin bonus: "+Q(yd(El(),1))+" more resin added when tree levels up during the winter<br>");return p=p+"<br><b>Season change in:</b> "+(z.J(tq(),!0)+".<br>")}var m=ya(2).content;m.a.innerHTML=l();ta=function(){m.a.innerHTML=l()}},"info box: time and level");F(mq[0],function(){var l="Season change in: "+z.J(tq(),!0)+".<br>";if(1<=
H.g){var m=Al().v.sub(H.i.v).a(Ta.v);l+="<br>Next tree level requires: "+Al().toString()+"<br>("+z.J(m.valueOf(),!0)+")"}return l},!0);f=1;pq();b=Le(H.i);d=Le(Ta);e=Le(hq);g=Le(jq);var h=Le(kq);L(H.mb.l,0)||a(!1,0,b,d,e,g,h);L(H.mb.v,0)||a(!1,1,b,d,e,g,h);L(H.mb.j,0)&&L(H.j,0)||a(!0,2,b,d,e,g,h);L(H.mb.F,0)||a(!0,3,b,d,e,g,h);L(H.mb.R,0)||a(!0,7,b,d,e,g,h)};var uq=[],vq=[],wq=[],xq=[],yq=void 0,zq,Aq,Bq;
function Pp(){yq!=Cq&&(yq=Cq,uq=[],vq=[],wq=[],xq=[],Aq=new E(Cq,.02,.02,1,.05,1.2),zq=new E(Cq,.02,.15,.9,2),Ya(Cq));var a="Achievement production bonus: +"+Q(yd(H.vd,1));Aq.a.innerHTML=a;var b=Ri.length;a=nd.length;for(var d=!1,e=-1,f=0;f<b;f++){var g=Si[Ri[f]],k=H.Db[Ri[f]],h=!1;k.Aa&&(h=!0);void 0!=g.hint&&H.Db[g.hint].Aa&&(h=!0);if(h){e++;h=g.icon;k.Aa||(h=qd[Qi(g)]);if(xq[e]){var l=xq[e];if(l.icon==h&&l.ja==k.ja&&l.index==f&&l.Aa==k.Qh)continue}xq[e]={icon:h,ja:k.ja,index:f,Aa:k.Aa};d=!0;l=
e%a;var m=Math.floor(e/a);uq[e]?l=uq[e]:(l=new E(zq,[0,l/10],[0,m/10],[(l+1)/10-.005],[0,(m+1)/10-.005]),uq[e]=l);l=l.a;vq[e]?m=vq[e]:(m=sb("0%","0%","100%","100%",l),vq[e]=m);l=uq[e];m=vq[e];l=l.a;tb(h,m);k.Aa?ma(l,"achievement: "+g.name):ma(l,"not-yet-earned achievement: "+g.name);l.style.border=k.Aa?"3px solid "+nd[Qi(g)]:"";l.style.backgroundColor=k.Aa?od[Qi(g)]:"#8888";h=wq[e];!k.Aa||k.ja||wq[e]||(h=sb("0","0","25%","25%",l),vq[e]=m,wq[e]=h,tb(Eb,h));!k.ja&&k.Aa||!wq[e]||(z.ab(h),wq[e]=void 0);
m=A(function(p,q,n,x,y){q.Aa&&!q.ja&&(q.ja=!0,z.ab(x),wq[y]=void 0)},g,k,l,h,e);g=A(function(p,q){var n=Qi(p);return q.Aa?ha(p.name)+"<br><br>"+ha(p.description)+"<br><br>Production bonus: +"+Q(p.Ad)+"<br>Tier "+z.Ib(n)+": "+ha(md[n]):ha(p.name)+'<br><br>Not yet earned. Unearned achievements are normally hidden, except hinted ones like this shown as "?"<br><br>Production bonus: +'+Q(p.Ad)+"<br>Tier "+z.Ib(n)+": "+ha(md[n])},g,k,l,h,e);F(l,g);z.Sa(l,"onmouseover","medalseen",m);C(l,A(function(p,q){ya(1).content.a.innerHTML=
p();q()},g,m))}}b=e;if(d){if(Bq)for(e=0;e<Bq.length;e++)Ea(Bq[e]);Bq=[];l=0;m=Math.floor(b/a)+2;l=new E(zq,[0,l/10],[0,m/10],[(l+a-1)/10-.005],[0,(m+1)/10-.005],.3);Bq.push(l);l.a.innerText="Key: tiers from lowest to highest:";for(f=0;f<nd.length;f++)l=f%a,m=Math.floor(b/a)+3,l=new E(zq,[0,l/10],[0,m/10],[(l+1)/10-.005],[0,(m+1)/10-.005],2),Bq.push(l),l.a.style.backgroundColor=od[f],l.a.style.color=z.bh(od[f]),l.a.style.border="4px solid "+nd[f],la(l.a),l.a.b.innerText=md[f]}}var Dq=void 0;
function eo(){Dq&&(Ea(Dq),Dq=void 0)}function Eq(a){eo();a=Si[a];Dq=new E(Ca,.2,.85,.8,.95,.35);Dq.a.style.backgroundColor="#ddde";var b=new E(Dq,.01,[.5,-.35],[0,.7],[.5,.35]);b=sb("0%","0%","100%","100%",b.a);tb(a.icon,b);b=new E(Dq,[0,.7],[.5,-.35],.99,[.5,.35]);b.a.style.color="#000";b.a.innerHTML="Achievement Unlocked<br><br>"+ha(a.name)+" (+"+Q(a.Ad)+")";C(Dq.a,eo)};function Fq(a,b,d){b.a.className="efUpgradeChip";b.va=a;var e=a.D(d?-1:0),f=b.gf;f.a.innerHTML=ha(d?a.Pb():a.Df());f.a.style.whiteSpace="nowrap";f=b.Zg;f.clear();f.a.style.backgroundColor="#ccc";f.a.style.border="1px solid black";a.zc&&(f.a.style.backgroundColor=a.zc);a.Ac&&(f.a.style.border="1px solid "+a.Ac);if(a.Lc){var g=sb("0%","0%","100%","100%",f.a);tb(a.Lc,g)}a.qd&&(g=sb("0%","0%","100%","100%",f.a),tb(a.qd,g));f=b.Yg;d?f.a.innerText=a.Sb&&d?"Chosen: "+(1==H.h[a.index].count?a.Cc:a.Dc):"Cost: "+
e.toString():(f.a.b.innerText=a.Sb?"Choose":"Buy: "+e.toString(),H.i.ia(e)?f.a.className="efButtonCantAfford":f.a.className="efButton",z.Sa(b.a,"onmouseover","upgradeseen",function(){H.h[a.index].ja=!0}))}
function Gq(a,b,d){if(!b.gf){var e=new E(b,[0,.8],.05,1,.3,.95);b.gf=e;e=new E(b,.01,[.5,-.35],[0,.7],[.5,.35]);b.Zg=e;var f=new E(b,[0,.8],.4,.9,[.5,.35],.9);b.Yg=f;var g="",k=function(){var h=b.va,l=h.D(d?-1:0);g=ha(h.name);g+="<br><br>Cost: "+l.toString();d||(g+=" ("+Ra(l)+")");void 0!=h.ma&&(g+="<br><br>have of this crop: "+H.Nb[h.ma]);h.description&&(g+="<br><br>"+h.description);h.Sb&&d&&(g+="<br><br>Chosen: "+(1==H.h[h.index].count?h.Cc:h.Dc));void 0!=h.ma&&(h=V[h.ma],g+="<hr>",g+="Crop info ("+
h.name+"):<br><br>",h.Zb.empty()||(g+="Base production: "+h.Zb.toString()+"<br>",g+="Upgraded production: "+h.sc().toString()+"<br>"),L(h.Z,0)||(g+="Base boost: "+Q(h.Z)+"<br>",g+="Upgraded boost: "+Q(h.type==pf?sg(h):h.Ya())+"<br>"),l=h.D(),g+="Planting cost: "+l.toString()+" ("+Ra(l)+")<br>",h.type==lf?g+="Living time: "+z.J(h.ta()):(g+="Growth time: "+z.J(h.ta()),h.ta()!=h.La&&(g+=" (base: "+z.J(h.La)+")")),g+="<br>",g+="Type: "+tf(h.type)+(h.H?" (tier "+(h.H+1)+")":"")+"<br>")};d||(qa(f.a),C(f.a,
A(function(h,l){var m=b.va;if(m.Sb){var p=ya(void 0,function(){Y.push({type:Hq,va:m.index,shift:!1,gd:1});p.ra();X()},m.Cc,void 0,function(){Y.push({type:Hq,va:m.index,shift:!1,gd:2});p.ra();X()},m.Dc);p.content.a.innerHTML=m.description}else Y.push({type:Hq,va:m.index,shift:l.shiftKey}),X();window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},Yi)),z.Sa(b.a,"onmouseover","upgradeseen",function(){H.h[b.va.index].ja=!0}));F(b.a,function(){k();return g},
!0);pa(e.a);C(e.a,function(){var h=b.va,l=void 0,m=void 0;h.Sb||(l=function(){Y.push({type:Hq,va:h.index,shift:!1});za();X()},m=1==h.qa?"buy":"buy one");var p=void 0,q=void 0;h.Sb||1==h.qa||(p=function(){Y.push({type:Hq,va:h.index,shift:!0});za();X()},q="buy many");k();ya(1,l,m,void 0,p,q).content.a.innerHTML=g},"upgrade icon for "+bj);b.rh=k}Fq(a,b,d);b.rh()}var Iq=null,Jq=!1,Kq=[];
function Lq(){function a(g,k){for(var h=void 0,l=0;l<Gh.length;l++)if(!b[Gh[l]]){var m=U[Gh[l]];H.h[Gh[l]].c&&0==m.qa&&void 0!=m.ma&&V[m.ma].type==g&&(void 0==h||m.G.X(h.G))&&(h=m)}h&&k.push(h.index)}Kq=[];var b={};var d=[];for(var e=0;e<Gh.length;e++)if(!b[Gh[e]]){var f=U[Gh[e]];1==f.qa&&!L(f.G.v,0)&&d.push(Gh[e])}d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.v.ia(k.G.v)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<Gh.length;e++)b[Gh[e]]||(f=U[Gh[e]],1==f.qa&&L(f.G.v,0)&&
d.push(Gh[e]));d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.l.ia(k.G.l)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<Gh.length;e++)b[Gh[e]]||(f=U[Gh[e]],1<f.qa&&d.push(Gh[e]));d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.l.ia(k.G.l)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0;d=[];a(gf,d);a(hf,d);a(jf,d);a(pf,d);a(kf,d);a(lf,d);d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.l.ia(k.G.l)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<
Gh.length;e++)b[Gh[e]]||(f=U[Gh[e]],0==f.qa&&(void 0==f.ma||H.Nb[f.ma]||V[f.ma].type==lf)&&d.push(Gh[e]));d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.l.ia(k.G.l)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0;d=[];for(e=0;e<Gh.length;e++)b[Gh[e]]||(f=U[Gh[e]],0==f.qa&&d.push(Gh[e]));d=d.sort(function(g,k){g=U[g];k=U[k];return g.G.l.ia(k.G.l)?1:-1});for(e=0;e<d.length;e++)Kq.push(d[e]),b[d[e]]=!0}var Mq=[],Nq=[],Oq=void 0;
function Ln(){0==Kq.length&&Lq();Pq=[];var a=0;Iq&&(a=Iq.a.scrollTop);var b;if(Oq!=Qq){Qq.clear();Nq=[];Oq=Qq;Iq=b=new E(Qq,0,.01,1,1);Ya(b);var d=new E(b,.01,.02,.95,.15,.3);d.a.innerHTML="Hold shift to buy as many as possible<br>Click icon or see tooltip for more info";Qq.lh=b;Qq.gf=d}else b=Qq.lh,d=Qq.gf;var e=[0,0];d=[];for(var f=0;f<Kq.length;f++){var g=Kq[f];U[g].nc()&&d.push(g)}for(f=0;f<d.length;f++){g=U[d[f]];var k=f&1,h=f>>1;k=Nq[f]||new E(b,.49*k+.01,[.15,.45*h+.01,.27],[.49*(k+1)-.01],
[.15,.45*(h+1)-.01,.27],.75);Nq[f]=k;Gq(g,k,!1)}for(f=d.length;f<Nq.length;f++)Nq[f]&&(Ea(Nq[f]),Nq[f]=void 0);var l=[];for(f=0;f<Kq.length;f++)g=Kq[f],H.h[g].count&&l.push(g);0<l.length&&(k=0,h=(d.length+1>>1)+.33,k=new E(b,.01,[.15,.45*h+.01,.27],[.48],[.15,.45*(h+1)-.01,.27],.6),Nq[f]=k,qa(k.a),k.a.innerText="See Completed Upgrades",Pa(k),C(k.a,function(){var m=ya().content;Ya(m);for(var p=0;p<l.length;p++){var q=U[l[p]];fa(e[0],e[1],200,20,m.a);var n=p&1,x=p>>1;n=new E(m,.49*n+.01,[0,.45*x+.01,
.27],[.49*(n+1)-.01],[0,.45*(x+1)-.01,.27],.75);Gq(q,n,!0);n.a.style.color="#2a2";n.a.style.borderColor="#2a2"}m.update()}));b.update();Iq.a.scrollTop=a;Jq=!0}var Pq=[];
function Rq(){var a=[];for(var b=0;b<yg.length;b++){var d=H.Nb[yg[b]];a[b]=!!d}for(b=0;b<Gh.length;b++)d=H.h[Gh[b]].count,a[yg.length+b]=!!d;d=!0;if(Mq.length!=a.length)d=!1;else for(b=0;b<a.length;b++)if(Mq[b]!=a[b]){d=!1;break}d?a=!1:(Mq=a,Lq(),a=!0);d=[];for(b=0;b<Kq.length;b++){var e=Kq[b];U[e].nc()&&d.push(e)}e=[];for(b=0;b<d.length;b++){var f=U[d[b]],g=H.h[d[b]],k=f.D(0);e[b]=[H.i.ia(k),g.count,f.index]}d=!1;if(Pq.length==e.length)for(d=!0,b=0;b<e.length;b++)if(e[b][0]!=Pq[b][0]||e[b][1]!=Pq[b][1]||
e[b][2]!=Pq[b][2]){d=!1;break}if(!d||a)Ln(),Jq=!0,Pq=e};function Sq(a,b,d){b.a.className="efEtherealUpgradeChip";var e=a.D(d?-1:0),f=new E(b,[0,.8],.05,1,.3,1),g=ha(d?a.Pb():a.Df());f.a.innerHTML=g;f.a.style.whiteSpace="nowrap";f=new E(b,.01,[.5,-.35],[0,.7],[.5,.35]);a.zc&&(f.a.style.backgroundColor=a.zc);a.Ac&&(f.a.style.border="1px solid "+a.Ac);if(a.Lc){var k=sb("0%","0%","100%","100%",f.a);tb(a.Lc,k)}a.qd&&(k=sb("0%","0%","100%","100%",f.a),tb(a.qd,k));k=new E(b,[0,.8],.4,.9,[.5,.35],.8);var h=ha(g);h+="<br><br>Cost: "+e.toString();a.description&&
(h+="<br><br>"+a.description);h+="<br><br>This ethereal upgrade is non-refundable and permanent. Lasts through transcensions.";if(0<a.K||0<H.K)h+="<br><br>Ethereal tree level: "+a.K;d?k.a.innerText="Cost: "+e.toString():(qa(k.a),k.a.b.innerText="Cost: "+e.toString(),H.i.ia(e)&&(k.a.className="efButtonCantAfford"),C(k.a,A(function(){Y.push({type:Tq,va:a.index});X()},Yi)));F(b.a,h);pa(f.a);C(f.a,function(){ya(1).content.a.innerHTML=h},"ethereal upgrade icon for "+g)}var Uq=null,Vq=[];
function Wq(){Vq=[];var a={};var b=[];for(var d=0;d<Hk.length;d++)a[Hk[d]]||b.push(Hk[d]);b=b.sort(function(e,f){e=Ik[e];f=Ik[f];return e.K!=f.K?e.K<f.K?1:-1:e.G.j.ia(f.G.j)?1:-1});for(d=0;d<b.length;d++)Vq.push(b[d]),a[b[d]]=!0}
function Nn(){0==Vq.length&&Wq();var a=0;Uq&&(a=Uq.a.scrollTop);Xq.clear();var b=new E(Xq,0,.01,1,1);Uq=b;Ya(b);for(var d=new E(b,.01,0,.99,.2,.25),e=[],f=0;f<Vq.length;f++){var g=Vq[f];Ik[g].nc()&&e.push(g)}f="Ethereal upgrades are permanent and the resin is not refundable. You can also spend resin on plants in the ethereal field instead.<br><br>";f=0==e.length?f+"<i>No further ethereal upgrades are available for now.</i>":f+"Click the icon of an upgrade or see its tooltip for a more detailed description.";
d.a.innerHTML=f;var k=[0,0];for(f=0;f<e.length;f++){d=Ik[e[f]];g=f&1;var h=f>>1,l=.45;g=new E(b,g*l+.01,[.25,h*l+.01,.25],[(g+1)*l-.01],[.25,(h+1)*l-.01,.25],.75);Sq(d,g,!1)}var m=[];for(f=0;f<Vq.length;f++)g=Vq[f],H.N[g].count&&m.push(g);0<m.length&&(g=0,h=(e.length+1>>1)+.33,l=.45,e=new E(b,0*l+.01,[.25,h*l+.01,.27],[1*l-.01],[.25,(h+1)*l-.01,.27],.6),qa(e.a),e.a.innerText="See Completed Upgrades",Pa(e),C(e.a,function(){var p=ya().content;Ya(p);for(var q=0;q<m.length;q++){var n=Ik[m[q]];fa(k[0],
k[1],200,20,p.a);var x=q&1,y=q>>1;x=new E(p,.45*x+.01,[0,.45*y+.01,.27],[.45*(x+1)-.01],[0,.45*(y+1)-.01,.27],.75);Sq(n,x,!0);x.a.style.color="#2a2";x.a.style.borderColor="#2a2"}p.update()}));b.update();Uq.a.scrollTop=a}var Yq=[];
function Zq(){for(var a=[],b=0;b<Hk.length;b++){var d=Hk[b];Ik[d].nc()&&a.push(d)}d=[];for(b=0;b<a.length;b++){var e=Ik[a[b]],f=H.N[a[b]],g=e.D(0);d[b]=[H.i.ia(g),f.count,e.index]}a=!1;if(Yq.length==d.length)for(a=!0,b=0;b<d.length;b++)if(d[b][0]!=Yq[b][0]||d[b][1]!=Yq[b][1]||d[b][2]!=Yq[b][2]){a=!1;break}a||(Nn(),Yq=d)};var $q=void 0;
function eg(a,b){if(b){switch(a){case ll:return"/";case dg:return"BB";case fg:return"MB";case gg:return"ME";case qg:return"FB";case Lf:return"G";case Af:return"WB";case xg:return"WC";case rg:return"NB";case ml:return"S";case nl:return"S";case ol:return"S";case pl:return"S"}return"?"}switch(a){case ll:return"none";case dg:return"berry boost";case fg:return"mushroom boost";case gg:return"mushroom economy";case qg:return"flower boost";case Lf:return"growing speed";case Af:return"weather boost";case xg:return"watercress copying";
case rg:return"nettle boost";case ml:return"spring boost";case nl:return"summer boost";case ol:return"autumn boost";case pl:return"winter boost"}return"unknown"}
function ar(a){switch(a){case ll:return"none, fuse fruits to fill this slot";case dg:return"boosts berry production";case fg:return"boosts mushroom production but also consumption";case gg:return"reduces mushroom consumption, with diminishing returns";case qg:return"boosts flowers effect";case Lf:return"reduces plants growth time";case Af:return"increases the weather effect abilities";case xg:return"increases the copy effect of watercress";case rg:return"boosts the nettle effect";case ml:return"boosts the spring flower boost, only during the spring season";
case nl:return"boosts the summer berry boost, only during the summer season";case ol:return"boosts the autumn mushroom boost, only during the autumn season";case pl:return"boosts the winter tree warmth effect, only during the winter season"}return"unknown"}var Np=null;
function br(){var a=ya(),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Fruit help";a=new E(a.content,.01,.11,.99,1,.3);b=a.a;Ya(a);b.innerHTML="Fruits have one or more abilities from a random set.<br/><br/>You can move fruits between the stored and sacrificial slots with the buttons in the fruit dialog. You can choose the active fruit with the arrows. You can only have one active fruit and only the abilities of the active fruit have an effect. You can switch the active fruit at any time.<br/><br/>Fruit essence can be used to level up abilities, increasing their effect. If the fruit has mutliple abilities, click the ability you want to upgrade first.<br/><br/>All fruit essence is available for all fruits, leveling up an ability in one fruit does not consume any fruit essence for other fruits. Example: if you have 50 fruit essence and 3 fruits, then you can use 50 essence in fruit 1, you can also use 50 essence in fruit 2, and you can also use 50 essence in fruit 3, and in any future fruits as well. If you now sacrifice a fruit that gives 10 essence, you have 10 more essence available for all the others.<br/><br/>Leveling up abilities permanently affects this fruit, you cannot undo it. This only matters if this fruit has more than one ability so that you have to choose which ones to level up. And if unhappy with this fruit, you can always wait for a next one and sacrifice this one.<br/><br/>To get more fruit essence, sacrifice fruits by putting them in the sacrificial pool and transcending (available at high enough tree level). The amount of fruit essence of sacrificed fruits depends on their tier (zinc, bronze, ...), the ability levels or how much essence you've used to level them up don't matter for this.<br/><br/>The active and stored fruits do not get sacrificed and stay after transcension.<br/><br/>Higher tier fruits may have more abilities, and abilities provide more boost.<br/><br/>Click the fruit logo in the fruit dialog to mark as favorite and alter color effects (visual effect only).<br/><br/><b>Fusing Fruits</b><br/><br/>Fruits of the same tier (tier bronze and up) can be fused together to allow transfering abilities to create the fruit with the combination you want, when the random drops aren't giving it. Fusing does not increase strength of stats, it's only about allowing control of the combination.<br/><br/>Fusing fruits destroys the two original fruits and creates a new one of same type as first fused fruit and a new set of abilities that depends on the two original ones, but mostly like the first. The rules are as follows:<br/> \u2022 The new fruit will initially have the same abilities as the first original fruit (but all reset to level 1), but some may be pushed out in a next step<br/> \u2022 Any abilities in the second fruit that match the first fruit, will charge up the matching ability: it becomes charged (marked [*]), or fusible (marked [**]) if already charged<br/> \u2022 Any abilities in the second fruit that are fusible [**] will be transfered to the result fruit and push out the last ability of the result fruit<br/> \u2022 Any other abilities of the second fruit disappear and don't matter, the only abilities of the second fruit that matter are: abilities that match the first fruit, to charge them up, and fusible abilities, to replace abilities of the first fruit.<br/> \u2022 The order of abilities of first and second fruit matters, and you can freely reorder abilities in the regular fruit dialog (where you level up abilities), so you can control which abilities of the first fruit stay and which get pushed out.<br/> \u2022 The seasonal abilities of some fruit types (pineapple, ...) do not participiate in fusing. The first fruit determines the type of the resulting fruit, if the second fruit has a seasonal ability, it will be lost.<br/> \u2022 If a fruit has all abilities at [**] and is seasonal, it can no longer be used for fusing. That is, you cannot transfer a full set of chosen abilities to other seasonal fruits indefinitely.<br/><br/>Summary of the rules: get 3 fruits with ability you want, fuse them together, and fuse the result into a fruit to get that ability in there and push out an unwanted ability. Example: if you desire a silver fruit with flower boost and berry boost, one way you could reach it is:<br/> \u2022 collect 3 silver fruits that have flower boost in any slot, fruits A, B and C<br/> \u2022 fuse A with B, resulting in a fruit AB with charged flower boost, marked [*]<br/> \u2022 fuse AB with C, resulting in a fruit ABC with fusible flower boost, marked [**]<br/> \u2022 collect a fruit D that has berry boost, and if necessary, move berry boost to the first slot <br/> \u2022 fuse ABC into D, resulting in the desired fruit with flower boost and berry boost. Don't forget to level up its abilities, since they'll all be set to level 1.<br/><br/><b>Fruit related hotkeys</b><br/><br/>Note: on mac, ctrl means command instead.<br/> \u2022 <b>ctrl + click fruit</b>: move fruit between sacrificial and storage slots, if possible.<br/> \u2022 <b>shift + click fruit</b>: same as ctrl + click fruit.<br/> \u2022 <b>drag & drop</b>: drag fruits between slots, re-order slots.<br/> \u2022 <b>shift + click fruit ability upgrade</b>: buy multiple abilities up to 25% of currently available essence<br/> \u2022 <b>], } or )</b>: select next active fruit<br/> \u2022 <b>[, { or (</b>: select previous active fruit"}
function cr(a,b){function d(){function k(y){n+=.05;(new E(h,[.01,0],[0,n],1,[0,n+.1])).a.innerText=y;n+=.05}var h=g.content;h.clear();for(var l=[],m=0;m<H.I.length+H.L.length;m++){var p=m<H.I.length?H.I[m]:H.L[m-H.I.length];p!=a&&p.H==a.H&&l.push(p)}var q=0,n=.03;k("choose other fruit to fuse:");for(m=0;m<l.length;m++){q>.1*8.5&&(q=0,n+=.1);var x=new E(h,[.01,q],[0,n],[.01,q+.1],[0,n+.1]);q+=.1;p=l[m];dr(x,p,0,!0);pa(x.a);C(x.a,A(function(y){Np=e=y;d()},p))}n+=.1;0==l.length&&(x=new E(h,.01,[0,n],
.9,[0,n+.1]),x.a.innerText="No fruit to fuse, must have at least 1 other fruit of the same tier");k("fruits to fuse:");l=[a,e];for(m=q=0;m<=l.length;m++)m==l.length&&(q+=.05),x=new E(h,[.01,q],[0,n],[.01,q+.1],[0,n+.1]),q+=.1,(p=l[f&&m<l.length?l.length-1-m:m])?(dr(x,p,0,!0,(0==m?"first":"second")+" selected fuse fruit"),pa(x.a),C(x.a,A(function(){er(a)},a))):m==l.length?(p=sb("0%","0%","100%","100%",x.a),tb(Wb,p),pa(x.a,!0),C(x.a,A(function(y,B){if(B.shiftKey){if(!e)return;y=a;a=e;e=y}else f=!f;
d()},a)),F(x.a,"Swap the fuse order of the two fruits")):(x.a.style.backgroundColor="#ccc",x.a.style.border="1px solid black",F(x.a,"Empty fuse fruit slot, select a fruit above to fuse"));n+=.1;k("fused fruit result:");m=[void 0];p=f?wl(e,a,m):wl(a,e,m);q=0;x=new E(h,[.01,q],[0,n],[.01,q+.1],[0,n+.1]);q+=.1;p?(dr(x,p,0,!0,"fused fruit result"),pa(x.a),C(x.a,A(function(y){er(y)},p))):(x.a.style.backgroundColor="#ccc",x.a.style.border="1px solid black",F(x.a,"Fused fruit appears here when successful"));
n+=.1;if(p)for(m=-1;m<p.O.length;m++)x=new E(h,[.01,0],[0,n],1,[0,n+.1]),x.a.innerText=-1==m?p.toString()+", fused "+p.Yb+" times":"ability: "+p.bc(m)+"  (was: "+(f?e:a).bc(m)+")",n+=.05;else m[0]&&(n+=.025,q=0,x=new E(h,[.01,0],[0,n],[.99,0],[0,n+.1]),q+=.1,x.a.innerText=m[0])}Np=null;var e=void 0,f=!1,g=ya(void 0,function(){e&&(f?Y.push({type:fr,gg:e,f:a}):Y.push({type:fr,gg:a,f:e}));g.ra();X();b&&b(Np)},"fuse");Ya(g.content);d()}
function gr(a,b,d){function e(){for(var w=0;w<m.length;w++){w==l?(m[w].a.style.boxShadow="0px 0px 5px #000",m[w].a.style.border="",m[w].a.style.backgroundColor="#8f8"):(m[w].a.style.boxShadow="",m[w].a.style.border="1px solid #000",m[w].a.style.backgroundColor="#6d6");var t=sl(b.ha[w],b.H);t=t.R.tg(H.i.R.sub(b.R));rl(b.O[w])?(m[w].a.style.color="#0008",m[w].a.style.textShadow="2px 0 #fff8, 0 2px #fff8"):(m[w].a.style.color=t?"#000":"#797",m[w].a.style.textShadow="")}w=b.O[l];t=b.ha[l];if(0>l||rl(w)){if(y.a.innerHTML=
"click ability to view or level up",B.style.visibility="hidden",u.style.visibility="hidden",r.style.visibility="hidden",0>l)return}else B.style.visibility="",u.style.visibility="",r.style.visibility="";p+=q;h=ha(eg(w));rl(w)||(h+=" "+z.Ib(t));h+="<br>";h+=ha(ar(w));h+="<br>";rl(w)?(h+="Boost: "+Q(Bf(w,t,b.H)),h+="<br>",h+="<br>",h+="This is an inherent fruit ability. It doesn't take up a regular ability slot for this fruit tier. It cannot be upgraded nor moved."):(h+="Current level: "+Q(Bf(w,t,b.H)),
h+="<br>",h+="Next level: "+Q(Bf(w,t+1,b.H)),t=sl(t,b.H),B.b.innerText="Level up: "+t.toString(),H.i.R.sub(b.R).ia(t.R)?B.className="efButtonCantAfford":B.className="efButton",F(B,"Levels up this ability. Does not permanently use up essence, only for this fruit: all essence can be used in all fruits. Hold shift to level up multiple times but with only up to 25% of available essence"),C(B,function(G){Y.push({type:hr,Ab:b,index:l,shift:G.shiftKey});X();f()}),u.b.innerText="^",u.className=0>=l?"efButtonCantAfford":
"efButton",F(u,"Moves up this ability in the order. This has no effect on ability strength, but can affect fusing of fruits"),C(u,function(){0>=l||(Y.push({type:ir,Ab:b,index:l,Ig:!0}),l--,X(),f())}),r.b.innerText="v",r.className=l+1>=ul(b.H)?"efButtonCantAfford":"efButton",F(r,"Moves down this ability in the order. This has no effect on ability strength, but can affect fusing of fruits"),C(r,function(){l+1>=ul(b.H)||(Y.push({type:ir,Ab:b,index:l,Ig:!1}),l++,X(),f())}));y.a.innerHTML=h}function f(w){w&&
(b=w);gr(a,b,l)}a.content.clear();Np=b;Oo();a.a.className="efDialogTranslucent";var g=new E(a.content,[0,.01],[0,.01],[0,.15],[0,.15],.3),k=sb("0%","0%","100%","100%",g.a);tb(Rb[b.type][b.H],k);jr(g,b);g=new E(a.content,[.01,.15],.01,.99,.15,.3);var h=ha(b.toString());h+="<br>";h+="Tier "+z.Ib(b.H)+": "+md[b.H];h+="<br><br>";h+="Fruit essence available: "+H.i.R.sub(b.R).toString()+" of "+H.i.R.toString();h+="<br>";h+="Fruit essence used: "+b.R.toString();h+="<br>";h+="Get on sacrifice: "+tl(b).toString();
b.Yb&&(h+="<br>",h+="Fuses done: "+b.Yb);g.a.innerHTML=h;var l=void 0==d?1<b.O.length?-1:0:d,m=[],p=.22,q=.04;for(d=0;d<b.O.length;d++){g=new E(a.content,[.01,.15],p,.7,p+q,.5);p+=1.1*q;var n=b.O[d],x=b.ha[d];h=ha(b.bc(d));h+=" ("+Q(Bf(n,x,b.H))+")";la(g.a);g.a.b.innerHTML=h;m[d]=g;g.a.style.backgroundColor="#fff";pa(g.a);C(g.a,A(function(w){l=w==l?-1:w;e()},d))}p+=.02;q=.2;d=new E(a.content,[.01,.15],p,.7,p+q);d.a.style.backgroundColor="#0f02";d.a.style.border="1px solid black";p+=q;var y=new E(d,
.01,0,.99,.5,.4),B=(new E(d,.01,.7,.5,.95,.7)).a;qa(B);var u=(new E(d,.55,.7,.7,.95)).a;qa(u);var r=(new E(d,.75,.7,.9,.95)).a;qa(r);p+=.05;q=.05;100<=b.slot&&(d=(new E(a.content,[.01,.15],p,.45,p+q,.8)).a,p+=1.1*q,qa(d),d.b.innerText="to storage slot",H.I.length>=H.pa&&(d.b.style.color="#666"),C(d,function(){Y.push({type:kr,Ab:b,slot:0});X();za()}));100>b.slot&&(d=(new E(a.content,[.01,.15],p,.45,p+q,.8)).a,p+=1.1*q,qa(d),d.b.innerText="to sacrificial pool",C(d,function(){Y.push({type:kr,Ab:b,slot:1});
X();za()}),d=(new E(a.content,[.01,.15],p,.45,p+q,.8)).a,p+=1.1*q,qa(d),d.b.innerText="make active",C(d,function(){H.kb=b.slot;Oo();X();za()}));0<b.H&&(d=(new E(a.content,[.01,.15],p,.45,p+q,.8)).a,p+=1.1*q,qa(d),d.b.innerText="fuse",vl(b)&&(d.b.style.color="#666"),C(d,function(){cr(b,f)}));d=(new E(a.content,[.01,.15],p,.45,p+q,.8)).a;p+=1.1*q;qa(d);d.b.innerText="rename";C(d,function(){$a("Enter new fruit name, or empty for default",function(w){b.name=gb(w);Oo();ua&&f()})});d=(new E(a.content,[.01,
.15],p,.45,p+q,.8)).a;p+=1.1*q;qa(d);d.b.innerText="help";C(d,br);pa(k,!0);C(k,function(){b.mark=((b.mark||0)+1)%5;Oo();f()},"mark favorite");F(k,"click to mark as favorite and toggle color style. This is a visual effect only.");e()}function er(a){for(var b=ya().content,d=0,e=-1;e<a.O.length;e++)(new E(b,[.01,0],[0,d],1,[0,d+.1])).a.innerText=-1==e?a.toString()+", fused "+a.Yb+" times":"ability: "+a.bc(e),d+=.05}
function lr(){var a=ya(),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Fruit storage slot sources";b=new E(a.content,.01,.11,.99,1,.3);a=b.a;Ya(b);b="You have "+H.pa+" fruit storage slots available. Here's where they came from:";b+="<br/><br/> \u2022 3: initial amount<br/>";0!=H.vc&&(b+=" \u2022 1: for having seen at least 1 seasonal fruit<br/>");15==H.vc&&(b+=" \u2022 1: for having seen all 4 types of seasonal fruit<br/>");var d=0;H.N[Uk].count&&d++;H.N[gl].count&&d++;0<d&&(b+=" \u2022 "+
d+": ethereal upgrades<br/>");H.P[Dj].V&&(b+=" \u2022 1: for completing the rocks challenge<br/>");a.innerHTML=b}function jr(a,b){a.a.style.backgroundColor=od[b.H]+"8";a.a.style.border=b.mark?"3px solid "+(1==b.mark?"#f008":2==b.mark?"#fe08":3==b.mark?"#4c48":"#06c8"):b.name?"3px solid #0008":"1px solid black";a.a.style.boxShadow=Np==b?"0px 0px 16px #000":""}
function dr(a,b,d,e,f){var g=sb("0%","0%","100%","100%",a.a);tb(Rb[b.type][b.H],g);g="";f&&(g+=f+"<br>");g+=ha(b.toString());g+=", fruit tier "+z.Ib(b.H);for(f=0;f<b.O.length;f++){var k=b.O[f],h=b.ha[f];g+="<br>";g=rl(k)?g+("Extra ability: "+ha(b.bc(f))+" ("+Q(Bf(k,h,b.H))+")"):k==ll?g+("Ability: "+ha(b.bc(f))):g+("Ability: "+ha(b.bc(f))+" ("+Q(Bf(k,h,b.H))+")")}g=g+"<br>Get on sacrifice: "+tl(b).toString();jr(a,b);F(a.a,g);a.a.style.userSelect="none";d=0==d?"storage":"sacrificial";e||(pa(a.a),C(a.a,
function(l){l.shiftKey||ia(l)?100<=b.slot?H.I.length>=H.pa||(Y.push({type:kr,Ab:b,slot:0}),X()):(Y.push({type:kr,Ab:b,slot:1}),X()):(l=ya(),gr(l,b,void 0))},d+" fruit slot: "+b.toString()))}var mr=-1;
function nr(a,b,d){d&&(a.a.draggable=!0,z.Id(a.a,"ondragstart",function(){mr=d.slot;Aa()}));z.Id(a.a,"ondrop",function(e){e.preventDefault();e=mr;mr=-1;0<=e&&e<=100+H.L.length&&(e=100>e?H.I[e]:H.L[e-100])&&(Y.push({type:kr,Ab:e,yg:b}),X())});z.Id(a.a,"ondragenter",function(e){e.preventDefault();return!1});z.Id(a.a,"ondragover",function(e){e.preventDefault();return!1});z.Id(a.a,"ondragend",function(e){e.preventDefault();mr=-1;return!1})}
function Oo(){var a=0;$q&&(a=$q.a.scrollTop);or.clear();var b=new E(or,0,.01,1,1);$q=b;Ya(b);var d=new E(b,.01,.02,.95,.15,.3);d.a.innerText="Fruit collection";var e=.1,f=H.pa,g;d=new E(b,.01,[0,e+.1/3],.85,[0,e+.1],.5);e+=.1;var k='<font color="red">none</font>';(g=jm())&&(k=g.toString()+": "+g.Hd(!0,!0));d.a.innerHTML="active fruit: "+k;F(d.a,"The chosen active fruit. Active fruit requires a fruit in storage, and the arrow above it lit. You can choose it using the arrow buttons below.");d=new E(b,
.01,[0,e+.1/3],.33,[0,e+.1],.66);e+=.1;d.a.innerText="stored fruits ("+H.I.length+" / "+H.pa+")";k="Fruits in storage slots are kept after transcension, unlike those in the sacrificial pool. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to storage.";F(d.a,k);for(var h=g=0;h<f;h++){var l=new E(b,[.01,g],[0,e],[.01,g+.1],[0,e+.1]);g+=.1;var m=sb("0%","0%","100%","100%",l.a);tb(h==H.kb?Ub:Vb,m);pa(l.a,!0);m="none";H.I[h]&&(m=H.I[h].toString());C(l.a,A(function(p){H.kb=
p;Oo()},h),"activate stored fruit "+h+": "+m)}e+=.1*1.1;pa(d.a);C(d.a,lr);for(h=g=0;h<f;h++)l=new E(b,[.01,g],[0,e],[.01,g+.1],[0,e+.1]),g+=.1,l.a.style.border="1px solid black",(d=h<H.I.length?H.I[h]:void 0)?dr(l,d,0):(l.a.style.backgroundColor="#ccc",F(l.a,"No stored fruit present in this slot. "+k),C(l.a,A(function(p){Np=null;Oo();W("No stored fruit present in this slot. "+p,Mo,0,0)},k),"empty storage fruit slot")),nr(l,h,d);e+=.1;d=new E(b,.01,[0,e+.1/3],.33,[0,e+.1],.66);e+=.1;d.a.innerText=
"sacrificial fruit pool ("+H.L.length+" / \u221e)";k="Fruits in here will be turned into fruit essence on the next transcension. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to the sacrificial pool.";F(d.a,k);f=Math.max(6,H.L.length+2);for(h=g=0;h<f;h++)l=new E(b,[.01,g],[0,e],[.01,g+.1],[0,e+.1]),g+=.1,1<g&&(g=0,e+=.1),l.a.style.border="1px solid black",(d=h<H.L.length?H.L[h]:void 0)?dr(l,d,1):(m=Math.min(h,h-H.L.length+4),0==m?(l.a.style.border="1px solid #000",
l.a.style.backgroundColor="#ccc"):1==m?(l.a.style.border="1px solid #0008",l.a.style.backgroundColor="#ccc8"):2==m?(l.a.style.border="1px solid #0004",l.a.style.backgroundColor="#ccc6"):3==m?(l.a.style.border="1px solid #0002",l.a.style.backgroundColor="#ccc4"):4==m?(l.a.style.border="1px solid #0002",l.a.style.backgroundColor="#ccc2"):5==m&&(l.a.style.border="1px solid #0002",l.a.style.backgroundColor="#ccc1"),F(l.a,"No fruit present in this sacrificial pool slot. "+k),C(l.a,A(function(p){Np=null;
Oo();W("No fruit present in this sacrificial pool slot. "+p,Mo,0,0)},k),"empty sacrificial fruit slot")),nr(l,h+100,d);e+=.1;$q.a.scrollTop=a};var pr=0,qr=[],rr={},sr=void 0;function fo(){sr&&(Ea(sr),sr=void 0)}function tr(a){fo();sr=new E(Ca,.19,.86,.81,.94,.35);sr.a.style.backgroundColor="#cffd";sr.a.style.zIndex=15;var b=new E(sr,.01,[.5,-.35],.99,[.5,.35]);b.a.style.color="#000";la(b.a);b.a.b.innerHTML=a;C(sr.a,fo)}
function ur(a,b,d,e,f,g,k,h){var l=0>a;a=Math.abs(a);var m=!!H.Cb[a],p=!!H.Rb[a];H.Cb[a]=a;if(!h){var q=!1;l||(H.Qb[a]&&(q=!0),H.Fc&&(q=p,H.Rb[a]=a));k||(q?""!=b&&W(b||d,Lh,175786661):W(d,Lh,175786661))}if(!l)if(l=!0,k||(H.Qb[a]&&(l=!1),rr[a]&&(H.Qb[a]=a,l=!1),H.Fc&&(l=!1)),l)if(0>pr&&(pr=0),pr)qr.push(arguments);else{f&&(d+=f);H.Rb[a]=a;if(!k){var n=function(){H.Qb[a]=a;rr[a]=a;y.ra()};var x="never show again"}pr++;var y=ya(g?3:2,n,x,"ok",void 0,void 0,!1,function(){pr--;if(qr.length){var B=Array.prototype.slice.call(qr[0],
0);B[7]=!0;qr.shift();ur.apply(this,B)}});y.a.className="efDialogTranslucent";m=.01;x=.8;e&&(n=new E(y.content,.01,.01,.1,.1),n=sb("0%","0%","100%","100%",n.a),tb(e,n),m=.11);if(g){x=g[0].length;l=g.length;for(p=0;p<l;p++)for(q=0;q<x;q++)g[p][q]&&(n=new E(y.content,[.25,-.2+.4*q/x],[.7,-.2+.4*p/l],[.25,-.2+.4*(q+1)/x],[.7,-.2+.4*(p+1)/l]),n=sb("0%","0%","100%","100%",n.a),tb(g[p][q],n));x=.65}(new E(y.content,m,.01,.99,x,.32)).a.innerHTML=d}else!m&&b&&tr(b)}var vr=[],wr={};
function xr(a,b,d,e,f,g,k){vr.push(a);wr[a]={};var h=wr[a];h.id=a;h.nh=d;h.name=b;h.text=e;h.image=f;h.ih=g;h.images=k}function Mj(a,b){(a=wr[a])&&ur(a.id,a.nh,a.text,a.image,a.ih,a.images,b)}xr(8,"Upgrades","You unlocked your first upgrade!",'You unlocked your first upgrade! Check the "upgrades" tab to view it, or if the sidebar on the right is visible, you can also see it there. Upgrades can unlock new crops, upgrade existing crops, or various other effects. Upgrades usually cost seeds.<br><br>The upgrades also unlock permanent crops that produce seeds forever, unlike the short-lived watercress.');
xr(3,"Permanent crop & watercress copying","You unlocked your first permanent type of plant.","You unlocked your first permanent type of plant. Plants like this stay on the field forever, keep producing forever, and have much more powerful production upgrades too.<br><br>If you plant watercress next to permanent plants, the watercress copy all its neighbors (orthogonal, not diagonal) production for free. If there is more than 1 watercress in the entire field this gives diminishing returns, so having 1 or perhaps 2 max makes sense (by design: no need to replant many watercress all the time. Check the seeds/s income to experiment). The watercress is its own independent multiplier so it works well and is relevant no matter how high level other boosts the permanent plant has later in the game.<br><br>TIP: hold SHIFT to plant last crop type, CTRL (or command) to plant watercress",
void 0,"<br><br>The image below shows an optimal configuration to use for watercress copying: the single watercress duplicates the production of 4 blackberries:",[[void 0,$b[4],void 0],[$b[4],Dc[4],$b[4]],[void 0,$b[4],void 0]]);
xr(19,"Mushrooms","You unlocked your first type of mushroom","You unlocked your first type of mushroom. Mushrooms produce spores, but they consume seeds. Mushrooms must touch berries to get their seeds. If the berry cannot produce enough seeds for the mushroom, the mushroom produces less spores. If the berry produces more seeds than needed, the remaining seeds go to the regular seeds stack<br><br>Spores let the tree level up, unlocking next kinds of bonuses.<br><br>Spores are used by the tree, but the mushroom is not required to touch the tree.",void 0,
"<br><br>The image shows a possible configuration for mushrooms: it extracts some seeds from the berries it touches.",[[vc[4],ac[4]],[ac[4],void 0]]);
xr(20,"Flowers","You unlocked your first type of flower","You unlocked your first type of flower. Flowers boost berries and mushrooms. In case of mushrooms, it boosts their spore production, but also increases their seed consumption equally",void 0,"<br><br>The image shows a possible good configuration for flower boost: multiple flowers boost multiple berries or mushrooms. It's also ensured that both the mushroom and the berry it consumes from both have a flower.",[[$b[4],oc[4],$b[4],void 0],[oc[4],
$b[4],oc[4],oc[4]],[$b[4],oc[4],$b[4],vc[4]],[void 0,void 0,void 0,void 0]]);
xr(21,"Nettles","Unlocked a new crop: nettle. Nettle boosts mushrooms, but hurts flowers and berries it touches.","Unlocked a new crop: nettle. Nettle boosts mushrooms, but hurts flowers and berries it touches. The mushroom boost increases spore production without increasing seeds consumption. The boost is an additional multiplier independent from flower boost to mushroom, so having both a nettle and a flower next to a mushroom works even greater.",Cc[4],"<br><br>The image shows a possible configuration where the mushroom receives boost from both nettle (top) and flower (bottom). The top left flower and top right blackberry in this image however are negatively affected by the nettle.",
[[oc[4],Cc[4],$b[4]],[ac[4],vc[4],ac[4]],[void 0,oc[4],void 0]]);xr(6,"Tree leveled up","Tree leveled up","Thanks to spores, the tree completely rejuvenated and is now a "+ld[lj(1)][0]+", level 1. More spores will level up the tree more. The tree can unlock abilities and more at higher levels. Click the tree in the field for more info.",void 0,void 0,[[void 0,ld[lj(1)][1][0]],[void 0,ld[lj(1)][2][0]]]);
xr(12,"Sun ability","Tree reached level 2 and discovered sun ability","The tree reached level 2 and discovered the sun ability!<br><br>"+U[Vf].description,Jb);xr(14,"Mist ability","Tree reached level 4 and discovered mist ability","The tree reached level 4 and discovered the mist ability! You now have multiple abilities, only one ability can be active at the same time.<br><br>"+U[Uf].description,Ib);
xr(15,"Rainbow ability","Tree reached level 6 and discovered rainbow ability","The tree reached level 6 and discovered the rainbow ability!<br><br>"+U[Wf].description,Lb);
xr(2,"Tree dropped fruit","Tree reached level 5 and dropped a fruit",'The tree reached level 5 and dropped a fruit! Fruits provide boosts and can be upgraded with fruit essence. Essence is gained by sacrificing fruits, and all full amount of fruit essence can be used for upgrading all other fruits at the same time. See the "fruit" tab, it also has a more extensive help dialog for fruits.<br><br>A possible strategy: keep fruits with good abilities you like. Sacrifice any other surplus fruits, so you can use the essence to upgrade the good fruits.',Mb[0]);
xr(18,"Tree dropped better fruit","Tree reached level 15 and discovered another fruit","The tree reached level 15 and dropped another fruit! Fruits from higher tree levels have random probability to be of better, higher tier, types.",Mb[2]);xr(7,"Tree can transcend","Tree reached level 10 and it's now possible to transcend","The tree reached adulthood, and is now able to transcend! Click the tree in the field to view the transcension dialog.",void 0,void 0,[[void 0,ld[lj(10)][1][0]],[void 0,ld[lj(10)][2][0]]]);
xr(1,"Transcension","You performed your first transcension! You can use resin in the ethereal field tab.","You performed your first transcension! Check the new ethereal field tab, spend resin on ethereal plants for bonuses to your basic field. Get more resin by transcending again.",void 0,"<br><br>The following image shows an example of an ethereal field setup with several ethereal crops that give boosts to the main field: all type of basic field berries, mushrooms and flowers are boosted by this example. The image also shows a white lotus that boosts the neighboring ethereal crops to make their boosts even bigger.",
[[void 0,oc[4],void 0],[$b[4],Fc[4],vc[4]],[void 0,$b[4],void 0]]);xr(9,"Ethereal upgrades","You unlocked your first ethereal upgrade!",'You unlocked your first ethereal upgrade! Check the "ethereal upgrades" tab to view it. Ethereal upgrades cost resin, just like ethereal plants do, but ethereal upgrades are permanent and non-refundable');
xr(17,"Mistletoes","Unlocked a new crop: mistletoe","Unlocked a new crop: mistletoe. Mistletoe can be placed next to the basic field tree to create twigs, orthogonally, not diagonally. Twigs help the ethereal field tree. However the mistletoe increases the spore requirement for leveling the basic tree and slightly decreases resin gain. More mistletoes give diminishing returns, but still increase the negative effects by as much, so having max 1 or 2 is sensible. Mistletoes that are not planted next to the tree do nothing at all.",Hc[4],
"<br><br>The image shows a possible configuration where mistletoes are next to the tree and thus give twigs on tree level up.",[[ld[lj(2)][1][0],Hc[4]],[ld[lj(2)][2][0],Hc[4]]]);
xr(22,"Ethereal tree leveled up","The ethereal tree leveled up, unlocking new ethereal upgrades, crops and boosts","Thanks to twigs, the ethereal tree leveled up! This is the tree in the ethereal field, not the one in the basic field. Leveling up the ethereal tree unlocks new ethereal crops and/or upgrades, depending on the level. Each level also provides a resin production boost to the basic tree.",void 0,void 0,[[void 0,ld[lj(1)][1][4]],[void 0,ld[lj(1)][2][4]]]);
xr(24,"Challenges","You unlocked a challenge!","You unlocked a challenge! Challenges can be accessed from the tree, as an alternative to regular transcension. All challenges give a production bonus for highest tree level reached. Challenges may also give one-time rewards for successfully reaching a certain level. Challenges can be ran as many times as desired, redoing them can increase the max level reached.",void 0);
xr(25,"Bee challenge",void 0,"You started the bee challenge! Rules are different from the standard game. You can click the tree at any time to view the current challenge rules, reward and stats.",Jc[4],"<br><br>The image below shows a possible configuration for the bees: all workers touch a flower as required, queens optionally touch workers for extra boost (so beehives provide a boost-boost), and hives touch queens to make that boost stronger (a boost-boost-boost). More than 1 flower does not increase boost but multiple queens or hives do. The rightmost worker bee gives most boost because it touches 3 queens, and the topmost queen gives least boost since it touches the least hives. You can fill in gaps in the picture where more queens or hives would increase the boost more. Not shown in the picture is that you also need some mushroom and berry production running somewhere, which can also be boosted by flowers in the standard way.",
[[void 0,Kc[4],Jc[4],Ic[4]],[Kc[4],Lc[4],Kc[4],Jc[4]],[void 0,Kc[4],Jc[4],Ic[4]],[void 0,Jc[4],Ic[4],void 0]]);xr(26,"Challenge completed","","The tree reached the challenge's target level, you can successfully complete the challenge and can get its main reward! You can complete the challenge from the tree dialog, or continue to reach a higher level for more challenge max-level bonus. You can also replay the challenge at any later time to increase the max level.",void 0);
xr(27,"Beehives","You unlocked beehives!","You unlocked beehives! Beehives boost orthogonally neighboring flowers, while flowers boost berries and mushrooms (beehives boost-boost). This adds a new independent multiplier that can be upgraded to the game.",Ic[4],"<br><br>The image shows a possible configuration for beehives, such that the beehives boost flowers, which in turn boost berries and mushrooms. It's ensured both the mushroom and the berry it consumes from have a hive-boosted flower.",[[void 0,
fc[4],qc[4],fc[4]],[fc[4],qc[4],Ic[4],qc[4]],[void 0,fc[4],qc[4],fc[4]],[void 0,Ic[4],qc[4],yc[4]]]);
xr(28,"Automaton & Blueprints","You unlocked the automaton!","You unlocked the automaton! You can place the automaton in the ethereal field. When placed, the automaton tab and blueprints unlock, allowing to automate various parts of the game.<br><br>You must place the automaton in the ethereal field before this works, go to its tab, and configure its settings before it actually automates anything.<br><br>More and more automation features become available later in the game.<br><br>When removing the automaton from the ethereal field, all automation features will be disabled, but they all come back the way they were when placing the automaton again.<br><br>Templates can be placed in the field using the regular planting menu. Blueprints can be created and placed from the blueprint button in the tree.",Oc[4],
void 0,[[void 0,Xc[4],void 0],[Xc[4],Tc[4],Xc[4]],[void 0,Xc[4],void 0]]);xr(29,"Auto upgrades","You unlocked auto upgrades!","You unlocked auto-upgrades for the automaton! See the automaton tab. You can enable or disable auto-upgrades, and choose a max cost the automaton is allowed to spend. All basic upgrades that boost crops, will be automatically performed by the automaton, at their normal cost, when enabled.",Oc[4]);
xr(30,"Auto upgrades more options","You unlocked more auto upgrade options!","You unlocked more finetuning options for the auto upgrades. See the automaton tab. The controls have changed: you can now configure the max cost per crop type (berry, mushroom, flower, ...).",Oc[4]);
xr(31,"Auto plant","You unlocked auto plant!","You unlocked auto-planting for the automaton! See the automaton tab. You can enable or disable auto-plant, and choose a max cost the automaton is allowed to spend.<br><br>How this works: the automaton will upgrade existing crops or blueprint templates to a higher tier, if that higher tier is unlocked. The automaton will not plant new crops from scratch, and will only upgrade crops or blueprint templates to the same type, e.g. berry to berry, flower to flower, ...<br><br>For example: If you have a blackberry, and now unlock blueberry, the automaton will automatically upgrade all planted blackberries in the field to blueberries, given enough resources.",Oc[4]);
xr(32,"Auto plant more options","You unlocked auto plant more options!","You unlocked more finetuning options for auto planting, you can now choose how many resources the automaton can spend on crops of each type.",Oc[4]);
xr(33,"Auto unlock","You unlocked auto-unlock!","You unlocked auto-unlock. This will unlock the next tiers of crops automatically. Combined with auto-plant and blueprint templates, this can almost fully automate a run.<br><br>Once you planted the general shape of your field with cheap crops or blueprint templates, everything will happen automatically from then on. Just place berries, mushrooms, flowers, nettles and beehives once to indicate the layout.<br><br>Tip: ensure there are some berries that don't touch a mushroom, because if a mushroom consumes all seeds of a berry, income will stop and the automaton won't get resources for further upgrades and planting, resulting in a deadlock.",Oc[4]);
function yr(){var a=ya(),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Help";a=new E(a.content,.01,.11,.99,1,.3);b=a.a;Ya(a);b.innerHTML='<b>List of keyboard shortcuts:</b><br/><br/>Note: on mac, ctrl means command instead.<br/><br/> \u2022 <b>"1" , "2" , "3"</b>: activate one of the weather abilities.<br/> \u2022 <b>"w"</b>: replant watercress on all field tiles that have a watercress remainder, and refresh existing ones. Such a remainder appears for watercress that have been copying from multiple plants, that is, a good copying spot. Copying has diminishing returns if there are multiple watercress anywhere on the map, 1 or 2 is effective (check the seeds/s income to view the effect).<br/> \u2022 <b>"t"</b>: show transcend dialog (if available)<br/> \u2022 <b>"p"</b>: pick or plant crop under mouse cursor (no mouse click required)<br/> \u2022 <b>"d"</b>: delete crop under mouse cursor (no mouse click required, only if this is enabled in preferences)<br/> \u2022 <b>"u"</b>: upgrade crop or template under mouse cursor (no mouse click required)<br/> \u2022 <b>shift + click empty field</b>: plant last planted or unlocked crop type.<br/> \u2022 <b>ctrl + click empty field</b>: plant a watercress (does not affect last planted type for shift key).<br/> \u2022 <b>ctrl + click non-empty field</b>: delete crop, only if this is enabled in preferences.<br/> \u2022 <b>shift + click non-empty field</b>: replace crop, only if this is enabled in preferences.<br/> \u2022 <b>ctrl + shift + click field</b>: upgrade crop or template to highest unlocked level (if enabled in preferences), pick this crop type as last planted, and on empty field, plant highest of picked crop type you can afford.<br/> \u2022 <b>shift + click upgrade</b>: buy as many of this upgrade as you can afford.<br/> \u2022 <b>shift + click undo</b>: save the undo state now, rather than load it. This overwrites your undo so eliminates any chance of undoing now. This will also be overwritten again if you do actions a minute later.<br/> \u2022 <b>shift + click save import dialog</b>: import and old savegame, but do not run the time, so you get the resources at the time of saving rather than with all production during that time added.<br/> \u2022 <b>ctrl + click fruit</b>: move fruit between sacrificial and storage slots, if possible.<br/> \u2022 <b>shift + click fruit</b>: same as ctrl + click fruit.<br/> \u2022 <b>shift + click fruit ability upgrade</b>: buy multiple abilities up to 25% of currently available essence.<br/> \u2022 <b>], } or )</b>: select next active fruit<br/> \u2022 <b>[, { or (</b>: select previous active fruit<br/> \u2022 <b>esc</b>: close dialog.<br/> \u2022 <b>"b"</b>: open the blueprint library, when available.<br/> \u2022 <b>shift + click blueprint</b>: immediately plant this blueprint, rather than opening its edit screen.<br/><br/><br/>'}
function zr(){var a=ya(),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Help";a=new E(a.content,.01,.11,.99,1,.3);b=a.a;Ya(a);b.innerHTML='Ethereal farm is an incremental game taking place on a field with a mysterious tree in the center. Most crops are permanent and there\'s no harvesting/selling/withering as in many farm games, instead it\'s about growing better and better plant types, with various neighbor-interaction rules with other plants in the field.<br/><br/>The text in the message log at the bottom will guide you through how to play. A short summary of the first steps: initially you have no resources but can get some from clicking ferns. Then you can click on field tiles to plant crops and soon resources are gained automatically and soon after that permanently. The rest will be revealed when the time is ready.<br/><br/>You can click resources in the resource panel to see more detailed breakdown. You can click fullgrown crops to see detailed stats. As the game progresses, more types of information may appear in there.<br/><br/><b>Savegame recovery:</b><br/><br/>This game auto-saves every few minutes in local storage in the web browser, but please use <i>settings -> export save</i> regularly for backups, because a local storage savegame can easily get lost.<br/><br/>If something goes wrong with your savegame, there may be a few older recovery savegames. Click <a style="color:#44f;" id="recovery">here</a> to view them.<br/><br/><br/>Game version: Ethereal Farm v'+
Vn()+"<br/><br/>Copyright (c) 2020-2021 by Lode Vandevenne";C(document.getElementById("recovery"),function(){Wn()})}var xj=!1;
function jo(){function a(h){var l=(new E(e,.08,f,.92,f+.06,.55)).a;qa(l);f+=.066;l.b.innerText=h;return l}xj=!0;var b=ya(void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){xj=!1}),d=new E(b.content,0,.01,1,.11,.5);la(d.a);d.a.b.innerText="Help";var e=new E(b.content,.01,.11,.99,1,.3);Ya(e);var f=.05,g=new E(e,.1,f,.9,f+.06,.5);g.a.innerText="More help topics will appear here as more features unlock";f+=.06;var k=a("Main help");C(k,zr);k=a("Keyboard shortcuts");C(k,yr);k=a("Number format help");
C(k,function(){Hn()});0<H.pb&&(k=a("Fruit help"),C(k,br));Lj()&&(k=a("Blueprint help"),C(k,Ar));k=a("Recovery saves");C(k,function(){Wn()});f+=.03;g=!1;for(b=0;b<vr.length;b++)if(d=vr[b],H.Cb[d]||H.Rb[d])k=wr[d],g||(g=new E(e,.1,f,.9,f+.06,.5),g.a.innerText="Dynamic help dialogs",f+=.06,g=!0),k=a(k.name),C(k,A(function(h){Mj(h,!0)},d));f+=.03;(new E(e,.1,f,.9,f+.06,.5)).a.innerText="More help topics will appear here as the game progresses. Any in-game help dialog that pops up will become permanently available here once it's unlocked"}
;function Br(a,b,d){b.clear();b.a.style.backgroundColor="#edc";a||(a=new am);var e=a.s,f=a.u,g=f?e/f:1;g=new E(b,[.5,-.5,g],[.5,-.5,1/g],[.5,.5,g],[.5,.5,1/g]);for(var k=0;k<f;k++)for(var h=0;h<e;h++){var l=new E(g,h/e,k/f,(h+1)/e,(k+1)/f),m=V[bm(a.data[k][h])];m&&(l=sb("0%","0%","100%","100%",l.a),tb(m.image[4],l))}a.s&&a.u||(la(g.a),g.a.b.innerText="[empty]");if(e=a.name)(new E(b,0,-.1,1,0)).a.innerText=e+":";e="blueprint";void 0!=d&&(e+=" "+d);a.name&&(e+=": "+a.name);b.a.setAttribute("aria-description",
e+": "+Cr(a))}
function Dr(a){if(a&&0!=a.s&&0!=a.u)if(H.challenge==Mf)W("blueprints are disabled during the wither challenge",Mo);else{var b=Math.floor((a.s-1)/2)-Math.floor((H.s-1)/2),d=Math.floor(a.u/2)-Math.floor(H.u/2),e=a.s,f=a.u,g=!1;1==e&&1==f&&(e=H.s,f=H.u,g=!0);for(var k=!1,h=0;h<f;h++)for(var l=0;l<e;l++){if(g){var m=H.B[h][l];var p=a.data[0][0];var q=l;var n=h}else{q=l-b;n=h-d;if(0>q||0>n||q>=H.s||n>=H.u)continue;m=H.B[n][q];p=a.data[h][l]}(0==m.index||m.index==Sl)&&(m=V[bm(p)])&&H.M[m.index].c&&(Y.push({type:xo,
x:q,y:n,Y:m,bb:!1,silent:!0}),k=!0)}k&&W("Planted blueprint")}}function Er(a){if(a){for(var b=a.s,d=a.u,e=0;e<d;e++)for(var f=0;f<b;f++)if(0!=a.data[e][f])return;a.s=0;a.u=0;a.data=[]}}function Cr(a){var b="";if(a)for(var d=a.s,e=a.u,f=0;f<e;f++){for(var g=0;g<d;g++){var k=a.data[f][g];b+=0==k?".":2==k?"W":3==k?"B":4==k?"M":5==k?"F":6==k?"N":7==k?"H":8==k?"I":-1}b+="\n"}return b}
function Fr(a){var b=ya(!1,function(){a(d.value);b.ra()},"import","cancel");(new E(b.content,.01,.01,.99,.1,.4)).a.innerHTML="Import blueprint. Case insensitive. B=berry, M=mushroom, F=flower, N=nettle, H=beehive, I=mistletoe, W=watercress, .=empty/tree.";var d=z.Oc("textarea","1%","15%","98%","70%",b.content.a);d.select();d.focus()}
function Gr(a,b){function d(h,l){var m=(new E(f.content,[0,.05],k,[.5,.05],k+.06,.8)).a;k+=.066;qa(m);m.b.innerText=h;C(m,l)}var e=a;a=dm(a);var f=ya(void 0,function(){cm(a,e);f.ra()},"ok","cancel"),g=new E(f.content,[0,.05],[0,.05],[0,.5],[0,.5]);Br(a,g,b);var k=.5;d("To field",function(){Dr(a);cm(a,e);za();X()});d("From field",function(){var h=H.s,l=H.u;a.s=h;a.u=l;a.data=[];for(var m=0;m<l;m++){a.data[m]=[];for(var p=0;p<h;p++){var q=kg(H.B[m][p]);a.data[m][p]=q?q.type==lf?2:q.type==gf?3:q.type==
hf?4:q.type==jf?5:q.type==kf?6:q.type==pf?7:q.type==of?8:0:0}}Er(a);Br(a,g,b)});d("To TXT",function(){Zn("export blueprint",Cr(a),"blueprint-"+z.qc(z.getTime(),!0)+".txt",!1)});d("From TXT",function(){Fr(function(h){if(""!=h){h=h.trim();h=h.split("\n");var l=h.length;if(!(1>l||11<l)){for(var m=0,p=0;p<l;p++)m=Math.max(m,h[p].length);if(!(1>m)){11<m&&(m=11);a.s=m;a.u=l;a.data=[];for(p=0;p<l;p++){a.data[p]=[];for(var q=0;q<m;q++){var n;(n=h[p][q])?(n=n.toUpperCase(),n="W"==n?2:"B"==n?3:"M"==n?4:"F"==
n?5:"N"==n?6:"H"==n?7:"I"==n?8:0):n=0;a.data[p][q]=n}}Er(a);Br(a,g,b)}}}})});d("Rename",function(){$a("Enter new blueprint name, or empty for default",function(h){a.name=gb(h);Br(a,g,b)})});d("Delete blueprint",function(){a.s=0;a.u=0;a.data=[];a.name="";Br(a,g,b)});d("Help",function(){Ar()});return f}
function Ar(){var a=ya(),b=(new E(a.content,.01,.01,.99,.1,.4)).a;la(b);b.b.innerText="Blueprint help";a=new E(a.content,.01,.11,.99,1,.3);b=a.a;Ya(a);b.innerHTML='Blueprint allow planting a whole field layout at once, and storing layouts<br/><br/>A field layout represents a crop type for each tile. Crop types are for example berry, mushroom, flower, nettle, ... A layout never refers to a specific crop, such as blackberry or blueberry, only to the type (here "berry") in general.<br/><br/>Planting a blueprint places crop templates on the field. You can also plant individual crop templates yourself using the regular plant dialog.<br/><br/>The blueprint will only plant templates on empty field cells, when a field cell already has something (including another template) it is not overplanted.<br/><br/>If the blueprint and field have a different size, it still just works and plants anything it can that is not out of bounds, centered around the tree. The tree is not present in the blueprint itself, it assumes where the standard position of a field of that size is.<br/><br/>To create a blueprint, you can use two methods:<br/> \u2022 From field: the current field layout is copied to the blueprint, e.g. wherever there\'s any berry on the field, produces a berry template in the blueprint.<br/> \u2022 From text (TXT): Write a field layout on multiple lines of text using the following letters: B=berry, M=mushroom, F=flower, N=nettle, H=beehive, I=mistletoe, W=watercress, .=empty/tree. Export TXT does the opposite.<br/><br/>Keyboard shotcuts for blueprints:<br/>Note: on mac, ctrl means command instead.<br/> \u2022 "b": open the blueprint dialog<br/> \u2022 "u": when mouse hovering over blueprint template: upgrade template to highest crop tier you can afford of that type<br/> \u2022 shift + click blueprint in main blueprint dialog: plant it immediately rather than opening its editing dialog (if not empty)<br/> \u2022 shift + ctrl + click blueprint in main blueprint dialog: transcend, and then plant it immediately (only if "shortcuts may delete crop" is enabled in the preferences)<br/> \u2022 ctrl + shift + click blueprint template in the field: grow highest crop tier you can afford of that type here (just shift replaces it, and ctrl deletes it, as usual)<br/><br/>Once automaton is advanced enough, it can also use blueprints.'}
function Bo(){var a=ya(),b=new E(a.content,.01,.01,.99,.1,.4);la(b.a);b.a.b.innerText="Blueprint library";a=new E(a.content,[.01,0],[.1,0],[.01,.98],[.1,.98]);for(b=0;9>b;b++){var d=b%3,e=Math.floor(b/3);d=new E(a,.33*(d+.05),.33*(e+.05),.33*(d+.95),.33*(e+.95));Br(H.Ua[b],d,b);pa(d.a,!0);C(d.a,A(function(f,g,k){for(var h=0;h<=f;h++)H.Ua[h]||(H.Ua[h]=new am);h=z.og(k);k=z.Fe(k);var l=H.Ua[f]&&H.Ua[f].s&&H.Ua[f].u;h&&!k&&l?(Dr(H.Ua[f]),za(),X()):h&&k&&l?H.wa?H.g<yl&&0!=H.g?W("not high enough tree level to transcend",
Mo):(H.g>=yl&&Y.push({type:Wo,challenge:0}),Y.push({type:Hr,Xg:H.Ua[f]}),za(),X()):W('enable "shortcuts may delete crop" in the preferences before the shortcut to transcend and plant blueprint is allowed',Mo):Gr(H.Ua[f],f).onclose=A(function(m,p){Br(H.Ua[m],p,f)},f,g)},b,d))}};var Ir=-1,Jr=[],Kr=void 0;
function Rn(){if(Lr){Lr.a.style.visibility=.9>window.innerWidth/window.innerHeight||!H.Fd?"hidden":"visible";Mr.clear();var a=(qm()?1:0)|(rm()?2:0)|(sm()?4:0)|(H.S[1]?8:0)|(H.S[2]?16:0),b=a!=Ir;if(Jq||b){Jq=!1;Kr!=Nr&&(Nr.clear(),Jr=[],Kr=Nr);Ir=a;a=[];for(var d=0;d<Kq.length;d++){var e=Kq[d];U[e].nc()&&a.push(e)}for(d=d=0;d<=a.length&&!(11<=d);d++)if(e=Jr[d]||new E(Nr,0,d/11,1,(d+1)/11,.65),Jr[d]=e,0==d){if(b){e.clear();var f="Upgrades";if(qm()&&H.S[1]&&H.S[2]){var g=new E(e,0,0,1,.5);f=new E(e,
0,.5,1,1);C(g.a,function(){qm()&&(Y.push({type:So,wb:2,sb:1-H.cc,Ia:function(){On();Rn()}}),X())});C(f.a,function(){qm()&&(Y.push({type:So,wb:1,sb:1-H.ec,Ia:function(){On();Rn()}}),X())});var k="Plant: "+(sm()?'<font color="#0b0">auto</font>':'<font color="#b00">manual</font>'),h="Upgrades: "+(rm()?'<font color="#0b0">auto</font>':'<font color="#b00">manual</font>');pa(g.a);pa(f.a);la(g.a);la(f.a);g.a.title="quick toggle auto-plant";f.a.title="quick toggle auto-upgrades";g.a.b.innerHTML=k;f.a.b.innerHTML=
h;ma(e.a,"side panel abbreviated upgrades list")}else qm()&&H.S[1]?(g=new E(e,0,0,1,1),C(g.a,function(){qm()&&(Y.push({type:So,wb:1,sb:1-H.ec,Ia:function(){On();Rn()}}),X())}),f="Upgrades "+(rm()?'<font color="#0b0">(auto)</font>':'<font color="#b00">(manual)</font>'),pa(g.a),la(g.a),g.a.title="quick toggle auto-upgrades",g.a.b.innerHTML=f,ma(e.a,"side panel abbreviated upgrades list")):a.length&&(la(e.a),e.a.b.innerHTML=f,ma(e.a,"side panel abbreviated upgrades list"))}}else 11==d+1&&11<=a.length+
1?(Qa(e),la(e.a),e.a.b.innerText="more in upgrades tab..."):Gq(U[a[d-1]],e,!1);for(;d<Jr.length;d++)Jr[d]&&(Ea(Jr[d]),Jr[d]=void 0)}if(0<H.aa||0<H.lf){f="<center>Summary</center><br>";Sa(H.ka.j,0)&&(f+="\u2022 Total resin earned ever: "+H.ka.j.toString(),f+="<br>");0<H.aa&&(f=H.challenge?f+("\u2022 Max challenge level: "+H.P[H.challenge].Ka):H.rc&&H.g>=H.rc?f+("\u2022 Max tree level before: "+H.rc):f+("\u2022 Max tree level ever: "+H.Na),f+="<br>");1<=H.g&&(b=Al().v.sub(H.i.v).a(Ta.v),f+="\u2022 Next tree level requires: "+
Al().toString()+" ("+z.J(b.valueOf(),!0)+")",f+="<br>");0<H.aa&&(f+="\u2022 Ethereal delete tokens: "+H.Va+" / "+4*Hf(),f+="<br>");f+="\u2022 Season change in: "+z.J(tq(),!0);f+="<br>";if(b=jm())f+="\u2022 Fruit: "+b.toString()+": "+b.Hd(!0,!0),f+="<br>";Mr.a.innerHTML=f}}};var gp,Qq,or,up,Xq,Ro,to,sq,Sp,Or,fq,Cq,Ka=null,Ca=null,Lr,Mr,Nr;window.onresize=function(){Ka&&Ka.update()};var Co,Lp,Mp,Ho,Qp,Op,Kp;
function io(){Qn();document.body.className="efBackground";Or.clear();Sp.clear();Z=[];Cp=[];var a=0;Co=a++;Lp=a++;Mp=a++;Ho=a++;Qp=a++;Kp=a++;Op=a++;for(var b=0;b<a;b++)Cp[b]=new E(Or,0,0,1,1);gp=Cp[Co];gp.a.style.userSelect="none";Qq=Cp[Lp];or=Cp[Mp];Cq=Cp[Kp];up=Cp[Ho];up.a.style.userSelect="none";Xq=Cp[Qp];Ro=Cp[Op];Mn();Wk();mq=[];sq.clear();el();Ln();Mn();Nn();On();H?To(H.Fa):To(0,!0)}document.body.style.fontFamily="Arial, sans-serif";
function Pr(a){document.getElementById("csslink").setAttribute("href",a)}function Qn(){var a="?v="+Vn().replace(/\./g,"_");2==H.ac?Pr("style_dark.css"+a):3==H.ac?Pr("style_dark2.css"+a):Pr("style_light.css"+a)};var H=void 0,Qr=!!document.getElementById("topnotice");Ka&&Ea(Ka);Ka=new E(null,0,0,1,1);Ca=new E(Ka,[0,.01,.75],Qr?.03:.01,[0,.99,.75],.99);to=new E(Ca,0,0,1,.05);sq=new E(Ca,0,.05,1,.18,.25);Sp=new E(Ca,0,.18,1,.28,.22);Or=new E(Ca,0,.285,1,.79);fq=new E(Ca,0,.8,1,1,.25);Lr=new E(Ka,[0,.99,.75],0,[0,.99,1.1],1);Lr.a.style.overflow="hidden";Mr=new E(Lr,.02,.02,.98,.25,.6);Nr=new E(Lr,0,.25,1,.99);Ka.update();var Rr=fq.a;Rr.innerText="";Rr.style.overflowY="scroll";oa(Rr,"log");Wp=void 0;Up="";
Vp=1;Rr.style.backgroundColor="#000";Rr.onclick=eo;
(function(){var a=(new E(to,[0,.1],[0,.1],[0,.9],[0,.9])).a,b=sb("0%","0%","100%","100%",a);tb(Tb,b);pa(a,!0);a.title="Settings";C(a,function(){var d=ya();ao(d)},"settings");a.id="settings_button";a=(new E(to,[1,-.9],[0,.1],[1,-.1],[0,.9])).a;b=sb("0%","0%","100%","100%",a);tb(wb[1],b);pa(a,!0);a.title="About";C(a,function(){Un()},"about");a.id="about_button";b=new E(to,[0,1.6],[0,.15],[0,3.3],[0,.85],2);qa(b.a);b.a.b.innerText="Undo";C(b.a,function(d){d.shiftKey?(W("held shift key while pressing undo button, so saving undo instead."),
Sr(H)):(Tr(),X());Aa()},"undo");b.a.id="undo_button";F(b.a,function(){return"Undo your last action(s). Press again to redo.<br><br>Undo is saved when doing an action, but with at least "+z.J(Ur)+" of time in-between, so multiple actions in quick succession may all be undone.<br><br>Undo save time duration is limited to "+z.J(Vr)+". If you undo a long time duration, you'll still get the correct amount of resources gained during that time."})})();var Yn=!1;
function Wr(a){if(!Xr){var b=Math.floor(z.getTime()/86400)%3;0==b&&z.ub(a,bf);1==b&&z.ub(a,cf);2==b&&z.ub(a,df)}}function Sn(a){Fn(H,function(b){z.ub(b,Ue);Wr(b);a&&a(b)})}
function Xn(){var a=[],b=z.Ja(Xe);b&&a.push(["last from older game version",b]);(b=z.Ja(Ye))&&a.push(["last from second-older game version",b]);(b=z.Ja(Ze))&&a.push(["last manual save",b]);(b=z.Ja(af))&&a.push(["last transcend",b]);(b=z.Ja(bf))&&a.push(["daily cycle A",b]);(b=z.Ja(cf))&&a.push(["daily cycle B",b]);(b=z.Ja(df))&&a.push(["daily cycle C",b]);(b=z.Ja($e))&&a.push(["last save for undo feature",b]);(b=z.Ja(We))&&a.push(["last known good",b]);var d=z.Ja(Ve);d&&a.push(["last known attempted",
d]);d=z.Ja(Ue);b&&a.push(["last",d]);return a}function Yr(){for(var a=0;a<Gh.length;a++)H.h[Gh[a]].c=!1}
function Zr(a){if(a){a==vf&&(Yr(),H.M[tg].c=!0,H.M[ug].c=!0,H.M[vg].c=!0,H.M[xh].c=!0,H.M[ch].c=!0,H.M[Og].c=!0,H.h[Mi].c=!0,H.h[Ni].c=!0,H.h[Oi].c=!0,H.h[Gi].c=!0);if(a==Dj){var b=Math.floor(z.getTime()/10800);b=(b%16777216^6515571)+16777216*(Math.floor(b/16777216)^29295);for(var d=Math.floor(H.s*H.u/3),e=[],f=0;f<H.u;f++)for(var g=0;g<H.s;g++)0==H.B[f][g].index&&e.push([g,f]);for(var k=0;k<d&&0!=e.length;k++){f=as(b);b=f[0];var h=Math.floor(f[1]*e.length);g=e[h][0];f=e[h][1];e.splice(h,1);H.B[f][g].index=
4}}a==Fj&&(Yr(),H.M[uh].c=!0,H.M[ch].c=!0,H.M[Og].c=!0,H.M[lh].c=!0,H.M[vh].c=!0,H.M[th].c=!0,H.h[Gi].c=!0,H.h[Di].c=!0,H.h[Ci].c=!0,H.h[Ei].c=!0,H.h[Fi].c=!0,H.P[vf].V&&(H.M[wh].c=!0,H.h[Hi].c=!0))}}
function bs(a){Fn(z.clone(H),function(h){z.ub(h,af)});z.hb(Ve);Yn=!1;if(H.challenge){var b=Ij[H.challenge],d=H.P[H.challenge];d.Ka=Math.max(H.g,d.Ka);if(H.g>=b.T[0]){var e=d.V;e<b.T.length&&H.g>=b.T[e]&&(1<b.T.length?W("Completed the next stage of the challenge and got reward: "+b.Hb[e],dq,38658833):W("Completed the challenge and got reward: "+b.Hb[e],dq,38658833),b.Ag[e](),d.V++);d.Se++}1<b.T.length&&d.V>=b.T.length&&d.le++;H.g&&d.Fb++}b=mm();e=H.g>=yl;L(b,0)&&(e=!1);H.challenge&&!Ij[H.challenge].Yc&&
(e=!1);d=nm();var f=H.g>=yl;L(d,0)&&(f=!1);H.challenge&&!Ij[H.challenge].wc&&(f=!1);var g=v(0),k="";g=lm();k=H.challenge?k+"Starting new run":k+"Transcended";e&&(k+=". Got resin: "+b.toString());f&&(k+=". Got twigs: "+d.toString());H.L.length&&(k+=". Sacrificed "+H.L.length+" fruits and got "+g.toString());W(k,cq,669840411);0==H.aa&&Mj(1);H.U[gk].c=!0;H.U[jk].c=!0;H.U[lk].c=!0;H.U[ak].c=!0;H.U[qk].c=!0;H.time=z.getTime();H.fa=H.time;H.i.j.o(b);H.ka.j.o(b);H.Ha.j.o(b);H.Ic.o(b);H.j=v(0);H.i.F.o(d);
H.ka.F.o(d);H.Ha.F.o(d);H.F=v(0);H.i.o(g);H.ka.o(g);H.Ha.o(g);H.L=[];H.hd=!0;0<H.g&&(e=function(h,l){h.push(l);50<h.length&&h.splice(0,h.length-50)},e(H.Cd,H.g),e(H.Xf,H.K),e(H.Ub,(H.time-H.Wb)/300),e(H.Uc,H.ka.j),e(H.Tc,b),e(H.Yf,d),e(H.Bd,H.challenge));H.challenge||(H.cf=H.Wb,H.bf=H.xa,H.Rf=H.bd,H.pe=H.Ha,H.oe=H.ic,H.ne=H.hc,H.Ve=H.$c,H.Ze=H.Vb,H.Qf=H.lc,H.Ye=H.kc,H.$e=H.cd,H.af=H.dd,H.Sf=H.ed,H.Ue=H.jc,H.We=H.ad,H.Xe=H.Bc,H.Of=H.Lb,H.Nf=H.Kb,H.Mf=H.Jd,H.Pf=H.Kd,H.Uf=H.Mb,H.Tf=H.mc,H.df=H.g);b=
H.time-H.Wb;H.challenge||(0==H.Jc?(H.jd=H.xa,H.Jc=H.xa,H.Rd=b,H.ce=b):(H.jd=Math.min(H.jd,H.xa),H.Jc=Math.max(H.Jc,H.xa),H.Rd=Math.min(H.Rd,b),H.ce=Math.max(H.ce,b)));H.Wb=H.time;H.xa=0;H.bd=0;H.Ha=R();H.ic=R();H.hc=R();H.$c=0;H.Vb=0;H.lc=0;H.kc=0;H.cd=0;H.dd=0;H.ed=0;H.jc=0;H.ad=0;H.Bc=0;H.Lb=0;H.Kb=0;H.Jd=0;H.Kd=0;H.Mb=R();H.mc=R();H.challenge||(H.Na=Math.max(H.g,H.Na),H.rc=Math.max(H.g,H.rc));H.challenge?H.g?(H.He++,10<=H.g&&H.nd++):H.Af++:H.aa++;H.i.l=v(0);H.i.v=v(0);b=Il();H.i.o(b);H.ka.o(b);
H.Ha.o(b);7==H.s&&7==H.u&&(b=H.N[Xk].count?6:5,H.s=b,H.u=b,Wk());fm(H);for(b=0;b<H.ba;b++)for(d=0;d<H.ca;d++)H.$[b][d].td=!1;H.g=0;H.Pd=new R;H.ya=!1;H.Nc=H.time;Ta=new R;H.Pa=0;H.Ta=0;H.Ra=0;H.M=[];for(e=0;e<yg.length;e++)H.M[yg[e]]=new Vl;H.M[uh].c=!0;H.h=[];for(e=0;e<Gh.length;e++)H.h[Gh[e]]=new Xl;H.N[$k].count&&Ik[$k].Ia();H.challenge=a||0;a&&Zr(a);H.la=-1;H.M[Og].c?H.la=Og:H.M[uh].c&&(H.la=uh);3600<H.$a&&(H.$a=3600);To(0);bo();Ba();cs();mq=[];sq.clear()}
function hp(){this.progress=this.a=void 0}var Y=[],ds=0,Go=ds++,xo=ds++,wo=ds++,yo=ds++,Hq=ds++,Lo=ds++,No=ds++,rp=ds++,Tq=ds++,uo=ds++,Wo=ds++,kr=ds++,hr=ds++,ir=ds++,fr=ds++,Hr=ds++,So=ds++,es=z.getTime();function fs(a){return!a||!0}function cs(){}var go="",ho=0,Ur=10,Vr=3600;function Sr(a){ho=z.getTime();Fn(a,function(b){go=b;z.ub(go,$e)},function(){go=""})}
function Tr(){0!=ho&&H.time-ho>Vr&&(go="",ho=0);""!=go&&go?(Fn(H,function(a){Gn(go,function(){W("Undone",eq,217654408);io();X();go=a;z.ub(go,$e)},function(){W("Not undone, failed to load undo-save",$n,0,0)})},function(){W("Not undone, failed to save redo save",$n,0,0)}),bo(),eo(),fo(),ho=0):W("No undo present. Undo is stored when performing an action.",Mo,0,0)}
function gs(){var a=H.Te;if(2>a){a=Math.floor(Math.random()*H.s);var b=Math.floor(Math.random()*H.u),d=H.B[b][a];d.index!=Yf&&d.index!=Zf||a++;return[a,b]}var e=Math.floor(Math.random()*a),f=0;for(b=0;b<H.u;b++)for(a=0;a<H.s;a++)if(d=H.B[b][a],0==d.index||d.index==Sl){if(f==e)return[a,b];f++}}function hs(a){a-=H.qb;if(isNaN(a))return 0;a=Math.floor(a/86400)%4;0>a&&(a=4+a);return a}function ig(){return hs(H.time)}function tq(){var a=H.time-H.qb;a/=86400;a-=Math.floor(a);return 86400-86400*a}
function is(a){this.Ab=a;this.x=a.x;this.y=a.y;this.Z=v(0);this.jg=v(0);this.ug=0;this.Hf=v(1);this.Jf=0;this.Gb=R();this.zd=R();this.Sc=R();this.Wc=R();this.pd=R();this.Qa=R();this.tb=R();this.nf=[];this.uc=[];this.rg=v(0);this.fc=[];this.ue=[];this.qg=-1;this.Fg=0;this.rf=this.Gg=!1}var lg=[];
function En(){var a=H.s,b=H.u;lg=[];for(var d=0;d<b;d++){lg[d]=[];for(var e=0;e<a;e++)lg[d][e]=new is(H.B[d][e])}H.Eb=0;H.se=v(0);if(H.challenge==vf){for(d=0;d<b;d++)for(e=0;e<a;e++){var f=H.B[d][e],g=Tl(f);if(g&&g.index==ug&&bg(f)){var k=lg[d][e];g=sg(g,f);k.Z=v(g);for(var h=0;4>h;h++){var l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0);if(!(0>l||l>=a||0>m||m>=b)){var p=H.B[m][l],q=Tl(p);q&&q.index==vg&&bg(p)&&k.Z.o(g.ea(sg(q,p)))}}}}for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],(g=Tl(f))&&g.index==
tg){k=lg[d][e];g=sg(g,f);bg(f)&&(k.Z=v(g));for(h=0;4>h;h++)l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),0>l||l>=a||0>m||m>=b||(p=H.B[m][l],q=Tl(p),l=lg[m][l],q&&q.index==ug&&bg(p)&&bg(f)&&k.Z.o(g.ea(l.Z)),q&&q.index==xh&&bg(p)&&(k.rf=!0));k.rf&&bg(f)&&H.se.o(k.Z)}}for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],g=Tl(f))if(k=lg[d][e],g.type==jf||g.type==gf)for(h=0;4>h;h++)l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),0>l||l>=a||0>m||m>=b||(p=H.B[m][l],(q=Tl(p))&&q.type==kf&&(g=q.Ya(p),k.Hf.ib(g.W(1)),
k.Jf++));for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],g=Tl(f))if(k=lg[d][e],g.type==jf)for(h=0;4>h;h++)l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),0>l||l>=a||0>m||m>=b||(p=H.B[m][l],(q=Tl(p))&&q.type==pf&&(l=sg(q,p),k.jg.o(l),k.ug++));for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],g=Tl(f)){k=lg[d][e];if(g.type==jf||g.type==kf)k.Z=g.Ya(f,!1,k.fc);g.type==pf&&(k.Z=sg(g,f,!1,k.fc));if(g.type==of)for(g=4,H.N[il].count&&(g=8),h=0;h<g;h++)if(l=f.x+(1==h||4==h||5==h?1:3==h||6==h||7==h?-1:0),m=f.y+(0==
h||4==h||7==h?-1:2==h||5==h||6==h?1:0),!(0>l||l>=a||0>m||m>=b)&&(p=H.B[m][l],p.index==Yf||p.index==Zf)){k.Gg=!0;H.Eb++;break}}for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],(g=Tl(f))&&g.type==lf)for(f=og(g),h=0;4>h;h++)l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),0>l||l>=a||0>m||m>=b||lg[m][l].rg.o(f);for(d=0;d<b;d++)for(e=0;e<a;e++)f=H.B[d][e],(g=Tl(f))&&g.type!=jf&&g.type!=kf&&g.type!=pf&&(k=lg[d][e],l=g.sc(f,!1,k.fc),k.Gb=l,k.zd=R(l),k.Sc=R(l),Xa(l.l,0)&&(k.Wc.l=zd(l.l),k.Wc.l.A(k.rg.W(1))));
for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],(g=Tl(f))&&(g.type==gf||g.type==hf))for(k=lg[d][e],h=0;4>h;h++)if(l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),!(0>l||l>=a||0>m||m>=b)&&(p=H.B[m][l],q=Tl(p)))l=lg[m][l],g.type==gf&&q.type==hf&&k.nf.push(l),g.type==hf&&q.type==gf&&k.uc.push(l);for(h=0;4>h;h++){p=4==h+1;m=!1;for(q=0;q<b;q++)for(var n=0;n<a;n++)if(d=q,e=n,h&1&&(d=b-q-1,e=a-n-1),f=H.B[d][e],(g=Tl(f))&&g.type==hf){k=lg[d][e];if(0==h){d=[];for(e=0;e<k.uc.length;e++)l=k.uc[e],1<l.nf.length?
d.push(l):(g=k.Wc.l.sub(k.pd.l),f=l.Sc.l,f=Va(g,f),f.Oe(0)&&(m=!0,k.pd.l.o(f),l.Sc.l.da(f)));k.uc=d}if(0!=k.uc.length)for(g=k.Wc.l.sub(k.pd.l).pc(k.uc.length),e=0;e<k.uc.length;e++)l=k.uc[e],l.qg!=h&&(l.Qa=R(l.Sc),l.qg=h),f=l.Qa.l.pc(l.nf.length),p&&(g=k.Wc.l.sub(k.pd.l),f=l.Sc.l),f=Va(g,f),f.Oe(0)&&(m=!0,k.pd.l.o(f),l.Sc.l.da(f))}if(!m)break}for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],g=Tl(f))k=lg[d][e],k.Qa=R(k.Sc),k.tb=R(k.Gb),g.type!=hf||L(k.Wc.l,0)||(l=k.pd.l.a(k.Wc.l),k.Qa.v.A(l),k.Qa.l=
v(0),k.tb.v.A(l),k.tb.l.A(l));for(d=0;d<b;d++)for(e=0;e<a;e++)if(f=H.B[d][e],(g=Tl(f))&&g.type==lf){f=og(g);k=lg[d][e];n=R();var x=0;for(h=0;4>h;h++)if(l=e+(1==h?1:3==h?-1:0),m=d+(2==h?1:0==h?-1:0),!(0>l||l>=a||0>m||m>=b)&&(p=H.B[m][l],q=Tl(p)))if(q.type!=lf&&k.Fg++,l=lg[m][l],q.type==gf||q.type==hf)p=l.Qa.ea(f),l=l.tb.ea(f),k.Qa.o(p),k.tb.o(l),k.zd.o(p),n.o(l),x++;n.empty()?H.h[Sh].count&&k.fc.push(["no neighbors, not copying",!1,n,k.tb.clone()]):(k.fc.push(['<span class="efWatercressHighlight">copying neighbors ('+
x+")</span>",!1,n,k.tb.clone()]),og(g,k.ue))}}function as(a){var b=a&16777215;a=(16777216*(1502*b+15525485*Math.floor(a/16777216)&16777215)+15525485*b+11)%281474976710656;return[a,a/281474976710656]}function js(){0>H.Gc&&(H.Gc=Math.floor(281474976710656*Math.random()));var a=as(H.Gc);H.Gc=a[0];return a[1]}function ks(){0>H.lb&&(H.lb=Math.floor(281474976710656*Math.random()));var a=as(H.lb);H.lb=a[0];return a[1]}
function ls(){var a=ks();var b=H.g;b=5>b?0:5<=b&&14>=b?.25<a?0:1:15<=b&&24>=b?.25>a?0:.75>a?1:2:25<=b&&34>=b?.75<a?1:2:35<=b&&44>=b?.25<a?2:3:45<=b&&54>=b?.75<a?2:3:55<=b&&64>=b?.25<a?3:4:65<=b&&74>=b?.75<a?3:4:4;a=new xl;a.H=b;b=ul(b);for(var d=[dg,fg,gg,qg,xg,Lf,Af,rg],e=0;e<b;e++){var f=Math.floor(ks()*d.length);var g=d[f];d.splice(f,1);f=1+Math.floor(4*ks());a.O.push(g);a.ha.push(f);a.na.push(0)}4<=H.pb&&.75<ks()&&(a.type=1+ig());1==a.type&&(a.O.push(ml),a.ha.push(1));2==a.type&&(a.O.push(nl),
a.ha.push(1));3==a.type&&(a.O.push(ol),a.ha.push(1));4==a.type&&(a.O.push(pl),a.ha.push(1));b=H.vc;1<=a.type&&4>=a.type&&(H.vc|=1<<a.type-1);d=H.vc;!b&&d&&(W("You got a seasonal fruit for the first time! One extra fruit storage slot added to cope with the variety.",bq,208302236),H.pa++);15!=b&&15==d&&(W("You've seen all 4 possible seasonal fruits! One extra fruit storage slot added to cope with the variety.",bq,208302236),H.pa++);0==H.pb?H.I.length<H.pa?km(H.I.length,a):km(100+H.L.length,a):km(100+
H.L.length,a);H.ad++;H.pb++;H.hd=!1;Oo();return a}function al(a){var b=H.U[a];b.c||(W('Ethereal crop available: "'+Rj[a].name+'"',cq,494369596),b.c=!0)}function ms(){for(var a=0;a<Gh.length;a++){var b=Gh[a],d=U[b],e=H.h[b];!d.Sb||!e.c||0!=d.qa&&e.count>=d.qa||(e=0,b==Ji&&2==H.nb[0]&&(e=1),b==Ji&&3==H.nb[0]&&(e=2),b==xf&&2==H.nb[1]&&(e=1),b==xf&&3==H.nb[1]&&(e=2),0<e&&(W("Automaton auto chose: "+ha(d.name)+": "+ha(1==e?d.Cc:d.Dc),Nj,101550953),Y.push({type:Hq,va:d.index,shift:!1,gb:!0,gd:e})))}}
var ns=void 0;function os(a,b,d){var e=b[0];a&&void 0!=d&&(d==gf&&(e=b[3]),d==hf&&(e=b[4]),d==jf&&(e=b[5]),d==kf&&(e=b[6]),d==pf&&(e=b[7]),d==lf&&(e=b[2]),d==qf&&(e=b[1]),d==of&&(e=b[8]));return e}function ps(a,b){b=a.pc(b);a=0;b.X(H.i)&&(b=b.sub(H.i),a=-Infinity,Sa(b.l,0)&&(a=Math.max(a,b.l.a(Ta.l).valueOf())),Sa(b.v,0)&&(a=Math.max(a,b.v.a(Ta.v).valueOf())),-Infinity==a&&(a=Infinity));return a}
function qs(){ns=void 0;for(var a=0;a<Gh.length;a++){var b=U[Gh[a]],d=H.h[Gh[a]];if(b.Mc&&d.c&&!(0!=b.qa&&d.count>=b.qa||void 0==b.ma||!H.Nb[b.ma]||V[b.ma].H<H.ee[V[b.ma].type])){d=os(2<=H.S[1],H.eb,V[b.ma].type);var e=b.D();d=ps(e,d);Infinity!=d&&(void 0==ns||d<ns.time)&&(ns={index:b.index,time:d})}}}
function rs(a){if(ns){for(var b=U[ns.index],d=os(2<=H.S[1],H.eb,V[b.ma].type),e=0;;){var f=Te(a,H.i.m(d)),g=b.D(e);if(g.X(f))break;a:{f=Le(g);for(var k=0;k<f.length;k++){var h=f[k];if(isNaN(h.f)||isNaN(h.e)||Infinity==h.f||Infinity==h.e||-Infinity==h.f||-Infinity==h.e){f=!0;break a}}f=!1}if(f){e--;break}if(100<e)break;e++;a.da(g)}0<e&&Y.push({type:Hq,va:b.index,shift:!1,gb:!0,Fb:e})}}var ss=void 0;
function ts(){ss=void 0;if(H.challenge!=If)for(var a=[lf,of,gf,hf,jf,pf,kf],b=0;b<a.length;b++){var d=a[b];var e=H.ge[d]+1;e=0>e||Infinity==e?null:(e=zg[d][e])&&H.M[e.index].c?e:null;if(e){var f=os(2<=H.S[2],H.Da,e.type),g=e.D();0==H.kc&&0<f&&(d==lf||d==gf)&&(f=1);f=ps(g,f);if(Infinity!=f)for(g=0;g<H.u;g++)for(var k=0;k<H.s;k++){var h=H.B[g][k];if(jg(h)&&(h=kg(h),h.type==d&&!(h.H>=e.H))){if(void 0==ss||f<ss.time)ss={index:e.index,x:k,y:g,time:f};g=H.u;break}}}}}
function us(a){if(ss){var b=V[ss.index],d=ss.x,e=ss.y,f=os(2<=H.S[2],H.Da,b.type),g=b.type;0==H.kc&&0<f&&(g==lf||g==gf)&&(f=1);f=Te(a,H.i.m(f));var k=b.D();if(!k.X(f)){a:for(var h=H.rb[g];;){if(0>h){g=null;break a}var l=zg[g][h];if(!l){g=null;break a}if(l.D().ua(f)){g=l;break a}h--}g&&g.D().ua(f)&&(b=g,k=b.D());a.da(k);Y.push({type:yo,x:d,y:e,Y:b,gb:!0,silent:!0})}}}var vs=void 0;
function ws(){vs=void 0;for(var a=0;a<Gh.length;a++){var b=U[Gh[a]],d=H.h[Gh[a]];if(b.fe&&d.c&&!d.count&&void 0!=b.ma&&(d=b.D(),!Sa(H.Zc,0)||!Sa(d.l,H.Zc))&&(d=ps(d,os(2<=H.S[2],H.dc?H.Da:H.yb,V[b.ma].type)),Infinity!=d)){if(void 0==vs||d<vs.time)vs={index:b.index,time:d};if(b.index==xi&&2>d){vs={index:b.index,time:d};break}}}}function xs(a){if(vs){var b=U[vs.index],d=Te(a,H.i.m(os(2<=H.S[2],H.dc?H.Da:H.yb,V[b.ma].type))),e=b.D();e.X(d)||(a.da(e),Y.push({type:Hq,va:b.index,shift:!1,gb:!0}))}}
function ys(){function a(k){b=Math.min(b,k)}var b=tq();H.time-H.Pa<Ef()&&a(Ef()-H.time+H.Pa);H.time-H.Ta<Df()&&a(Df()-H.time+H.Ta);H.time-H.Ra<Ff()&&a(Ff()-H.time+H.Ra);for(var d=0;d<H.u;d++)for(var e=0;e<H.s;e++){var f=H.B[d][e],g=kg(f);if(g)if(g.type==lf)a(g.ta()*f.C);else{if(H.challenge==Mf)return a(2),b;1>f.C&&a(2)}}d=Al().v.sub(H.i.v).a(Ta.v).valueOf();a(d,"tree");rm()&&ns&&a(ns.time);sm()&&ss&&a(ss.time);qm()&&H.S[3]&&sm()&&H.xc&&vs&&a(vs.time);return b}var zs=[];
function Uo(a){50<zs.length||zs.push(a)}var As=void 0,Bs=void 0,Cs=0,Ds=0,Es=0;
function X(a){var b=!1,d=void 0;0<Y.length&&z.getTime()-ho>Ur&&(d=z.clone(H));var e=!1,f=0,g=0;if(fs(a)){0==H.fa?H.fa=z.getTime():(H.Nc>H.fa&&(H.Nc=H.fa),H.Pa>H.fa&&(H.Pa=0),H.Ta>H.fa&&(H.Ta=0),H.Ra>H.fa&&(H.Ra=0),H.ud>H.fa&&(H.ud=0));var k=!1,h=0,l=R(H.i),m=H.fa;a=void 0;for(var p=!1,q=0;!(p||400<q++);){p=R(H.i);qm()&&H.S[0]&&H.Jb&&ms();qm()&&H.S[3]&&sm()&&H.xc&&(ws(),xs(p));rm()&&(qs(),rs(p));sm()&&(ts(),us(p));Lj()&&H.challenge!=If&&H.challenge!=Mf&&H.challenge!=vf?(H.M[zh].c=!0,H.M[Ah].c=!0,H.M[Bh].c=
!0,H.M[Ch].c=!0,H.M[Dh].c=!0,H.P[vf].V&&(H.M[Eh].c=!0),H.N[wi].count&&(H.M[Fh].c=!0),H.challenge==vf&&(H.M[Eh].c=!1,H.M[Dh].c=!1)):(H.M[zh].c=!1,H.M[Ah].c=!1,H.M[Bh].c=!1,H.M[Ch].c=!1,H.M[Dh].c=!1,H.M[Eh].c=!1,H.M[Fh].c=!1);H.U[ek].c?(H.U[tk].c=!0,H.U[uk].c=!0,H.U[vk].c=!0,H.U[Ak].c=!0,H.U[Dk].c=!0,H.U[zk].c=H.U[pk].c,H.U[Gk].c=H.U[ek].c):(H.U[tk].c=!1,H.U[uk].c=!1,H.U[vk].c=!1,H.U[Ak].c=!1,H.U[Dk].c=!1,H.U[zk].c=!1,H.U[Gk].c=!1);var n=z.getTime();if(0==H.fa)var x=0;else H.fa>n?(p=H.fa-n,H.$a+=p,
H.jf+=p,H.Re=Math.max(H.Re,p),H.Gf=p,H.If++,x=0):(x=n-H.fa,3E3<x&&0<H.$a&&(k=Math.min(H.$a,x),x-=k,H.$a-=k,k=!0));p=2<x;var y=0;H.time=H.fa;p&&(y=ys()+1,2>y&&(y=2),10<q&&5>y&&(y=5),50<q&&10>y&&(y=10));x>y&&p?(x=y,n=H.fa+x,p=!1):p=!0;H.time=H.fa;H.fa=n;y=hs(H.time);n=y!=hs(n);y!=As&&void 0!=As&&h++;As=y;n&&f++;H.Le+=x;H.xa+=x;y=new R;for(var B=!1;Y.length;){var u=Y[0];Y.shift();var r=u.type;if(r==Hq){if(H.qe)for(var w=0;w<Gh.length;w++){var t=H.h[Gh[w]];t.c&&!t.ja&&(t.ja=!0)}t=U[u.va];r=u.shift&&1!=
t.qa;for(var G=u.Fb?u.Fb:1,D=0,T=R(H.i);;){var I=t.D();if(H.challenge==Ej&&t.Mc&&t.index!=Gi)break;else if(H.i.ia(I)){r&&0<D||W("not enough resources for upgrade: have "+Re(I).toString()+", need "+I.toString()+" ("+Ra(I)+")",Mo,0,0);break}else if(t.nc())H.i.da(I),t.Ia(u.gd),D++,w="upgraded: "+t.Pb()+", consumed: "+I.toString(),t.Sb&&(w+=". Chosen: "+(1==H.h[t.index].count?t.Cc:t.Dc)),t.fe&&(I=V[t.ma].D(),w+=". Planting cost: "+I.toString()+" ("+Ra(I)+")"),r||u.gb||W(w),u.gb||(e=!0),t.fe&&!u.gb&&(H.la=
t.ma),H.dd++,H.ae++,u.gb&&(H.Lb++,H.vf++);else{r&&0<D||W("this upgrade is not currently available",Mo,0,0);break}if(!r&&D>=G)break;if(t.rd())break;if(1E3<D)break}r&&D&&!u.gb&&(w=T.sub(H.i),1==D?W("upgraded: "+t.Pb()+", consumed: "+w.toString()):W("upgraded "+t.name+" "+D+" times to "+t.Pb()+", consumed: "+w.toString()));D&&(u.va==Sh&&Mj(3),u.va==Mh&&Mj(19),u.va==oi&&Mj(20),u.va==yi&&Mj(27),u.va==th&&0<H.aa&&Mj(21),u.va==xi&&0<H.aa&&Mj(17))}else if(r==Tq)t=Ik[u.va],I=t.D(),H.i.ia(I)?W("not enough resources for ethereal upgrade: have "+
Re(I).toString()+", need "+I.toString(),Mo,0,0):t.nc()?(H.i.da(I),t.Ia(),W("Ethereal upgrade applied: "+t.Pb()+", consumed: "+I.toString()),e=!0,H.Je++):W("this ethereal upgrade is not currently available",Mo,0,0);else if(r==Hr)Dr(u.Xg);else if(r==xo||r==wo||r==yo){t=H.B[u.y][u.x];u.gb&&(H.hg=u.x,H.ig=u.y,H.Wg=H.time,b=!0);G=void 0;if(r==wo||r==yo)jg(t)?(w=kg(t),G=w.de(),1>t.C&&w.type!=lf&&H.challenge!=Mf&&(G=w.D(-1))):G=R();(D=!0,r==yo)&&u.Y&&t.index==16+u.Y.index&&(W("Already have this crop here",
Mo,0,0),D=!1);!D||r!=wo&&r!=yo||(H.challenge==If&&t.index!=16+uh&&1<=t.C&&!Ul(t)?(W("Cannot delete crops during the nodelete challenge. Ensure to leave open field spots for higher level plants.",Mo,0,0),D=!1):H.challenge!=Mf||t.index==16+uh||Ul(t)||r==yo&&jg(t)&&u.Y.G.X(kg(t).G)&&u.Y.type==kg(t).type||(W("Cannot delete or downgrade crops during the wither challenge, but they'll naturally disappear over time. However, you can replace crops with more expensive crops (see the replace dialog).",Mo,0,
0),D=!1));!D||r!=xo&&r!=yo||((w=u.Y,I=w.D(),r==yo&&jg(t)&&(I=I.sub(G)),r!=yo&&jg(t))?(W("field already has crop",Mo,0,0),D=!1):0==t.index||t.index==Sl||jg(t)?H.M[w.index].c?H.i.ia(I)&&(W("not enough resources to plant "+w.name+": have: "+Re(I).toString(Math.max(5,ae))+", need: "+I.toString(Math.max(5,ae))+" ("+Ra(I)+")",Mo,0,0),D=!1):(u.bb&&(H.la=-1,W("shift+click repeats last planted plant, but no last plant is set, plant the regular way first",Mo,0,0)),D=!1):(W("field already has something",Mo,
0,0),D=!1));!D||r!=wo&&r!=yo||(jg(t)?(w=kg(t),H.challenge==Mf||w.Za||(1>t.C&&w.type!=lf?(u.silent||W("plant was still growing, full refund given",eq,1197352652),H.Xd--,H.lc--):(H.Ie++,H.cd++,u.gb&&(H.Jd++,H.sf++))),t.index=0,t.C=0,im(H),w.type==lf?u.silent||W("deleted "+w.name+". Since this is a short-lived plant, nothing is refunded"):(H.i.o(G),u.silent||W("deleted "+w.name+", got back: "+G.toString())),u.gb||(e=!0)):t.index==Sl&&(t.index=0,t.C=0,u.silent||W("cleared watercress remainder")));!D||
r!=xo&&r!=yo||(w=u.Y,I=w.D(),H.challenge==Mf||w.Za||(w.type==lf?(H.Yd++,H.Vb++):(H.Xd++,H.lc++,u.gb&&(H.Kb++,H.tf++))),H.i.da(I),t.index=w.index+16,t.C=0,w.type==lf&&(t.C=1),H.challenge==Mf&&(t.C=1),im(H),u.gb||(e=!0),t=w.D(0),u.silent||W("planted "+w.name+". Consumed: "+I.toString()+". Next costs: "+t+" ("+Ra(t)+")"))}else if(r==Lo||r==No||r==rp){t=H.$[u.y][u.x];G=void 0;T=t.index==16+ek;var Ha=r==rp&&jg(t)&&kg(t).type==u.Y.type;jg(t)&&kg(t).Za&&(T=!0);if(r==No||r==rp)if(jg(t)){if(w=kg(t),G=w.de(),
T||1>t.C)G=w.D(-1)}else G=R();(D=!0,r==rp)&&u.Y&&t.index==16+u.Y.index&&(W("Already have this crop here",Mo,0,0),D=!1);if(D&&(r==No||r==rp)){var P=null;t.index-16==ak&&(P=Il().sub(Il(void 0,ak)));t.index-16==ck&&(P=Il().sub(Il(void 0,ck)));!T&&!Ha&&0>=H.Va&&jg(t)&&1<=t.C?(W("cannot delete: must have ethereal deletion tokens to delete ethereal crops. You get "+Hf()+" new such tokens per season (a season lasts 1 real-life day)",Mo,0,0),D=!1):!T&&t.td&&(1<=t.C||2>=Rj[t.index-16].La)?(W("cannot delete: this ethereal crop was planted during this transcension. Must transcend at least once.",
Mo,0,0),D=!1):t.index-16==ak&&H.i.ia(P)&&(W("cannot delete: must have at least the starter seeds which this crop gave to delete it, they will be forfeited.",Mo,0,0),D=!1)}!D||r!=Lo&&r!=rp||((w=u.Y,I=w.D(),r==rp&&jg(t)&&(I=I.sub(G)),r!=rp&&jg(t))?(W("field already has crop",Mo,0,0),D=!1):0==t.index||jg(t)?H.U[w.index].c?H.i.ia(I)?(W("not enough resources to plant "+w.name+": have: "+Re(I).toString(Math.max(5,ae))+", need: "+I.toString(Math.max(5,ae)),Mo,0,0),D=!1):w.index==ek&&H.Ec[ek]&&(W("already have automaton, cannot place more",
Mo,0,0),D=!1):(u.bb&&(H.za=-1,W("shift+click repeats last planted plant, but no last plant is set, plant the regular way first",Mo,0,0)),D=!1):(W("field already has something",Mo,0,0),D=!1));!D||r!=No&&r!=rp||(w=Rj[t.index-16],t.index-16==ak&&(H.i.da(P),H.ka.da(P),H.Ha.da(P)),T?(W("this crop is free to delete, "+G.toString()+" refunded and no delete token used",eq,1624770609),H.Hc--):Ha?W("replaced crop with same type, so no ethereal delete token used"):1>t.C?(W("plant was still growing, "+G.toString()+
" refunded and no delete token used",eq,1624770609),H.Hc--):(H.$d++,0<H.Va&&H.Va--,W("deleted ethereal "+w.name+", got back "+G.toString()+", used 1 ethereal deletion token, "+H.Va+" tokens left")),t.index=0,t.C=0,im(H),H.i.o(G),e=!0);!D||r!=Lo&&r!=rp||(w=u.Y,I=w.D(),W("planted ethereal "+w.name+". Consumed: "+I.toString()+". Next costs: "+w.D(1)),H.Hc++,H.i.da(I),t.index=w.index+16,t.C=0,t.td=!0,t.index-16==ak&&(e=Il(ak).sub(Il()),H.i.o(e),H.ka.o(e),H.Ha.o(e)),t.index-16==ck&&(e=Il(ck).sub(Il()),
H.i.o(e),H.ka.o(e),H.Ha.o(e)),w.index!=ek||H.S[0]||(H.S[0]=1,W("Automation of choice upgrades unlocked!",Nj,1067714398)),im(H),e=!0)}else if(r==Go)H.ya&&H.Wa==u.x&&H.Xa==u.y&&(H.Ob++,H.$c++,t=H.Pd,1==H.ya?W("That fern gave: "+t.toString(),bq,989456955,.5,!0):(t=t.m(5),W("This fern is extra bushy! It gave "+t.toString(),bq,989456955,1,!0)),y.o(t),H.Nc=H.time,H.ya=0,B=!0,0==H.Kf&&H.i.add(t).l.Ne(10)&&W("You have enough resources to plant. Click an empty field to plant",Lh,64721),e=!0);else if(r==uo){w=
u.Xc;t=H.time-H.Pa;u=H.time-H.Ta;I=H.time-H.Ra;D=!1;if(t<Ef()||u<Df()||I<Ff())D=!0;0==w?H.h[Uf].count&&(t<wf(1080)?W(t<Ef()?"mist is already active":"mist is not ready yet",Mo,0,0):D?W("there already is an active weather ability",Mo,0,0):(H.Pa=H.time,W("mist activated, mushrooms produce more spores, consume less seeds, and aren't affected by winter"),e=!0,H.jc++,H.ld++)):1==w?H.h[Vf].count&&(u<wf(720)?W(u<Df()?"sun is already active":"sun is not ready yet",Mo,0,0):D?W("there already is an active weather ability",
Mo,0,0):(H.Ta=H.time,W("sun activated, berries get a boost and aren't affected by winter"),e=!0,H.jc++,H.ld++)):2==w&&H.h[Wf].count&&(I<wf(1440)?W(I<Ff()?"rainbow is already active":"rainbow is not ready yet",Mo,0,0):D?W("there already is an active weather ability",Mo,0,0):(H.Ra=H.time,W("rainbow activated, flowers get a boost and aren't affected by winter"),e=!0,H.jc++,H.ld++))}else if(r==kr){t=u.Ab;if(void 0!=u.yg){if(w=u.yg,u=t.slot,D=!0,100>w&&100<=u&&H.I.length>=H.pa?(D=!1,W("stored fruits already full, move one out of there to sacrificial pool first to make room")):
100>w&&w>=H.pa&&(D=!1),D){if(100>u){for(;u+1<H.I.length;u++)H.I[u]=H.I[u+1],H.I[u]&&(H.I[u].slot=u);H.I.length--}else{for(u-=100;u+1<H.L.length;u++)H.L[u]=H.L[u+1],H.L[u]&&(H.L[u].slot=u);H.L.length--}if(100>w){for(;w>H.I.length;)w--;for(u=H.I.length;u>w;u--)H.I[u]=H.I[u-1],H.I[u]&&(H.I[u].slot=u);H.I[w]=t}else{for(I=w-100;I>H.L.length;)I--;for(u=H.L.length;u>I;u--)H.L[u]=H.L[u-1],H.L[u]&&(H.L[u].slot=u);H.L[I]=t}t.slot=w}}else u=u.slot,u!=(100>t.slot?0:1)&&(0==u?H.I.length>=H.pa?W("stored slots already full",
Mo,0,0):(u=H.I.length,km(t.slot,void 0),km(u,t)):1==u&&(u=100+H.L.length,km(t.slot,void 0),km(u,t)));Oo()}else if(r==hr){t=u.Ab;r=u.index;w=t.O[r];I=sl(t.ha[r],t.H).R;G=H.i.R.sub(t.R);if(!rl(w))if(u.shift){G.Ba(.25);for(D=0;G.Ff(I)&&!(t.R.o(I),t.ha[r]++,e=!0,H.Bc++,H.Ud++,G.da(I),I=sl(t.ha[r],t.H).R,D++,1E3<D););0<D&&W("Fruit ability "+eg(w)+" leveled up "+D+" times to level "+t.ha[r])}else G.ia(I)?W("not enough essence for fruit upgrade: need "+I.toString()+", available for this fruit: "+G.toString(),
Mo,0,0):(t.R.o(I),t.ha[r]++,W("Fruit ability "+eg(w)+" leveled up to level "+t.ha[r]),e=!0,H.Bc++,H.Ud++);Oo()}else if(r==ir)t=u.Ab,w=u.index,u=u.Ig,I=ul(t.H),D=!0,u&&0>=w&&(D=!1),!u&&w+1>=I&&(D=!1),D&&(u=w+(u?-1:1),I=t.O[w],t.O[w]=t.O[u],t.O[u]=I,I=t.ha[w],t.ha[w]=t.ha[u],t.ha[u]=I,I=t.na[w],t.na[w]=t.na[u],t.na[u]=I,Oo());else if(r==fr){if(w=u.gg,u=u.f,t=wl(w,u))t.slot=w.slot,100>t.slot?H.I[t.slot]=t:H.L[t.slot-100]=t,km(u.slot,null),H.Kd++,H.xf++,e=!0,Np=t,Oo()}else if(r==So)0==u.wb&&(H.yc=u.sb),
4==u.wb&&(H.Jb=u.sb),1==u.wb&&(H.ec=u.sb),2==u.wb&&(H.cc=u.sb),3==u.wb&&(H.xc=u.sb),u.Ia&&u.Ia(),e=!0;else if(r==Wo&&(!u.challenge||H.P[u.challenge].c)&&(H.g>=yl||H.challenge)){a=u;e=!0;break}}e&&d&&Sr(d);En();Ta=R();for(u=0;u<H.u;u++)for(I=0;I<H.s;I++)t=H.B[u][I],16<=t.index&&!kg(t).Za?(D=lg[u][I],w=kg(t),r=R(),w.type==lf||H.challenge==Mf?(w=(r=w.type==lf)?w.ta():120,G=x/w,t.C-=G,0>=t.C&&(t.C=0,t.index=r&&2<=D.Fg?Sl:0),r=D.Qa):(0==w.ta()&&(t.C=1),1>t.C?(G=x/w.ta(),t.C+=G,1<=t.C&&(t.C=1,H.challenge!=
Mf&&(H.Vd++,H.kc++),H.Tb[1]&&(w.type==gf?z.getTime()>Cs+5&&(fb(2E3),Cs=z.getTime()):w.type==hf?z.getTime()>Ds+5&&(fb(1800),Ds=z.getTime()):z.getTime()>Es+5&&(fb(2200),Es=z.getTime()))),r=D.Qa.m(t.C)):r=D.Qa),Ta.o(r),y.o(r.m(x))):Ul(t)&&(t.C=1);for(u=0;u<H.ba;u++)for(I=0;I<H.ca;I++)t=H.$[u][I],jg(t)&&(w=Rj[t.index-16],1>t.C&&(0==w.ta()?t.C=1:(G=x/w.ta(),t.C+=G,1<=t.C&&(t.C=1,H.Wd++,1==H.Wd&&W("your first ethereal plant in the ethereal field has fullgrown! It provides a bonus to your basic field.",
Lh,126850492)))));x=!1;t=0;H.ya||B||(B=H.i.l,t=0,t=L(B,0)&&Ta.empty()?H.challenge?1:0:Xa(B,15)?0<H.aa?5:1:Xa(B,150)?10:Xa(B,1500)?60:120,1==H.h[Ji].count&&(t+=420),H.time>H.Nc+t&&(x=!0),t*=.25);if(x&&(x=gs())){B=t*(js()+.5);2==H.h[Ji].count&&(B*=1.25);G=Ta.m(B);Xa(G.l,2)&&(G.l=Math.max(G.l,v(2*js()+1)));t=new R({l:G.l,v:G.v});H.Pd=t;H.ya=1;H.Wa=x[0];H.Xa=x[1];if(3==H.Ob||7<H.Ob&&.1>js())H.ya=2;H.Tb[0]&&fb(1E3)}t=Al();H.time>H.ud+.5&&H.i.Oa(t)&&(x=v(0),B=v(0),u=!0,H.challenge&&!Ij[H.challenge].wc&&
(u=!1),H.challenge&&!Ij[H.challenge].xb&&H.g>H.Na&&(u=!1),u&&(2==ig()&&W("Autumn twigs bonus: "+Q(yd(Gl(),1))),B=Fl(void 0).F,H.F.o(B)),H.g++,H.ud=H.time,g++,u=!0,H.challenge&&!Ij[H.challenge].Yc&&(u=!1),H.challenge&&!Ij[H.challenge].xb&&H.g>H.Na&&(u=!1),u&&(x=Dl(H.g,void 0),3==ig()&&W("Winter resin bonus: "+Q(yd(El(),1))),H.j.o(x)),H.i.da(t),H.Na=Math.max(H.g,H.Na),w="Tree leveled up to: "+ld[lj(H.g)][0]+", level "+H.g+". Consumed: "+t.toString()+". Tree boost: "+Q(mg()),!L(x,0)&&(w+=". Resin added: "+
x.toString()+". Total resin ready: "+mm().toString()),!L(B,0)&&(w+=". Twigs from mistletoe added: "+B.toString()),9==H.g&&(w+=". The tree is almost an adult tree now."),W(w,bq,109168563),B=void 0,2==H.g?Mj(12):3==H.g?ur(-13,void 0,"The tree reached level "+H.g+' and is providing a choice, see the new upgrade that provides two choices under "upgrades".'):4==H.g?Mj(14):6==H.g?Mj(15):8==H.g&&ur(-16,void 0,"The tree reached level "+H.g+' and is providing another choice, see the new upgrade that provides two choices under "upgrades".'),
5==H.g%10&&(!H.challenge||Ij[H.challenge].te&&10<=H.g&&(Ij[H.challenge].xb||H.g<=H.Na))&&(5==H.g&&Mj(2),15==H.g&&Mj(18),B=ls()),10==H.g&&H.challenge&&Ij[H.challenge].te&&(B=ls(),W("The tree dropped the level 5 fruit at level 10 during this challenge",bq,1340887270)),1==H.g?Mj(6):H.g==yl&&Mj(7),H.challenge&&H.g==Ij[H.challenge].T[0]&&(w=Ij[H.challenge],x=H.P[H.challenge],0==x.fb||H.xa<x.fb)&&(x.fb=H.xa),H.challenge&&H.g==Ij[H.challenge].xd()&&(w=Ij[H.challenge],x=H.P[H.challenge],w.Bb()||$o(),Mj(26),
1<w.T.length&&H.g>=w.dh()&&(0==x.zb||H.xa<x.zb)&&(x.zb=H.xa)),B&&W("fruit dropped: "+B.toString()+". "+B.Hd(),bq,1284767498));0<H.aa&&(x=Hl(),H.i.Oa(x)&&(H.K++,w="Ethereal tree leveled up to: "+ld[lj(H.K)][0]+", level "+H.K+". Consumed: "+x.toString(),w+=". Higher ethereal tree levels can unlock more ethereal upgrades and ethereal crops",H.i.da(x),W(w,cq,48352772),1<=H.K&&Mj(22)),1<=H.K&&al(hk),2<=H.K&&(al(pk),al(ck)),3<=H.K&&(al(kk),al(mk)),4<=H.K&&(al(ik),al(rk)));H.i.o(y);for(u=0;u<Gh.length;u++)w=
Gh[u],t=U[w],x=H.h[w],x.c&&H.challenge==Ej&&t.Mc&&t.index!=Gi&&(x.c=!1),x.c||H.challenge==vf&&!t.sd||H.challenge==Fj&&t.fe||H.challenge==Ej&&t.Mc&&t.index!=Gi||w==xi&&H.challenge&&!Ij[H.challenge].wc||!t.ef()||(x.c?W('Received: "'+t.Pb()+'"',dq,2043573365):(x.c=!0,H.ed++,H.Cf++,1==H.ed&&Mj(8),W('Upgrade available: "'+t.Pb()+'"',dq,193917138)));if(0<H.aa&&0<H.Hc){x=0==H.be;for(u=B=0;u<Hk.length;u++)w=Hk[u],!H.N[w].c&&Ik[w].ef()&&(H.N[w].c=!0,H.be++,B++,W('Ethereal upgrade available: "'+Ik[w].Pb()+
'"',cq,833862648));B&&x&&Mj(9)}for(u=0;u<Ri.length;u++)w=Ri[u],!H.Db[w].Aa&&Si[w].lg()&&(H.md++,H.Db[w].Aa=!0,W("Achievement unlocked: "+ha(Si[w].name),dq,34776048,.75),Pp(),Eq(w),1==H.md&&ur(-11,void 0,'You got your first achievement! Achievements give a slight production boost. See the "achievements" tab.'));if(0<H.aa)for(u=0;u<Hj.length;u++)w=Ij[Hj[u]],x=H.P[Hj[u]],!x.c&&w.zg()&&(x.c=!0,W("Unlocked challenge: "+ha(w.name),dq,66240736,.75),Mj(24));n&&1==f&&(Bs=R(Ta));H.ka.o(y);H.Ha.o(y);H.mb=Se(H.mb,
H.i);H.ic=Se(H.ic,H.i);H.kd=Se(H.kd,Ta);H.hc=Se(H.hc,Ta);n=om();y=pm();n.X(H.Mb.j)&&(H.Mb.j=n,H.mc.j=v(H.g),n.X(H.od.j)&&(H.od.j=n,H.Ke.j=v(H.g)));y.X(H.Mb.F)&&(H.Mb.F=y,H.mc.F=v(H.g),y.X(H.od.F)&&(H.od.F=y,H.Ke.F=v(H.g)));im(H)}for(u=0;u<H.u;u++)for(I=0;I<H.s;I++)op(I,u);for(u=0;u<H.ba;u++)for(I=0;I<H.ca;I++)yp(I,u);0==H.Zd&&W("You need to gather some resources. Click a fern to get some.",Lh,5646478);0==H.bd&&H.challenge==vf&&Mj(25);H.Zd++;H.bd++;var va=z.getTime();va>es+180&&Fs()&&(H.uf++,Sn(function(){va>
Math.max(H.Pe,Math.max(H.Sd,H.Td))+172800?(W('Auto-saved state locally. Reminder: make a manual savegame backup or risk losing everything. Use "export save" under settings.',Cn,0,0),H.Pe=z.getTime()):H.wd[0]&&W("Auto-saved state locally",$p,0,0)}),es=va);d=H.fa-m;300<d&&(l=H.i.sub(l),P="",1<f&&(P=". The season changed "+f+" times"),e="",0<g&&(e=". The tree leveled up "+g+" times"),k||W("Large time delta: "+z.J(d,!0,4,!0)+", gained at once: "+l.toString()+P+e,$p,0,0));1==h&&(g="",Bs&&(g=". Income before: "+
Bs.toString()+". Income now: "+Ta.toString()),W("The season changed to "+ef[ig()]+g,bq,17843969,.75));0<f&&(h=Hf(),g=4*Hf(),H.Me++,f*=h,H.Va+f>g&&(f=g-H.Va),H.Va+=f,H.Ge+=f,0<f&&0<H.aa&&W("Received "+f+" ethereal deletion tokens",cq,510324665));a&&bs(a.challenge);rq();Rq();Zq();Mn();so();Rn();Ja&&Ja();ta&&(ta(),0==ua&&(ta=void 0));gq();for(u=0;u<zs.length;u++)zs[u]()||(zs.splice(u,1),u--);cs();b&&window.setTimeout(X,.4*ea)}}var Gs=void 0,kp,Eo=-1,Fo=-1,ip;
function Hs(){ip=!1;Gs&&(Ea(Gs),Gs=void 0)}
function jp(a){Hs();var b=Is,d=Js;if(b||d){var e=0<=a?V[a]:void 0;ip=!0;kp=a;a=Eo;var f=Fo;var g=0>a||0>f||void 0==a||void 0==f?new dl(void 0,void 0,!1):H.B[f][a];a=!jg(g);f=jg(g)&&d&&!b&&H.wa;var k=jg(g)&&b&&!d&&H.wa,h=jg(g)&&b&&d&&H.wa&&kg(g).H<H.rb[kg(g).type];h&&(e=zg[kg(g).type][H.rb[kg(g).type]]);var l=jg(g)&&b&&d&&(!H.wa||kg(g).H>=H.rb[kg(g).type]);l&&(e=kg(g));if(a||f||k||h||l){var m=b?d?"Shift+ctrl":"Shift":"Ctrl",p=a?"planting":f?"deleting":k?"replacing":l?"selecting":"upgrading";Gs=new E(Ca,
.2,.85,.8,.95,.5);Gs.a.style.backgroundColor=a?"#dfd":f?"#fdd":"#ffd";Gs.a.style.zIndex=100;var q=new E(Gs,[0,0],[.5,-.35],.99,[.5,.35],.4);q.a.style.color="#000";la(q.a);if(f)b=kg(g).D(-1).m(.33),q.a.b.innerHTML=m+"+"+p+"<br><br>recoup: "+b.toString();else if(e){b=new E(Gs,.01,[.5,-.35],[0,.7],[.5,.35]);b=sb("0%","0%","100%","100%",b.a);tb(e.image[4],b);var n=function(){var x=R(0);jg(g)&&(x=kg(g).D(-1).m(1));x=e.D().sub(x);var y=x.ua(H.i);q.a.b.innerHTML=m+"+"+p+"<br>"+ha(e.name)+"<br>"+(y?"":'<font color="#888">')+
"Cost: "+x+" ("+Ra(x)+")"+(y?"":"</font>")};n();Uo(function(){if(!Is&&!Js||!ip)return!1;n();return!0})}else q.a.b.innerHTML=m+"+"+p+"<br><br>none set";C(Gs.a,Hs)}}}var Ks=void 0,xp,Jo=-1,Ko=-1,vp;function Ls(){vp=!1;Ks&&(Ea(Ks),Ks=void 0)}
function wp(a){var b=Is,d=Js;if(b||d)if(!b||!d){Ls();var e=0<=a?Rj[a]:void 0;vp=!0;xp=a;a=Jo;var f=Ko;a=0>a||0>f||void 0==a||void 0==f?new dl(void 0,void 0,!0):H.$[f][a];f=!jg(a);var g=jg(a)&&d&&!b&&H.wa;(d=jg(a)&&b&&!d&&H.wa)&&kg(a).index==H.za&&(d=!1);if(f||g||d){b=b?"Shift":"Ctrl";d=f?"planting":g?"deleting":"replacing";Ks=new E(Ca,.25,.85,.75,.95,.5);Ks.a.style.backgroundColor=f?"#dfd":g?"#fdd":"#ffd";Ks.a.style.zIndex=100;f=new E(Ks,[0,0],[.5,-.35],.99,[.5,.35],.5);f.a.style.color="#000";la(f.a);
if(g)g=kg(a).D(-1).m(1),f.a.b.innerHTML=b+"+"+d+"<br><br>recoup: "+g.toString();else if(e){g=R(0);jg(a)&&(g=kg(a).D(-1).m(1));a=e.D().sub(g);g=a.ua(H.i);var k=new E(Ks,.01,[.5,-.35],[0,.7],[.5,.35]);k=sb("0%","0%","100%","100%",k.a);tb(e.image[4],k);f.a.b.innerHTML=b+"+"+d+"<br>"+ha(e.name)+"<br>"+(g?"":'<font color="#888">')+"Cost: "+a+(g?"":"</font>")}else f.a.b.innerHTML=b+"+"+d+"<br><br>none set";C(Ks.a,Ls)}}}var Is=!1,Js=!1;
function Ms(){if(H.Fa==Co&&0==ua){var a=Is?H.la:uh;jp(a)}H.Fa==Ho&&0==ua&&(a=H.za,wp(a))}document.addEventListener("keydown",function(a){if("Shift"==a.key||"Control"==a.key||"Meta"==a.key){"Shift"==a.key&&(Is=!0);if("Control"==a.key||"Meta"==a.key)Js=!0;Ms();Aa()}});document.addEventListener("keyup",function(a){if("Shift"==a.key||"Control"==a.key||"Meta"==a.key){"Shift"==a.key&&(Is=!1);if("Control"==a.key||"Meta"==a.key)Js=!1;Is||Js?Ms():(Hs(),Ls())}});
window.addEventListener("blur",function(){Js=Is=!1;Hs();Ls()});function Ns(a){for(var b=[],d=0;d<a.length;d++)b[d]=tm[a[d]];for(d=0;3>d;d++){a=b;var e=d,f=a.length,g=f>>1,k=f+1>>1;e++;for(var h=0;h<f;h++)a[h]^=e&63,e>>=1;for(h=1;h<a.length;h++)a[h]=a[h]+a[h-1]&63;for(h=a.length-1;0<h;h--)a[h-1]=a[h-1]+a[h]&63;for(h=0;h<f;h++)a[h]=(a[h]<<1|a[h]>>5)&63;e=[];for(h=0;h<g;h++)e[2*h]=a[h],e[2*h+1]=a[h+g];f&1&&(e[f-1]=a[f-1]);for(h=0;h<f;h++)a[h]=e[h];for(h=0;h<k;h++){g=2*h;if(g>=f)break;e=(2*h+1)%f;if((a[g]&1)==(a[e]&1)){var l=a[g];a[g]=a[e];a[e]=l}}}a="";for(d=0;d<
b.length;d++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[d]];return a}var Os=An;An=function(a){a=Ns(a);return Ns(Os(a))};function Ps(a,b){if(!a&&!b)return!0;if(void 0!=a.l){if(a.ob(b))return!0;a=Le(a);b=Le(b);if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(!Ps(a[d],b[d]))return!1}else if(void 0!=a.f){if(!Ps(a.f,b.f)||!Ps(a.e,b.e))return!1}else return isNaN(a)&&isNaN(b)?!0:a==b;return!0}
function Qs(a,b){return Ps(a.i,b.i)&&Ps(a.s,b.s)&&Ps(a.u,b.u)&&Ps(a.ca,b.ca)&&Ps(a.ba,b.ba)&&Ps(a.fa,b.fa)&&Ps(a.lb,b.lb)&&Ps(a.pa,b.pa)&&Ps(a.g,b.g)&&Ps(a.K,b.K)&&Ps(a.challenge,b.challenge)&&Ps(a.$a,b.$a)&&Ps(a.j,b.j)&&Ps(a.F,b.F)?!0:!1}function Rs(a,b){b.i=z.clone(a.i);b.s=a.s;b.u=a.u;b.ca=a.ca;b.ba=a.ba;b.fa=a.fa;b.lb=a.lb;b.pa=a.pa;b.g=a.g;b.K=a.K;b.challenge=a.challenge;b.$a=a.$a;b.j=a.j;b.F=a.F}var Ss,Ts;fs=function(){Qs(H,Ss)&&Qs(H,Ts)||Qs(Ss,Ts)&&Rs(Ss,H);return!0};
cs=function(){im(H);Ss={};Rs(H,Ss);Ts={};Rs(H,Ts)};function Us(a){Xr?a():window.setTimeout(a)}var Vs=Dn;Dn=function(a){Ss={};Rs(a,Ss);Ts={};Rs(a,Ts);Vs(a)};function Ws(a,b,d){a?b&&b(a):d&&d()}function Xs(a,b,d){a=yn(a);Us(A(Ws,a,b,d))}Fn=function(a,b,d){a.ke=$d;a.precision=ae;Us(A(Xs,a,b,d))};function Ys(a,b,d){a&&!a.Bg?(Dn(a),b&&b(a)):d&&d(a)}function Zs(a,b,d){a=Bn(a);Us(A(Ys,a,b,d))}Gn=function(a,b,d){Us(A(Zs,a,b,d))};window.onbeforeunload=function(){var a=Us;Us=function(b){b()};Sn();Us=a};var zn=4160,$s=0;function Vn(){var a=""+(zn>>12)/10;1==a.length&&(a+=".0");var b=""+(zn&4095);1==$s&&(b+="b");2==$s&&(b+="c");3==$s&&(b+="d");4==$s&&(b+="e");return a+"."+b}document.title="Ethereal Farm v"+Vn();W("Welcome to Ethereal Farm v"+Vn(),Cn,0,0);var ea=333;function at(){io();X();z.mh(function(){X(!0)})}
(function(a,b){var d=z.Ja(Ue);d||(d=z.Ja($e));if(d){var e=zn;4<d.length&&vm(d)&&(e=4096*tm[d[2]]+64*tm[d[3]]+tm[d[4]],e<zn&&((e=z.Ja(Xe))&&z.ub(e,Ye),z.ub(d,Xe)));Wr(d);Gn(d,function(f){io();X();a(f);f=z.Ja(We);(!f||!f.length||tm[d[5]]>=tm[f[5]])&&z.ub(d,We)},function(f){if(22<d.length&&vm(d)&&"E"==d[0]&&"F"==d[1]){z.Ja(Ve)||z.ub(d,Ve);for(var g=Xn(),k=0;k<g.length;k++)W(g[k][0]+" : "+g[k][1],$n,0,0);0==g.length&&W("current: "+d,$n,0,0);g="Loading failed. Copy the saves in the dialog for recovery, or else you may lose it forever. If the dialog got closed, refresh to see it again, or copypaste the saves printed above instead, they are the same recovery saves, make sure to copy all (it is scrolled up and to the right).";
f&&4==f.jb&&(g+=" Loading fail reason: parsing format");f&&5==f.jb&&(g+=" Loading fail reason: decompression");f&&6==f.jb&&(g+=" Loading fail reason: checksum mismatch");f&&7==f.jb&&(g+=" Loading fail reason: savegame is from later version than current game version");f&&8==f.jb&&(g+=" Loading fail reason: savegame is from an early preview version of the game and no longer supported");W(g,$n,0,0);Wn(!0);Yn=!0}b(f)})}else b&&b(void 0)})(function(){W("Loaded local save",$p,0,0);at()},function(){Dn(hm());
at()});go=z.Ja($e,"");function Fs(){return Yn?0<H.ae:0<H.aa||0<H.Ob||0<H.md||0<H.Xd||0<H.Yd?!0:!1}var Xr=!1;window.onbeforeunload=function(){Xr=!0;H.Dd&&Fs()&&Sn()};
